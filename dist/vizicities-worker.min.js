!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("THREE")):"function"==typeof define&&define.amd?define(["THREE"],t):"object"==typeof exports?exports.VIZI=t(require("THREE")):e.VIZI=t(e.THREE)}(this,function(__WEBPACK_EXTERNAL_MODULE_18__){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=n(o),s=r(4),a=n(s),u=r(22),l=n(u),c=r(36),f=n(c),p=r(3),d=n(p),h=r(2),v=n(h),y=r(41),g=n(y),_={version:"0.3",Geo:i["default"],Layer:a["default"],layer:s.layer,GeoJSONWorkerLayer:l["default"],geoJSONWorkerLayer:u.geoJSONWorkerLayer,PolygonLayer:f["default"],polygonLayer:c.polygonLayer,Point:d["default"],point:p.point,LatLon:v["default"],latLon:h.latLon,Util:g["default"]};t["default"]=_,e.exports=t["default"]},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(3),i={};i.R=6378137,i.MAX_LATITUDE=85.0511287798,i.ECC=.081819191,i.ECC2=.006694380015894481,i.project=function(e){var t=Math.PI/180,r=i.MAX_LATITUDE,n=Math.max(Math.min(r,e.lat),-r),s=Math.sin(n*t);return(0,o.point)(i.R*e.lon*t,i.R*Math.log((1+s)/(1-s))/2)},i.unproject=function(e){var t=180/Math.PI;return(0,n.latLon)((2*Math.atan(Math.exp(e.y/i.R))-Math.PI/2)*t,e.x*t/i.R)},i.latLonToPoint=function(e){var t=i.project(e);return t.y*=-1,t},i.pointToLatLon=function(e){var t=(0,o.point)(e.x,-1*e.y);return i.unproject(t)},i.pointScale=function(e,t){var r,n=Math.PI/180;if(t){var o=e.lat*n,s=(e.lon*n,i.R),a=Math.sin(o),u=a*a,l=Math.cos(o),c=s*(1-i.ECC2)/Math.pow(1-i.ECC2*u,1.5),f=s/Math.sqrt(1-i.ECC2*u),p=s/c/l;return r=s/f/l,[r,p]}return r=1/Math.cos(e.lat*n),[r,r]},i.metresToProjected=function(e,t){return e*t[1]},i.projectedToMetres=function(e,t){return e/t[1]},i.metresToWorld=function(e,t){var r=i.metresToProjected(e,t),n=i.scale(),o=n*r;return o},i.worldToMetres=function(e,t){var r=i.scale(),n=e/r,o=i.projectedToMetres(n,t);return o},i.scale=function(e){return e>=0?256*Math.pow(2,e):1},i.zoom=function(e){return Math.log(e/256)/Math.LN2},i.distance=function(e,t,r){var n,o,s,a=Math.PI/180;if(r){n=e.lat*a,o=t.lat*a;var u=e.lon*a,l=t.lon*a,c=o-n,f=l-u,p=c/2,d=f/2;s=Math.sin(p)*Math.sin(p)+Math.cos(n)*Math.cos(o)*Math.sin(d)*Math.sin(d);var h=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return i.R*h}return n=e.lat*a,o=t.lat*a,s=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos((t.lon-e.lon)*a),i.R*Math.acos(Math.min(s,1))},i.bounds=function(){var e=i.R*Math.PI;return[[-e,-e],[e,e]]}(),t["default"]=i,e.exports=t["default"]},function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n,o){if(r(this,e),isNaN(t)||isNaN(n))throw new Error("Invalid LatLon object: ("+t+", "+n+")");this.lat=+t,this.lon=+n,void 0!==o&&(this.alt=+o)}return n(e,[{key:"clone",value:function(){return new e(this.lat,this.lon,this.alt)}}]),e}();t["default"]=o;var i=function(e,t,r){return e instanceof o?e:Array.isArray(e)&&"object"!=typeof e[0]?3===e.length?new o(e[0],e[1],e[2]):2===e.length?new o(e[0],e[1]):null:void 0===e||null===e?e:"object"==typeof e&&"lat"in e?new o(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new o(e,t,r)};t.latLon=i},function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n,o){r(this,e),this.x=o?Math.round(t):t,this.y=o?Math.round(n):n}return n(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"add",value:function(e){return this.clone()._add(i(e))}},{key:"_add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"subtract",value:function(e){return this.clone()._subtract(i(e))}},{key:"_subtract",value:function(e){return this.x-=e.x,this.y-=e.y,this}}]),e}();t["default"]=o;var i=function(e,t,r){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):void 0===e||null===e?e:new o(e,t,r)};t.point=i},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,s=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=s,n=!0,a=l=void 0}},u=r(5),l=n(u),c=r(6),f=n(c),p=r(9),d=n(p),h=r(18),v=n(h),y=r(19),g=(n(y),r(20)),_=r(21),m=function(e){function t(e){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r={id:d["default"].generate(),output:!0,outputToScene:!0};this._options=(0,f["default"])({},r,e),this.isOutput()&&(this._object3D=new v["default"].Object3D,this._dom3D=document.createElement("div"),this._domObject3D=new g.CSS3DObject(this._dom3D),this._dom2D=document.createElement("div"),this._domObject2D=new _.CSS2DObject(this._dom2D))}return i(t,e),s(t,[{key:"add",value:function(e){this._object3D.add(e)}},{key:"remove",value:function(e){this._object3D.remove(e)}},{key:"addDOM3D",value:function(e){this._domObject3D.add(e)}},{key:"removeDOM3D",value:function(e){this._domObject3D.remove(e)}},{key:"addDOM2D",value:function(e){this._domObject2D.add(e)}},{key:"removeDOM2D",value:function(e){this._domObject2D.remove(e)}},{key:"addTo",value:function(e){return e.addLayer(this)}},{key:"_addToWorld",value:function(e){var t=this;return this._world=e,new Promise(function(r,n){t._onAdd(e).then(function(){t.emit("added"),r(t)})["catch"](n)})}},{key:"_onAdd",value:function(e){return Promise.resolve(this)}},{key:"getPickingId",value:function(){return this._world._engine._picking?this._world._engine._picking.getNextId():!1}},{key:"addToPicking",value:function(e){this._world._engine._picking&&this._world._engine._picking.add(e)}},{key:"removeFromPicking",value:function(e){this._world._engine._picking&&this._world._engine._picking.remove(e)}},{key:"isOutput",value:function(){return this._options.output}},{key:"isOutputToScene",value:function(){return this._options.outputToScene}},{key:"hide",value:function(){this._object3D.visible=!1,this._pickingMesh&&(this._pickingMesh.visible=!1)}},{key:"show",value:function(){this._object3D.visible=!0,this._pickingMesh&&(this._pickingMesh.visible=!0)}},{key:"destroy",value:function(){if(this._object3D&&this._object3D.children)for(var e,t=this._object3D.children.length-1;t>=0;t--)e=this._object3D.children[t],e&&(this.remove(e),e.geometry&&(e.geometry.dispose(),e.geometry=null),e.material&&(e.material.map&&(e.material.map.dispose(),e.material.map=null),e.material.dispose(),e.material=null));if(this._domObject3D&&this._domObject3D.children)for(var e,t=this._domObject3D.children.length-1;t>=0;t--)e=this._domObject3D.children[t],e&&this.removeDOM3D(e);if(this._domObject2D&&this._domObject2D.children)for(var e,t=this._domObject2D.children.length-1;t>=0;t--)e=this._domObject2D.children[t],e&&this.removeDOM2D(e);this._domObject3D=null,this._domObject2D=null,this._world=null,this._object3D=null}}]),t}(l["default"]);t["default"]=m;var b=function(e){return new m(e)};t.layer=b},function(e,t,r){"use strict";function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(){}var i=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create?"~":!1;o.prototype._events=void 0,o.prototype.eventNames=function(){var e,t=this._events,r=[];if(!t)return r;for(e in t)i.call(t,e)&&r.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(e,t){var r=s?s+e:e,n=this._events&&this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);i>o;o++)a[o]=n[o].fn;return a},o.prototype.emit=function(e,t,r,n,o,i){var a=s?s+e:e;if(!this._events||!this._events[a])return!1;var u,l,c=this._events[a],f=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,o),!0;case 6:return c.fn.call(c.context,t,r,n,o,i),!0}for(l=1,u=new Array(f-1);f>l;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,d=c.length;for(l=0;d>l;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;default:if(!u)for(p=1,u=new Array(f-1);f>p;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(e,t,r){var o=new n(t,r||this),i=s?s+e:e;return this._events||(this._events=s?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.once=function(e,t,r){var o=new n(t,r||this,!0),i=s?s+e:e;return this._events||(this._events=s?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.removeListener=function(e,t,r,n){var o=s?s+e:e;if(!this._events||!this._events[o])return this;var i=this._events[o],a=[];if(t)if(i.fn)(i.fn!==t||n&&!i.once||r&&i.context!==r)&&a.push(i);else for(var u=0,l=i.length;l>u;u++)(i[u].fn!==t||n&&!i[u].once||r&&i[u].context!==r)&&a.push(i[u]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},o.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[s?s+e:e]:this._events=s?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,e.exports=o},function(e,t,r){function n(e,t,r){var n=e[t];w.call(e,t)&&c(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function o(e){return function(t){return null==t?void 0:t[e]}}function i(e,t,r,o){r||(r={});for(var i=-1,s=t.length;++i<s;){var a=t[i],u=o?o(r[a],e[a],a,r,e):e[a];n(r,a,u)}return r}function s(e){return y(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&u(r[0],r[1],s)&&(i=3>o?void 0:i,o=1),t=Object(t);++n<o;){var a=r[n];a&&e(t,a,n,i)}return t})}function a(e,t){return t=null==t?g:t,!!t&&("number"==typeof e||b.test(e))&&e>-1&&e%1==0&&t>e}function u(e,t,r){if(!h(r))return!1;var n=typeof t;return("number"==n?f(r)&&a(t,r.length):"string"==n&&t in r)?c(r[t],e):!1}function l(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||x;return e===r}function c(e,t){return e===t||e!==e&&t!==t}function f(e){return null!=e&&d(P(e))&&!p(e)}function p(e){var t=h(e)?k.call(e):"";return t==_||t==m}function d(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var v=r(7),y=r(8),g=9007199254740991,_="[object Function]",m="[object GeneratorFunction]",b=/^(?:0|[1-9]\d*)$/,x=Object.prototype,w=x.hasOwnProperty,k=x.toString,M=x.propertyIsEnumerable,A=!M.call({valueOf:1},"valueOf"),P=o("length"),j=s(function(e,t){if(A||l(t)||f(t))return void i(t,v(t),e);for(var r in t)w.call(t,r)&&n(e,r,t[r])});e.exports=j},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function n(e,t){return P.call(e,t)||"object"==typeof e&&t in e&&null===s(e)}function o(e){return C(Object(e))}function i(e){return function(t){return null==t?void 0:t[e]}}function s(e){return S(Object(e))}function a(e){var t=e?e.length:void 0;return h(t)&&(T(e)||g(e)||c(e))?r(t,String):null}function u(e,t){return t=null==t?m:t,!!t&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&t>e}function l(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||A;return e===r}function c(e){return p(e)&&P.call(e,"callee")&&(!O.call(e,"callee")||j.call(e)==b)}function f(e){return null!=e&&h(E(e))&&!d(e)}function p(e){return y(e)&&f(e)}function d(e){var t=v(e)?j.call(e):"";return t==x||t==w}function h(e){return"number"==typeof e&&e>-1&&e%1==0&&m>=e}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return!!e&&"object"==typeof e}function g(e){return"string"==typeof e||!T(e)&&y(e)&&j.call(e)==k}function _(e){var t=l(e);if(!t&&!f(e))return o(e);var r=a(e),i=!!r,s=r||[],c=s.length;for(var p in e)!n(e,p)||i&&("length"==p||u(p,c))||t&&"constructor"==p||s.push(p);return s}var m=9007199254740991,b="[object Arguments]",x="[object Function]",w="[object GeneratorFunction]",k="[object String]",M=/^(?:0|[1-9]\d*)$/,A=Object.prototype,P=A.hasOwnProperty,j=A.toString,O=A.propertyIsEnumerable,S=Object.getPrototypeOf,C=Object.keys,E=i("length"),T=Array.isArray;e.exports=_},function(e,t){function r(e,t,r){var n=r.length;switch(n){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){if("function"!=typeof e)throw new TypeError(f);return t=A(void 0===t?e.length-1:l(t),0),function(){for(var n=arguments,o=-1,i=A(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=Array(t+1);for(o=-1;++o<t;)a[o]=n[o];return a[t]=s,r(e,this,a)}}function o(e){var t=i(e)?M.call(e):"";return t==v||t==y}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||s(e)&&M.call(e)==g}function u(e){if(!e)return 0===e?e:0;if(e=c(e),e===p||e===-p){var t=0>e?-1:1;return t*d}return e===e?e:0}function l(e){var t=u(e),r=t%1;return t===t?r?t-r:t:0}function c(e){if("number"==typeof e)return e;if(a(e))return h;if(i(e)){var t=o(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(_,"");var r=b.test(e);return r||x.test(e)?w(e.slice(2),r?2:8):m.test(e)?h:+e}var f="Expected a function",p=1/0,d=1.7976931348623157e308,h=NaN,v="[object Function]",y="[object GeneratorFunction]",g="[object Symbol]",_=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,x=/^0o[0-7]+$/i,w=parseInt,k=Object.prototype,M=k.toString,A=Math.max;e.exports=n},function(e,t,r){"use strict";e.exports=r(10)},function(e,t,r){"use strict";function n(){var e="",t=Math.floor(.001*(Date.now()-d));return t===u?a++:(a=0,u=t),e+=c(l.lookup,h),e+=c(l.lookup,v),a>0&&(e+=c(l.lookup,a)),e+=c(l.lookup,t)}function o(t){return l.seed(t),e.exports}function i(t){return v=t,e.exports}function s(e){return void 0!==e&&l.characters(e),l.shuffled()}var a,u,l=r(11),c=r(13),f=r(15),p=r(16),d=1459707606518,h=6,v=r(17)||0;e.exports=n,e.exports.generate=n,e.exports.seed=o,e.exports.worker=i,e.exports.characters=s,e.exports.decode=f,e.exports.isValid=p},function(e,t,r){"use strict";function n(){p=!1}function o(e){if(!e)return void(c!==h&&(c=h,n()));if(e!==c){if(e.length!==h.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,r){return t!==r.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. These characters were not unique: "+t.join(", "));c=e,n()}}function i(e){return o(e),c}function s(e){d.seed(e),f!==e&&(n(),f=e)}function a(){c||o(h);for(var e,t=c.split(""),r=[],n=d.nextValue();t.length>0;)n=d.nextValue(),e=Math.floor(n*t.length),r.push(t.splice(e,1)[0]);return r.join("")}function u(){return p?p:p=a()}function l(e){var t=u();return t[e]}var c,f,p,d=r(12),h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:i,seed:s,lookup:l,shuffled:u}},function(e,t){"use strict";function r(){return o=(9301*o+49297)%233280,o/233280}function n(e){o=e}var o=1;e.exports={nextValue:r,seed:n}},function(e,t,r){"use strict";function n(e,t){for(var r,n=0,i="";!r;)i+=e(t>>4*n&15|o()),r=t<Math.pow(16,n+1),n++;return i}var o=r(14);e.exports=n},function(e,t){"use strict";function r(){if(!n||!n.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return n.getRandomValues(e),48&e[0]}var n="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=r},function(e,t,r){"use strict";function n(e){var t=o.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var o=r(11);e.exports=n},function(e,t,r){"use strict";function n(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=o.characters(),r=e.length,n=0;r>n;n++)if(-1===t.indexOf(e[n]))return!1;return!0}var o=r(11);e.exports=n},function(e,t){"use strict";e.exports=0},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_18__},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=n(o);t["default"]=function(){var e=new i["default"].Scene;return e}(),e.exports=t["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=n(o),s=function(e){i["default"].Object3D.call(this),this.element=e,this.element.style.position="absolute",this.addEventListener("removed",function(e){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})};s.prototype=Object.create(i["default"].Object3D.prototype),s.prototype.constructor=s;var a=function(e){s.call(this,e)};a.prototype=Object.create(s.prototype),a.prototype.constructor=a;var u=function(){console.log("THREE.CSS3DRenderer",i["default"].REVISION);var e,t,r,n,o=new i["default"].Matrix4,u={camera:{fov:0,style:""},objects:{}},l=document.createElement("div");l.style.overflow="hidden",l.style.WebkitTransformStyle="preserve-3d",l.style.MozTransformStyle="preserve-3d",l.style.oTransformStyle="preserve-3d",l.style.transformStyle="preserve-3d",this.domElement=l;var c=document.createElement("div");c.style.WebkitTransformStyle="preserve-3d",c.style.MozTransformStyle="preserve-3d",c.style.oTransformStyle="preserve-3d",c.style.transformStyle="preserve-3d",l.appendChild(c),this.setClearColor=function(){},this.getSize=function(){return{width:e,height:t}},this.setSize=function(o,i){e=o,t=i,r=e/2,n=t/2,l.style.width=o+"px",l.style.height=i+"px",c.style.width=o+"px",c.style.height=i+"px"};var f=function(e){return Math.abs(e)<Number.EPSILON?0:e},p=function(e){var t=e.elements;return"matrix3d("+f(t[0])+","+f(-t[1])+","+f(t[2])+","+f(t[3])+","+f(t[4])+","+f(-t[5])+","+f(t[6])+","+f(t[7])+","+f(t[8])+","+f(-t[9])+","+f(t[10])+","+f(t[11])+","+f(t[12])+","+f(-t[13])+","+f(t[14])+","+f(t[15])+")"},d=function(e){var t=e.elements;return"translate3d(-50%,-50%,0) matrix3d("+f(t[0])+","+f(t[1])+","+f(t[2])+","+f(t[3])+","+f(-t[4])+","+f(-t[5])+","+f(-t[6])+","+f(-t[7])+","+f(t[8])+","+f(t[9])+","+f(t[10])+","+f(t[11])+","+f(t[12])+","+f(t[13])+","+f(t[14])+","+f(t[15])+")"},h=function v(e,t){if(e instanceof s){var r;e instanceof a?(o.copy(t.matrixWorldInverse),o.transpose(),o.copyPosition(e.matrixWorld),o.scale(e.scale),o.elements[3]=0,o.elements[7]=0,o.elements[11]=0,o.elements[15]=1,r=d(o)):r=d(e.matrixWorld);var n=e.element,i=u.objects[e.id];void 0!==i&&i===r||(n.style.WebkitTransform=r,n.style.MozTransform=r,n.style.oTransform=r,n.style.transform=r,u.objects[e.id]=r),n.parentNode!==c&&c.appendChild(n)}for(var l=0,f=e.children.length;f>l;l++)v(e.children[l],t)};this.render=function(e,o){var s=.5/Math.tan(i["default"].Math.degToRad(.5*o.fov))*t;u.camera.fov!==s&&(l.style.WebkitPerspective=s+"px",l.style.MozPerspective=s+"px",l.style.oPerspective=s+"px",l.style.perspective=s+"px",u.camera.fov=s),e.updateMatrixWorld(),null===o.parent&&o.updateMatrixWorld(),o.matrixWorldInverse.getInverse(o.matrixWorld);var a="translate3d(0,0,"+s+"px)"+p(o.matrixWorldInverse)+" translate3d("+r+"px,"+n+"px, 0)";u.camera.style!==a&&(c.style.WebkitTransform=a,c.style.MozTransform=a,c.style.oTransform=a,c.style.transform=a,u.camera.style=a),h(e,o)}};t.CSS3DObject=s,t.CSS3DSprite=a,t.CSS3DRenderer=u,i["default"].CSS3DObject=s,i["default"].CSS3DSprite=a,i["default"].CSS3DRenderer=u},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=n(o),s=function(e){i["default"].Object3D.call(this),this.element=e,this.element.style.position="absolute",this.addEventListener("removed",function(e){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})};s.prototype=Object.create(i["default"].Object3D.prototype),s.prototype.constructor=s;var a=function(){console.log("THREE.CSS2DRenderer",i["default"].REVISION);var e,t,r,n,o=new i["default"].Vector3,a=new i["default"].Matrix4,u=new i["default"].Matrix4,l=new i["default"].Frustum,c=document.createElement("div");c.style.overflow="hidden",this.domElement=c,this.setSize=function(o,i){e=o,t=i,r=e/2,n=t/2,c.style.width=o+"px",c.style.height=i+"px"};var f=function p(e,t){if(e instanceof s){o.setFromMatrixPosition(e.matrixWorld),o.applyProjection(u);var i=e.element,a="translate(-50%,-50%) translate("+(o.x*r+r)+"px,"+(-o.y*n+n)+"px)";i.style.WebkitTransform=a,i.style.MozTransform=a,i.style.oTransform=a,i.style.transform=a,i.parentNode!==c&&c.appendChild(i),l.containsPoint(e.position)?i.style.display="block":i.style.display="none"}for(var f=0,d=e.children.length;d>f;f++)p(e.children[f],t)};this.render=function(e,t){e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),a.copy(t.matrixWorldInverse.getInverse(t.matrixWorld)),u.multiplyMatrices(t.projectionMatrix,a),l.setFromMatrix((new i["default"].Matrix4).multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse)),f(e,t)}};t.CSS2DObject=s,t.CSS2DRenderer=a,i["default"].CSS2DObject=s,i["default"].CSS2DRenderer=a},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,s=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=s,n=!0,a=l=void 0}},l=r(4),c=n(l),f=r(6),p=n(f),d=r(23),h=n(d),v=r(25),y=n(v),g=r(31),_=n(g),m=r(34),b=n(m),x=r(35),w=n(x),k=r(36),M=n(k),A=r(39),P=n(A),j=r(40),O=n(j),S=r(2),C=(r(3),r(1)),E=n(C),T=r(37),F=(n(T),function(e){function t(e,r){o(this,t);var n={topojson:!1,style:y["default"].defaultStyle,onEachFeature:null,onEachFeatureWorker:null,onAddAttributes:null,interactive:!1,pointGeometry:null,onClick:null,headers:{}},i=(0,p["default"])({},n,r);"object"==typeof r.style&&(i.style=(0,p["default"])({},n.style,r.style)),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i),this._aborted=!1,this._geojson=e}return i(t,e),a(t,[{key:"_onAdd",value:function(e){return this._options.interactive&&(this._pickingMesh=new THREE.Object3D),this._process(this._geojson)}},{key:"_process",value:function(e){var r=this;return new Promise(function(n,o){var i=r._options.style;"function"==typeof r._options.style&&(i=w["default"].functionToString(r._options.style));var s=r._options.pointGeometry;"function"==typeof r._options.pointGeometry&&(s=w["default"].functionToString(r._options.pointGeometry));var a=e,u=[];"string"!=typeof a?(r._geojson=a=b["default"].stringToUint8Array(JSON.stringify(a)),u.push(a.buffer),r._execWorker(a,r._options.topojson,r._world._originPoint,i,r._options.interactive,s,u).then(function(){n()})["catch"](o)):"function"==typeof r._options.filter||"function"==typeof r._options.onEachFeature?t.RequestGeoJSON(a).then(function(e){var t=y["default"].collectFeatures(e,r._options.topojson),l=t.features;if(r._options.filter&&(t.features=l.filter(r._options.filter)),r._options.onEachFeature)for(var c,f=0;f<l.length;f++)c=l[f],r._options.onEachFeature(c);r._geojson=a=b["default"].stringToUint8Array(JSON.stringify(t)),u.push(a.buffer),r._execWorker(a,!1,r._options.headers,r._world._originPoint,i,r._options.interactive,s,u).then(function(){n()})["catch"](o)}):r._execWorker(a,r._options.topojson,r._options.headers,r._world._originPoint,i,r._options.interactive,s,u).then(function(){n()})["catch"](o)})}},{key:"_execWorker",value:function(e,t,r,n,o,i,s,a){var u=this;return new Promise(function(l,c){console.time("Worker round trip"),_["default"].exec("GeoJSONWorkerLayer.Process",[e,t,r,n,o,i,s],a).then(function(e){console.timeEnd("Worker round trip");var t=[];e.polygons&&t.push(u._processPolygonResults(e.polygons)),e.polylines&&t.push(u._processPolylineResults(e.polylines)),e.points&&t.push(u._processPointResults(e.points)),t.length>0?Promise.all(t).then(function(){l()})["catch"](c):l()})})}},{key:"_processPolygonResults",value:function(e){var t=this;return new Promise(function(r,n){var o,i,a=b["default"].splitFloat32Array(e.attributes.positions),u=b["default"].splitFloat32Array(e.attributes.normals),l=b["default"].splitFloat32Array(e.attributes.colors),c=b["default"].splitFloat32Array(e.attributes.tops);e.outlineAttributes&&(o=b["default"].splitFloat32Array(e.outlineAttributes.positions),i=b["default"].splitFloat32Array(e.outlineAttributes.colors));var f;e.properties&&(f=b["default"].splitUint8Array(e.properties));for(var d,h,v,g,_=e.flats,m=[],x=[],w={positions:3,normals:3,colors:3,tops:1},k={positions:3,colors:3},M=0;M<a.length;M++){if(g=f&&f[M]?JSON.parse(b["default"].uint8ArrayToString(f[M])):{},d={attributes:[{positions:a[M],normals:u[M],colors:l[M],tops:c[M]}],properties:g,flat:_[M]},t._options.interactive&&(h=t.getPickingId(),v=new Float32Array(a[M].length/3),v.fill(h),d.attributes[0].pickingIds=v,w.pickingIds=1,t._addPicking(h,g)),"function"==typeof t._options.onAddAttributes){var A,P=t._options.onAddAttributes(d.attributes[0],g);for(var j in P)A=P[j],d.attributes[0][j]=A.value,w[j]=A.length}m.push(d)}for(var M=0;M<o.length;M++)d={attributes:[{positions:o[M],colors:i[M]}],flat:!0},x.push(d);for(var O=[],S=[],C=!0,M=0;M<m.length;M++){d=m[M],C&&d.flat===!1&&(C=!1);var E=b["default"].mergeAttributes(d.attributes);O.push(E)}for(var M=0;M<x.length;M++){d=x[M];var E=b["default"].mergeAttributes(d.attributes);S.push(E)}var T,F=[];if(O.length>0){var D=b["default"].mergeAttributes(O);T="function"==typeof t._options.style?t._options.style(m[0]):t._options.style,T=(0,p["default"])({},y["default"].defaultStyle,T),F.push(t._setPolygonMesh(D,w,T,C))}if(S.length>0){var I=b["default"].mergeAttributes(S);T="function"==typeof t._options.style?t._options.style(m[0]):t._options.style,T=(0,p["default"])({},y["default"].defaultStyle,T),void 0!==T.outlineRenderOrder?T.lineRenderOrder=T.outlineRenderOrder:T.lineRenderOrder=T.renderOrder?T.renderOrder+1:4,T.outlineWidth&&(T.lineWidth=T.outlineWidth),F.push(t._setPolylineMesh(I,k,T,!0))}Promise.all(F).then(function(e){var n=s(e,2),o=n[0],i=n[1];o&&(t._polygonMesh=o.mesh,t.add(t._polygonMesh),o.pickingMesh&&t._pickingMesh.add(o.pickingMesh)),i&&t.add(i.mesh),r()})["catch"](n)})}},{key:"_processPolylineResults",value:function(e){var t=this;return new Promise(function(r,n){var o,i=b["default"].splitFloat32Array(e.attributes.positions),s=b["default"].splitFloat32Array(e.attributes.colors);e.properties&&(o=b["default"].splitUint8Array(e.properties));for(var a,u,l,c,f=e.flats,d=[],h={positions:3,colors:3},v=0;v<i.length;v++){if(c=o&&o[v]?JSON.parse(b["default"].uint8ArrayToString(o[v])):{},a={attributes:[{positions:i[v],colors:s[v]}],properties:c,flat:f[v]},t._options.interactive&&(u=t.getPickingId(),l=new Float32Array(i[v].length/3),l.fill(u),a.attributes[0].pickingIds=l,h.pickingIds=1,t._addPicking(u,c)),"function"==typeof t._options.onAddAttributes){var g,_=t._options.onAddAttributes(a.attributes[0],c);for(var m in _)g=_[m],a.attributes[0][m]=g.value,h[m]=g.length}d.push(a)}for(var x=[],w=!0,v=0;v<d.length;v++){a=d[v],w&&!a.flat&&(w=!1);var k=b["default"].mergeAttributes(a.attributes);x.push(k)}if(x.length>0){var M=b["default"].mergeAttributes(x),A="function"==typeof t._options.style?t._options.style(d[0]):t._options.style;A=(0,p["default"])({},y["default"].defaultStyle,A),t._setPolylineMesh(M,h,A,w).then(function(e){t._polylineMesh=e.mesh,t.add(t._polylineMesh),e.pickingMesh&&t._pickingMesh.add(e.pickingMesh),r()})["catch"](n)}else r()})}},{key:"_processPointResults",value:function(e){var t=this;return new Promise(function(r,n){var o,i=b["default"].splitFloat32Array(e.attributes.positions),s=b["default"].splitFloat32Array(e.attributes.normals),a=b["default"].splitFloat32Array(e.attributes.colors);e.properties&&(o=b["default"].splitUint8Array(e.properties));for(var u,l,c,f,d=e.flats,h=[],v={positions:3,normals:3,colors:3},g=0;g<i.length;g++){if(f=o&&o[g]?JSON.parse(b["default"].uint8ArrayToString(o[g])):{},u={attributes:[{positions:i[g],normals:s[g],colors:a[g]}],properties:f,flat:d[g]},t._options.interactive&&(l=t.getPickingId(),c=new Float32Array(i[g].length/3),c.fill(l),u.attributes[0].pickingIds=c,v.pickingIds=1,t._addPicking(l,f)),"function"==typeof t._options.onAddAttributes){var _,m=t._options.onAddAttributes(u.attributes[0],f);for(var x in m)_=m[x],u.attributes[0][x]=_.value,v[x]=_.length}h.push(u)}for(var w=[],k=!0,g=0;g<h.length;g++){u=h[g],k&&!u.flat&&(k=!1);var M=b["default"].mergeAttributes(u.attributes);w.push(M)}if(w.length>0){var A=b["default"].mergeAttributes(w),P="function"==typeof t._options.style?t._options.style(h[0]):t._options.style;P=(0,p["default"])({},y["default"].defaultStyle,P),t._setPointMesh(A,v,P,k).then(function(e){
t._pointMesh=e.mesh,t.add(t._pointMesh),e.pickingMesh&&t._pickingMesh.add(e.pickingMesh),r()})["catch"](n)}else r()})}},{key:"_setPolygonMesh",value:function(e,t,r,n){return this._world?M["default"].SetMesh(e,t,n,r,this._options,this._world._environment._skybox):Promise.reject()}},{key:"_setPolylineMesh",value:function(e,t,r,n){return this._world?P["default"].SetMesh(e,t,n,r,this._options):Promise.reject()}},{key:"_setPointMesh",value:function(e,t,r,n){return this._world?O["default"].SetMesh(e,t,n,r,this._options,this._world._environment._skybox):Promise.reject()}},{key:"_addPicking",value:function(e,t){var r=this;this._world.on("pick-click-"+e,function(e,n,o,i){r._world.emit("click",r,t,n,o)}),this._world.on("pick-hover-"+e,function(e,n,o,i){r._world.emit("hover",r,t,n,o)})}},{key:"destroy",value:function(){u(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}],[{key:"Process",value:function(e,r,n,o,i,s,a){return new Promise(function(u,l){t.ProcessGeoJSON(e,n).then(function(e){var n,l=y["default"].collectFeatures(e,r),c=l.features,f=[],d=[],h=[];"string"==typeof i&&(i=w["default"].stringToFunction(i));var v,g=i;"string"==typeof a&&(v=w["default"].stringToFunction(a));for(var _,m=0;m<c.length;m++){_=c[m];var b=_.geometry,x=b.coordinates?b.coordinates:null;if(!x||!b)return;if("function"==typeof i&&(g=(0,p["default"])({},y["default"].defaultStyle,i(_))),"Polygon"===b.type||"MultiPolygon"===b.type){x=M["default"].isSingle(x)?[x]:x;var k,A=x.map(function(e){return e.map(function(e){return e.map(function(e){return(0,S.latLon)(e[1],e[0])})})}),j=A.map(function(e){return e.map(function(e){return e.map(function(e){return k=E["default"].latLonToPoint(e)._subtract(o),n||(n=E["default"].pointScale(e)),k})})}),C={projected:j,options:{pointScale:n,style:g}};s&&(C.properties=_.properties),f.push(C)}if("LineString"===b.type||"MultiLineString"===b.type){x=P["default"].isSingle(x)?[x]:x;var k,A=x.map(function(e){return e.map(function(e){return(0,S.latLon)(e[1],e[0])})}),j=A.map(function(e){return e.map(function(e){return k=E["default"].latLonToPoint(e)._subtract(o),n||(n=E["default"].pointScale(e)),k})}),T={projected:j,options:{pointScale:n,style:g}};s&&(T.properties=_.properties),d.push(T)}if("Point"===b.type||"MultiPoint"===b.type){x=O["default"].isSingle(x)?[x]:x;var k,A=x.map(function(e){return(0,S.latLon)(e[1],e[0])}),j=A.map(function(e){return k=E["default"].latLonToPoint(e)._subtract(o),n||(n=E["default"].pointScale(e)),k}),k={projected:j,options:{pointGeometry:v(_),pointScale:n,style:g}};s&&(k.properties=_.properties),h.push(k)}}for(var C,F=[],D=[],I=[],m=0;m<f.length;m++)C=f[m],F.push(M["default"].SetBufferAttributes(C.projected,C.options));for(var T,m=0;m<d.length;m++)T=d[m],D.push(P["default"].SetBufferAttributes(T.projected,T.options));for(var k,m=0;m<h.length;m++)k=h[m],I.push(O["default"].SetBufferAttributes(k.projected,k.options));var R={},L=[];t.ProcessPolygons(F,f,s).then(function(e){R.polygons=e.data,L=L.concat(e.transferrables),t.ProcessPolylines(D,d,s).then(function(e){R.polylines=e.data,L=L.concat(e.transferrables),t.ProcessPoints(I,h,s).then(function(e){R.points=e.data,L=L.concat(e.transferrables),u({data:R,transferrables:L})})})})})})}},{key:"ProcessPolygons",value:function(e,t,r){return new Promise(function(n,o){Promise.all(e).then(function(e){for(var o,i,s=[],a=[],u=[],l=[],c=[],f=[],p=[],d=[],h=[],v=0;v<e.length;v++){i=e[v],o=t[v],h.push(i.flat);for(var y,g=0;g<i.attributes.length;g++)y=i.attributes[g],a.push(y.positions),u.push(y.normals),l.push(y.colors),c.push(y.tops),r&&d.push(b["default"].stringToUint8Array(JSON.stringify(o.properties)));for(var _,g=0;g<i.outlineAttributes.length;g++)_=i.outlineAttributes[g],f.push(_.positions),p.push(_.colors)}var m={positions:b["default"].mergeFloat32Arrays(a),normals:b["default"].mergeFloat32Arrays(u),colors:b["default"].mergeFloat32Arrays(l),tops:b["default"].mergeFloat32Arrays(c)},x={positions:b["default"].mergeFloat32Arrays(f),colors:b["default"].mergeFloat32Arrays(p)};s.push(m.positions[0].buffer),s.push(m.positions[1].buffer),s.push(m.normals[0].buffer),s.push(m.normals[1].buffer),s.push(m.colors[0].buffer),s.push(m.colors[1].buffer),s.push(m.tops[0].buffer),s.push(m.tops[1].buffer),s.push(x.positions[0].buffer),s.push(x.positions[1].buffer),s.push(x.colors[0].buffer),s.push(x.colors[1].buffer);var w;r&&(w=b["default"].mergeUint8Arrays(d),s.push(w[0].buffer),s.push(w[1].buffer));var k={attributes:m,outlineAttributes:x,flats:h};r&&(k.properties=w),n({data:k,transferrables:s})})["catch"](o)})}},{key:"ProcessPolylines",value:function(e,t,r){return new Promise(function(n,o){Promise.all(e).then(function(e){for(var o,i,s=[],a=[],u=[],l=[],c=[],f=0;f<e.length;f++){i=e[f],o=t[f],c.push(i.flat);for(var p,d=0;d<i.attributes.length;d++)p=i.attributes[d],a.push(p.positions),u.push(p.colors),r&&l.push(b["default"].stringToUint8Array(JSON.stringify(o.properties)))}var h={positions:b["default"].mergeFloat32Arrays(a),colors:b["default"].mergeFloat32Arrays(u)};s.push(h.positions[0].buffer),s.push(h.positions[1].buffer),s.push(h.colors[0].buffer),s.push(h.colors[1].buffer);var v;r&&(v=b["default"].mergeUint8Arrays(l),s.push(v[0].buffer),s.push(v[1].buffer));var y={attributes:h,flats:c};r&&(y.properties=v),n({data:y,transferrables:s})})["catch"](o)})}},{key:"ProcessPoints",value:function(e,t,r){return new Promise(function(n,o){Promise.all(e).then(function(e){for(var o,i,s=[],a=[],u=[],l=[],c=[],f=[],p=0;p<e.length;p++){i=e[p],o=t[p],f.push(i.flat);for(var d,h=0;h<i.attributes.length;h++)d=i.attributes[h],a.push(d.positions),u.push(d.normals),l.push(d.colors),r&&c.push(b["default"].stringToUint8Array(JSON.stringify(polygon.properties)))}var v={positions:b["default"].mergeFloat32Arrays(a),normals:b["default"].mergeFloat32Arrays(u),colors:b["default"].mergeFloat32Arrays(l)};s.push(v.positions[0].buffer),s.push(v.positions[1].buffer),s.push(v.normals[0].buffer),s.push(v.normals[1].buffer),s.push(v.colors[0].buffer),s.push(v.colors[1].buffer);var y;r&&(y=b["default"].mergeUint8Arrays(c),s.push(y[0].buffer),s.push(y[1].buffer));var g={attributes:v,flats:f};r&&(g.properties=y),n({data:g,transferrables:s})})["catch"](o)})}},{key:"ProcessGeoJSON",value:function(e,r){return"string"==typeof e?t.RequestGeoJSON(e,r):Promise.resolve(JSON.parse(b["default"].uint8ArrayToString(e)))}},{key:"RequestGeoJSON",value:function(e,t){return(0,h["default"])({url:e,type:"json",crossOrigin:!0,headers:t})}}]),t}(c["default"]));t["default"]=F;var D=function(e,t){return new F(e,t)};t.geoJSONWorkerLayer=D},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t,r){"undefined"!=typeof module&&module.exports?module.exports=r():(__WEBPACK_AMD_DEFINE_FACTORY__=r,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){return e._aborted?r(e.request):e._timedOut?r(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):r(e.request)))}}function setHeaders(e,t){var r,n=t.headers||{};n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||o||(n[contentType]=t.contentType||defaultHeaders.contentType);for(r in n)n.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n[r])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var o=uniqid++,i=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),a=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),u=n.match(a),l=doc.createElement("script"),c=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?n=n.replace(a,"$1="+s):s=u[3]:n=urlappend(n,i+"="+s),context[s]=generalCallback,l.type="text/javascript",l.src=n,l.async=!0,"undefined"==typeof l.onreadystatechange||f||(l.htmlFor=l.id="_reqwest_"+o),l.onload=l.onreadystatechange=function(){return l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||c?!1:(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(c=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),c=1}}}function getRequest(e,t){var r,n=this.o,o=(n.method||"GET").toUpperCase(),i="string"==typeof n?n:n.url,s=n.processData!==!1&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,a=!1;return"jsonp"!=n.type&&"GET"!=o||!s||(i=urlappend(i,s),s=null),"jsonp"==n.type?handleJsonp(n,e,t,i):(r=n.xhr&&n.xhr(n)||xhr(n),r.open(o,i,n.async!==!1),setHeaders(r,n),setCredentials(r,n),context[xDomainRequest]&&r instanceof context[xDomainRequest]?(r.onload=e,r.onerror=t,r.onprogress=function(){},a=!0):r.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(r),a?setTimeout(function(){r.send(s)},200):r.send(s),r)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return null!==e?e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0:void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,r){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=r,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,r);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r,n,o,i,s=e.name,a=e.tagName.toLowerCase(),u=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(r=/checkbox/i.test(e.type),n=/radio/i.test(e.type),o=e.value,(!(r||n)||e.checked)&&t(s,normalize(r&&""===o?"on":o)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())u(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&u(e.options[i])}}function eachFormElement(){var e,t,r=this,n=function(e,t){var n,o,i;for(n=0;n<t.length;n++)for(i=e[byTag](t[n]),o=0;o<i.length;o++)serial(i[o],r)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,r),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,r){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(r)):e[t]=r},arguments),e}function buildParams(e,t,r,n){var o,i,s,a=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)s=t[i],r||a.test(e)?n(e,s):buildParams(e+"["+("object"==typeof s?i:"")+"]",s,r,n);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],r,n);else n(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(24)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,r){e.push({name:t,value:r})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,r=Array.prototype.slice.call(arguments,0);return e=r.pop(),e&&e.nodeType&&r.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,r)},reqwest.toQueryString=function(e,t){var r,n,o=t||!1,i=[],s=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=s(e)+"="+s(t)};if(isArray(e))for(n=0;e&&n<e.length;n++)a(e[n].name,e[n].value);else for(r in e)e.hasOwnProperty(r)&&buildParams(r,e[r],o,a);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},function(e,t){},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(18),a=o(s),u=r(26),l=n(u),c=r(27),f=o(c),p=r(29),d=o(p),h=r(30),v=o(h),y=new a["default"].Color(16777215),g=new a["default"].Color(6710886),_=function(){var e={color:"#ffffff",outline:!1,outlineColor:"#000000",transparent:!1,opacity:1,blending:a["default"].NormalBlending,height:0,lineOpacity:1,lineTransparent:!1,lineColor:"#ffffff",lineWidth:1,lineBlending:a["default"].NormalBlending},t=function(e,t){var r=[];if(t){for(var n in e.objects)r.push(l.feature(e,e.objects[n]));return(0,f["default"])(r)}if(e.type)return Array.isArray(e)?(0,f["default"])(e):e;for(var o in e)e[o].type&&r.push(e[o]);return(0,f["default"])(r)},r=function(e,t,r){var n,o=[],i=[];return e.forEach(function(s,a){i.push([t.r,t.g,t.b]),o.push([s[0],r,s[1]]),n=e[a+1]?e[a+1]:s,i.push([t.r,t.g,t.b]),o.push([n[0],r,n[1]])}),{vertices:o,colours:i}},n=function(e,t,n){var o,i=[],s=[];return e.forEach(function(e){o=r(e,t,n),o.vertices.forEach(function(e){i.push(e)}),o.colours.forEach(function(e){s.push(e)})}),{vertices:i,colours:s}},o=function(e,t,r){var n=s(e),o=u(n.vertices,n.holes,n.dimensions),a=[];for(i=0,il=n.vertices.length;i<il;i+=n.dimensions)a.push(n.vertices.slice(i,i+n.dimensions));var l,c=(0,v["default"])(a,o,{bottom:0,top:r}),f=t.clone().multiply(y),p=t.clone().multiply(g),d=c.positions,h=[],_=[];c.top.forEach(function(e,r){l=[],l.push([t.r,t.g,t.b]),l.push([t.r,t.g,t.b]),l.push([t.r,t.g,t.b]),h.push(e),_.push(l)});var m=!0;return c.sides&&(m&&(m=!1),c.sides.forEach(function(e,t){l=[],t%2===0?(l.push([p.r,p.g,p.b]),l.push([p.r,p.g,p.b]),l.push([f.r,f.g,f.b])):(l.push([f.r,f.g,f.b]),l.push([f.r,f.g,f.b]),l.push([p.r,p.g,p.b])),h.push(e),_.push(l)})),{vertices:d,faces:h,colours:_,flat:m}},s=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var s=0;t>s;s++)r.vertices.push(e[o][i][s]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r},u=function(e,t,r){var n=(0,d["default"])(e,t,r),o=[];for(i=0,il=n.length;i<il;i+=3)o.push(n.slice(i,i+3));return o};return{defaultStyle:e,collectFeatures:t,lineStringAttributes:r,multiLineStringAttributes:n,polygonAttributes:o}}();t["default"]=_,e.exports=t["default"]},function(e,t,r){!function(e,r){r(t)}(this,function(e){"use strict";function t(){}function r(e){if(!e)return t;var r,n,o=e.scale[0],i=e.scale[1],s=e.translate[0],a=e.translate[1];return function(e,t){t||(r=n=0),e[0]=(r+=e[0])*o+s,e[1]=(n+=e[1])*i+a}}function n(e){if(!e)return t;var r,n,o=e.scale[0],i=e.scale[1],s=e.translate[0],a=e.translate[1];return function(e,t){t||(r=n=0);var u=Math.round((e[0]-s)/o),l=Math.round((e[1]-a)/i);e[0]=u-r,e[1]=l-n,r=u,n=l}}function o(e,t){for(var r,n=e.length,o=n-t;o<--n;)r=e[o],e[o++]=e[n],e[n]=r}function i(e,t){for(var r=0,n=e.length;n>r;){var o=r+n>>>1;e[o]<t?r=o+1:n=o}return r}function s(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return a(e,t)})}:a(e,t)}function a(e,t){var r={type:"Feature",id:t.id,properties:t.properties||{},geometry:u(e,t)};return null==t.id&&delete r.id,r}function u(e,t){function n(e,t){t.length&&t.pop();for(var r,n=f[0>e?~e:e],i=0,s=n.length;s>i;++i)t.push(r=n[i].slice()),c(r,i);0>e&&o(t,s)}function i(e){return e=e.slice(),c(e,0),e}function s(e){for(var t=[],r=0,o=e.length;o>r;++r)n(e[r],t);return t.length<2&&t.push(t[0].slice()),t}function a(e){for(var t=s(e);t.length<4;)t.push(t[0].slice());return t}function u(e){return e.map(a)}function l(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(l)}:t in p?{type:t,coordinates:p[t](e)}:null}var c=r(e.transform),f=e.arcs,p={Point:function(e){return i(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(i)},LineString:function(e){return s(e.arcs)},MultiLineString:function(e){return e.arcs.map(s)},Polygon:function(e){return u(e.arcs)},MultiPolygon:function(e){return e.arcs.map(u)}};return l(t)}function l(e,t){function r(t){var r,n=e.arcs[0>t?~t:t],o=n[0];return e.transform?(r=[0,0],n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]})):r=n[n.length-1],0>t?[r,o]:[o,r]}function n(e,t){for(var r in e){var n=e[r];delete t[n.start],delete n.start,delete n.end,n.forEach(function(e){o[0>e?~e:e]=1}),a.push(n)}}var o={},i={},s={},a=[],u=-1;return t.forEach(function(r,n){var o,i=e.arcs[0>r?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++u],t[u]=r,t[n]=o)}),t.forEach(function(e){var t,n,o=r(e),a=o[0],u=o[1];if(t=s[a])if(delete s[t.end],t.push(e),t.end=u,n=i[u]){delete i[n.start];var l=n===t?t:t.concat(n);i[l.start=t.start]=s[l.end=n.end]=l}else i[t.start]=s[t.end]=t;else if(t=i[u])if(delete i[t.start],t.unshift(e),t.start=a,n=s[a]){delete s[n.end];var c=n===t?t:n.concat(t);i[c.start=n.start]=s[c.end=t.end]=c}else i[t.start]=s[t.end]=t;else t=[e],i[t.start=a]=s[t.end=u]=t}),n(s,i),n(i,s),t.forEach(function(e){o[0>e?~e:e]||a.push([e])}),a}function c(e){return u(e,f.apply(this,arguments))}function f(e,t,r){function n(e){var t=0>e?~e:e;(c[t]||(c[t]=[])).push({i:e,g:u})}function o(e){e.forEach(n)}function i(e){e.forEach(o)}function s(e){"GeometryCollection"===e.type?e.geometries.forEach(s):e.type in f&&(u=e,f[e.type](e.arcs))}var a=[];if(arguments.length>1){var u,c=[],f={LineString:o,MultiLineString:i,Polygon:i,MultiPolygon:function(e){e.forEach(i)}};s(t),c.forEach(arguments.length<3?function(e){a.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&a.push(e[0].i)})}else for(var p=0,d=e.arcs.length;d>p;++p)a.push(p);return{type:"MultiLineString",arcs:l(e,a)}}function p(e){var t=e[0],r=e[1],n=e[2];return Math.abs((t[0]-n[0])*(r[1]-t[1])-(t[0]-r[0])*(n[1]-t[1]))}function d(e){for(var t,r=-1,n=e.length,o=e[n-1],i=0;++r<n;)t=o,o=e[r],i+=t[0]*o[1]-t[1]*o[0];return i/2}function h(e){return u(e,v.apply(this,arguments))}function v(e,t){function r(e){e.forEach(function(t){t.forEach(function(t){(o[t=0>t?~t:t]||(o[t]=[])).push(e)})}),i.push(e)}function n(t){return Math.abs(d(u(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}var o={},i=[],s=[];return t.forEach(function(e){"Polygon"===e.type?r(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(r)}),i.forEach(function(e){if(!e._){var t=[],r=[e];for(e._=1,s.push(t);e=r.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){o[0>e?~e:e].forEach(function(e){e._||(e._=1,r.push(e))})})})}}),i.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:s.map(function(t){var r,i=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){o[0>e?~e:e].length<2&&i.push(e)})})}),i=l(e,i),(r=i.length)>1)for(var s,a,u=1,c=n(i[0]);r>u;++u)(s=n(i[u]))>c&&(a=i[0],i[0]=i[u],i[u]=a,c=s);return i})}}function y(e){function t(e,t){e.forEach(function(e){0>e&&(e=~e);var r=o[e];r?r.push(t):o[e]=[t]})}function r(e,r){e.forEach(function(e){t(e,r)})}function n(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){n(e,t)}):e.type in a&&a[e.type](e.arcs,t)}var o={},s=e.map(function(){return[]}),a={LineString:t,MultiLineString:r,Polygon:r,MultiPolygon:function(e,t){e.forEach(function(e){r(e,t)})}};e.forEach(n);for(var u in o)for(var l=o[u],c=l.length,f=0;c>f;++f)for(var p=f+1;c>p;++p){var d,h=l[f],v=l[p];(d=s[h])[u=i(d,v)]!==v&&d.splice(u,0,v),(d=s[v])[u=i(d,h)]!==h&&d.splice(u,0,h)}return s}function g(e,t){return e[1][2]-t[1][2]}function _(){function e(e,t){for(;t>0;){var r=(t+1>>1)-1,o=n[r];if(g(e,o)>=0)break;n[o._=t]=o,n[e._=t=r]=e}}function t(e,t){for(;;){var r=t+1<<1,i=r-1,s=t,a=n[s];if(o>i&&g(n[i],a)<0&&(a=n[s=i]),o>r&&g(n[r],a)<0&&(a=n[s=r]),s===t)break;n[a._=t]=a,n[e._=t=s]=e}}var r={},n=[],o=0;return r.push=function(t){return e(n[t._=o]=t,o++),o},r.pop=function(){if(!(0>=o)){var e,r=n[0];return--o>0&&(e=n[o],t(n[e._=0]=e,0)),r}},r.remove=function(r){var i,s=r._;if(n[s]===r)return s!==--o&&(i=n[o],(g(i,r)<0?e:t)(n[i._=s]=i,s)),s},r}function m(e,t){function o(e){a.remove(e),e[1][2]=t(e),a.push(e)}var i=r(e.transform),s=n(e.transform),a=_();return t||(t=p),e.arcs.forEach(function(e){var r,n,u,l,c=[],f=0;for(n=0,u=e.length;u>n;++n)l=e[n],i(e[n]=[l[0],l[1],1/0],n);for(n=1,u=e.length-1;u>n;++n)r=e.slice(n-1,n+2),r[1][2]=t(r),c.push(r),a.push(r);for(n=0,u=c.length;u>n;++n)r=c[n],r.previous=c[n-1],r.next=c[n+1];for(;r=a.pop();){var p=r.previous,d=r.next;r[1][2]<f?r[1][2]=f:f=r[1][2],p&&(p.next=d,p[2]=r[2],o(p)),d&&(d.previous=p,d[0]=r[0],o(d))}e.forEach(s)}),e}var b="1.6.27";e.version=b,e.mesh=c,e.meshArcs=f,e.merge=h,e.mergeArcs=v,e.feature=s,e.neighbors=y,e.presimplify=m,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,r){var n=r(28);e.exports=function(e){return{type:"FeatureCollection",features:e.reduce(function(e,t){return e.concat(n(t).features)},[])}}},function(e,t){function r(e){if(!e||!e.type)return null;var t=n[e.type];return t?"geometry"===t?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===t?{type:"FeatureCollection",features:[e]}:"featurecollection"===t?e:void 0:null}e.exports=r;var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},function(e,t){"use strict";function r(e,t,r){r=r||2;var o=t&&t.length,s=o?t[0]*r:e.length,a=n(e,0,s,r,!0),u=[];if(!a)return u;var l,f,p,d,h,v,y;if(o&&(a=c(e,t,a,r)),e.length>80*r){l=p=e[0],f=d=e[1];for(var g=r;s>g;g+=r)h=e[g],v=e[g+1],l>h&&(l=h),f>v&&(f=v),h>p&&(p=h),v>d&&(d=v);y=Math.max(p-l,d-f)}return i(a,u,r,l,f,y),u}function n(e,t,r,n,o){var i,s;if(o===C(e,t,r,n)>0)for(i=t;r>i;i+=n)s=j(i,e[i],e[i+1],s);else for(i=r-n;i>=t;i-=n)s=j(i,e[i],e[i+1],s);return s&&x(s,s.next)&&(O(s),s=s.next),s}function o(e,t){if(!e)return e;t||(t=e);var r,n=e;do if(r=!1,n.steiner||!x(n,n.next)&&0!==b(n.prev,n,n.next))n=n.next;else{if(O(n),n=t=n.prev,n===n.next)return null;r=!0}while(r||n!==t);return t}function i(e,t,r,n,c,f,p){if(e){!p&&f&&h(e,n,c,f);for(var d,v,y=e;e.prev!==e.next;)if(d=e.prev,v=e.next,f?a(e,n,c,f):s(e))t.push(d.i/r),t.push(e.i/r),t.push(v.i/r),O(e),e=v.next,y=v.next;else if(e=v,e===y){p?1===p?(e=u(e,t,r),i(e,t,r,n,c,f,2)):2===p&&l(e,t,r,n,c,f):i(o(e),t,r,n,c,f,1);break}}}function s(e){var t=e.prev,r=e,n=e.next;if(b(t,r,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(_(t.x,t.y,r.x,r.y,n.x,n.y,o.x,o.y)&&b(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function a(e,t,r,n){var o=e.prev,i=e,s=e.next;if(b(o,i,s)>=0)return!1;for(var a=o.x<i.x?o.x<s.x?o.x:s.x:i.x<s.x?i.x:s.x,u=o.y<i.y?o.y<s.y?o.y:s.y:i.y<s.y?i.y:s.y,l=o.x>i.x?o.x>s.x?o.x:s.x:i.x>s.x?i.x:s.x,c=o.y>i.y?o.y>s.y?o.y:s.y:i.y>s.y?i.y:s.y,f=y(a,u,t,r,n),p=y(l,c,t,r,n),d=e.nextZ;d&&d.z<=p;){if(d!==e.prev&&d!==e.next&&_(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&_(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(e,t,r){var n=e;do{var o=n.prev,i=n.next.next;!x(o,i)&&w(o,n,n.next,i)&&M(o,i)&&M(i,o)&&(t.push(o.i/r),t.push(n.i/r),t.push(i.i/r),O(n),O(n.next),n=e=i),n=n.next}while(n!==e);return n}function l(e,t,r,n,s,a){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&m(u,l)){var c=P(u,l);return u=o(u,u.next),c=o(c,c.next),i(u,t,r,n,s,a),void i(c,t,r,n,s,a)}l=l.next}u=u.next}while(u!==e)}function c(e,t,r,i){var s,a,u,l,c,d=[];for(s=0,a=t.length;a>s;s++)u=t[s]*i,l=a-1>s?t[s+1]*i:e.length,c=n(e,u,l,i,!1),c===c.next&&(c.steiner=!0),d.push(g(c));for(d.sort(f),s=0;s<d.length;s++)p(d[s],r),r=o(r,r.next);return r}function f(e,t){return e.x-t.x}function p(e,t){if(t=d(e,t)){var r=P(t,e);o(r,r.next)}}function d(e,t){var r,n=t,o=e.x,i=e.y,s=-(1/0);do{if(i<=n.y&&i>=n.next.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o>=a&&a>s){if(s=a,a===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(o===s)return r.prev;var u,l=r,c=r.x,f=r.y,p=1/0;for(n=r.next;n!==l;)o>=n.x&&n.x>=c&&_(f>i?o:s,i,c,f,f>i?s:o,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(o-n.x),(p>u||u===p&&n.x>r.x)&&M(n,e)&&(r=n,p=u)),n=n.next;return r}function h(e,t,r,n){var o=e;do null===o.z&&(o.z=y(o.x,o.y,t,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,v(o)}function v(e){var t,r,n,o,i,s,a,u,l=1;do{for(r=e,e=null,i=null,s=0;r;){for(s++,n=r,a=0,t=0;l>t&&(a++,n=n.nextZ,n);t++);for(u=l;a>0||u>0&&n;)0===a?(o=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(o=r,r=r.nextZ,a--):(o=n,n=n.nextZ,u--):(o=r,r=r.nextZ,a--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;r=n}i.nextZ=null,l*=2}while(s>1);return e}function y(e,t,r,n,o){return e=32767*(e-r)/o,t=32767*(t-n)/o,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function g(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function _(e,t,r,n,o,i,s,a){return(o-s)*(t-a)-(e-s)*(i-a)>=0&&(e-s)*(n-a)-(r-s)*(t-a)>=0&&(r-s)*(i-a)-(o-s)*(n-a)>=0}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!k(e,t)&&M(e,t)&&M(t,e)&&A(e,t)}function b(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function w(e,t,r,n){return x(e,t)&&x(r,n)||x(e,n)&&x(r,t)?!0:b(e,t,r)>0!=b(e,t,n)>0&&b(r,n,e)>0!=b(r,n,t)>0}function k(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&w(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function M(e,t){return b(e.prev,e,e.next)<0?b(e,t,e.next)>=0&&b(e,e.prev,t)>=0:b(e,t,e.prev)<0||b(e,e.next,t)<0}function A(e,t){var r=e,n=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do r.y>i!=r.next.y>i&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function P(e,t){var r=new S(e.i,e.x,e.y),n=new S(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function j(e,t,r,n){var o=new S(e,t,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function O(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(e,t,r,n){for(var o=0,i=t,s=r-n;r>i;i+=n)o+=(e[s]-e[i])*(e[i+1]+e[s+1]),s=i;return o}e.exports=r,r.deviation=function(e,t,r,n){var o=t&&t.length,i=o?t[0]*r:e.length,s=Math.abs(C(e,0,i,r));if(o)for(var a=0,u=t.length;u>a;a++){var l=t[a]*r,c=u-1>a?t[a+1]*r:e.length;s-=Math.abs(C(e,l,c,r))}var f=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,d=n[a+1]*r,h=n[a+2]*r;f+=Math.abs((e[p]-e[h])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[h+1]-e[p+1]))}return 0===s&&0===f?0:Math.abs((f-s)/s)},r.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var s=0;t>s;s++)r.vertices.push(e[o][i][s]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=n(o),s=function(e,t,r){function n(){s=e.map(function(e){return[e[0],p.top,e[1]]}),a=t,u=t}function o(){s=[],e.forEach(function(e){s.push([e[0],p.top,e[1]])}),e.forEach(function(e){s.push([e[0],p.bottom,e[1]])}),a=[];for(var r=0;d>r;r++)r===d-1?(a.push([r+d,d,r]),
a.push([0,r,d])):(a.push([r+d,r+d+1,r]),a.push([r+1,r,r+d+1]));if(c=[].concat(a),p.closed){var n=t,o=n.map(function(e){return e.map(function(e){return e+d})});o=o.map(function(e){return[e[0],e[2],e[1]]}),a=a.concat(n).concat(o),u=n,l=o}}var s,a,u,l,c,f={top:1,bottom:0,closed:!0},p=(0,i["default"])({},f,r),d=e.length;return p.top===p.bottom?n():o(),{positions:s,faces:a,top:u,bottom:l,sides:c}};t["default"]=s,e.exports=t["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(32),i=n(o),s=function(){var e,t=2,r=function(r,n){return e=new i["default"]({numThreads:r?r:t,workerScript:n?n:"vizicities-worker.js"}),e.createWorkers()},n=function(t,r,n){return e.exec(t,r,n)};return{createWorkers:r,exec:n}}();t["default"]=s,e.exports=t["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(33),a=n(s),u=!1,l=function(){function e(t){o(this,e),this.numThreads=t.numThreads||2,this.workerScript=t.workerScript,this.workers=[],this.tasks=[]}return i(e,[{key:"createWorkers",value:function(){var e=this;return new Promise(function(t,r){for(var n=[],o=0;o<e.numThreads;o++)n.push(e.createWorker());Promise.all(n).then(function(){u&&console.log("All workers ready",performance.now()),t()})["catch"](r)})}},{key:"createWorker",value:function(){var e=this;return new Promise(function(t,r){var n=new a["default"]({workerScript:e.workerScript});return n.start().then(function(){u&&console.log("Worker ready",performance.now()),e.workers.push(n),t()})["catch"](r)})}},{key:"getFreeWorker",value:function(){return this.workers.find(function(e){return!e.busy})}},{key:"exec",value:function(e,t,r){var n=Promise.deferred(),o={method:e,args:t,transferrables:r,deferred:n};return this.tasks.push(o),this.processTasks(),o.deferred.promise}},{key:"processTasks",value:function(){var e=this;if(u&&console.log("Processing tasks"),0!==this.tasks.length){var t=this.getFreeWorker();if(!t)return void(u&&console.log("No workers free"));var r=this.tasks.shift();t.exec(r.method,r.args,r.transferrables).then(function(t){e.processTasks(),r.deferred.resolve(t)})}}}]),e}();t["default"]=l,Promise.deferred=function(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e},e.exports=t["default"]},function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=!1,i=function(){function e(t){r(this,e),this.workerScript=t.workerScript,this.ready=!1,this.busy=!1,this.deferred=null}return n(e,[{key:"start",value:function(){var e=this;return new Promise(function(t,r){e.worker=new Worker(e.workerScript);var n=function o(n){return n.data&&"startup"===n.data.type?(e.ready=!0,e.worker.removeEventListener("message",o),e.worker.addEventListener("message",function(t){e.onMessage(t)}),void t()):void r()};e.worker.addEventListener("message",n)})}},{key:"exec",value:function(e,t,r){o&&console.log("Execute",e,t,r);var n=Promise.deferred();return this.busy=!0,this.deferred=n,this.worker.postMessage({method:e,args:t},r),n.promise}},{key:"onMessage",value:function(e){return console.log("Message received from worker",performance.now()),this.busy=!1,e.data&&"error"!==e.data.type&&"result"===e.data.type?void this.deferred.resolve(e.data.payload):void this.deferred.reject(e.data.payload)}}]),e}();t["default"]=i,Promise.deferred=function(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e},e.exports=t["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=n(o),s=function(){var e=function(e){var t,r=0,n=new Int32Array(2*e.length),o=0;e.forEach(function(e,i){t=e.length,r+=t,n.set([o,o+t],2*i),o+=t});var i=new Float32Array(r);return e.forEach(function(e,t){i.set(e,n[2*t])}),[i,n]},t=function(e){for(var t,r=e[0],n=e[1],o=[],i=0;i<n.length/2;i++)t=2*i,o.push(r.subarray(n[t],n[t+1]));return o},r=function(e){var t,r=0,n=new Int32Array(2*e.length),o=0;e.forEach(function(e,i){t=e.length,r+=t,n.set([o,o+t],2*i),o+=t});var i=new Uint8Array(r);return e.forEach(function(e,t){i.set(e,n[2*t])}),[i,n]},n=function(e){for(var t,r=e[0],n=e[1],o=[],i=0;i<n.length/2;i++)t=2*i,o.push(r.subarray(n[t],n[t+1]));return o},o=function(e){var t={};e.forEach(function(e){for(var r in e)t[r]||(t[r]=0),t[r]+=e[r].length});var r={};for(var n in t)r[n]=new Float32Array(t[n]);var o={};return e.forEach(function(e){for(var t in e)o[t]||(o[t]=0),r[t].set(e[t],o[t]),o[t]+=e[t].length}),r},s=function(e,t){var r,n=new i["default"].BufferGeometry,o=new Float32Array(3*e.verticesCount),s=new Float32Array(3*e.verticesCount);e.pickingIds&&(r=new Float32Array(e.verticesCount));for(var a,u,l,c=0,f=0;f<e.vertices.length;f++){a=e.vertices[f],u=e.colours[f],r&&(l=e.pickingIds[f]);for(var p=0;p<a.length;p++){var d=a[p][0]+t.x,h=a[p][1],v=a[p][2]+t.y,y=u[p];o[3*c+0]=d,o[3*c+1]=h,o[3*c+2]=v,s[3*c+0]=y[0],s[3*c+1]=y[1],s[3*c+2]=y[2],r&&(r[c]=l),c++}}return n.addAttribute("position",new i["default"].BufferAttribute(o,3)),n.addAttribute("color",new i["default"].BufferAttribute(s,3)),r&&n.addAttribute("pickingId",new i["default"].BufferAttribute(r,1)),n.computeBoundingBox(),n},a=function(e,t){var r,n=new i["default"].BufferGeometry,o=new Float32Array(9*e.facesCount),s=new Float32Array(9*e.facesCount),a=new Float32Array(9*e.facesCount);e.pickingIds&&(r=new Float32Array(3*e.facesCount));for(var u,l,c,f,p,d=new i["default"].Vector3,h=new i["default"].Vector3,v=new i["default"].Vector3,y=new i["default"].Vector3,g=new i["default"].Vector3,_=0,m=0;m<e.faces.length;m++){l=e.faces[m],c=e.vertices[m],f=e.colours[m],r&&(p=e.pickingIds[m]);for(var b=0;b<l.length;b++){u=l[b][0];var x=c[u][0]+t.x,w=c[u][1],k=c[u][2]+t.y,M=f[b][0];u=l[b][1];var A=c[u][0]+t.x,P=c[u][1],j=c[u][2]+t.y,O=f[b][1];u=l[b][2];var S=c[u][0]+t.x,C=c[u][1],E=c[u][2]+t.y,T=f[b][2];d.set(x,w,k),h.set(A,P,j),v.set(S,C,E),y.subVectors(v,h),g.subVectors(d,h),y.cross(g),y.normalize();var F=y.x,D=y.y,I=y.z;o[9*_+0]=x,o[9*_+1]=w,o[9*_+2]=k,s[9*_+0]=F,s[9*_+1]=D,s[9*_+2]=I,a[9*_+0]=M[0],a[9*_+1]=M[1],a[9*_+2]=M[2],o[9*_+3]=A,o[9*_+4]=P,o[9*_+5]=j,s[9*_+3]=F,s[9*_+4]=D,s[9*_+5]=I,a[9*_+3]=O[0],a[9*_+4]=O[1],a[9*_+5]=O[2],o[9*_+6]=S,o[9*_+7]=C,o[9*_+8]=E,s[9*_+6]=F,s[9*_+7]=D,s[9*_+8]=I,a[9*_+6]=T[0],a[9*_+7]=T[1],a[9*_+8]=T[2],r&&(r[3*_+0]=p,r[3*_+1]=p,r[3*_+2]=p),_++}}return n.addAttribute("position",new i["default"].BufferAttribute(o,3)),n.addAttribute("normal",new i["default"].BufferAttribute(s,3)),n.addAttribute("color",new i["default"].BufferAttribute(a,3)),r&&n.addAttribute("pickingId",new i["default"].BufferAttribute(r,1)),n.computeBoundingBox(),n},u=new TextEncoder("utf-8"),l=new TextDecoder("utf-8"),c=function(e){return u.encode(e)},f=function(e){return l.decode(e)};return{mergeFloat32Arrays:e,splitFloat32Array:t,mergeUint8Arrays:r,splitUint8Array:n,mergeAttributes:o,createLineGeometry:s,createGeometry:a,stringToUint8Array:c,uint8ArrayToString:f}}();t["default"]=s,e.exports=t["default"]},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var Stringify=function(){var functionToString=function(e){return e.toString()},stringToFunction=function stringToFunction(str){if("string"==typeof str&&null!=str.match(/^\s*function\s*\w*\s*\([\s\S]*\)\s*\{[\s\S]*\}/m)){var f;try{return eval("f = "+str),f}catch(err){return str}}};return{functionToString:functionToString,stringToFunction:stringToFunction}}();exports["default"]=Stringify,module.exports=exports["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,s=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=s,n=!0,a=l=void 0}},l=r(4),c=n(l),f=r(6),p=n(f),d=r(18),h=n(d),v=r(1),y=n(v),g=r(2),_=r(3),m=r(29),b=n(m),x=r(30),w=n(x),k=r(37),M=n(k),A=r(34),P=n(A),j=function(e){function t(e,r){o(this,t);var n={output:!0,interactive:!1,polygonMaterial:null,onPolygonMesh:null,onBufferAttributes:null,style:{color:"#ffffff",transparent:!1,opacity:1,blending:h["default"].NormalBlending,height:0}},i=(0,p["default"])({},n,r);u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i),this._coordinates=t.isSingle(e)?[e]:e}return s(t,e),a(t,[{key:"_onAdd",value:function(e){var r=this;return new Promise(function(e,n){r._setCoordinates(),r._options.interactive&&(r.isOutput()&&(r._pickingMesh=new h["default"].Object3D,r.addToPicking(r._pickingMesh)),r._setPickingId(),r._addPickingEvents()),t.SetBufferAttributes(r._projectedCoordinates,r._options).then(function(n){if(r._bufferAttributes=P["default"].mergeAttributes(n.attributes),n.outlineAttributes.length>0&&(r._outlineBufferAttributes=P["default"].mergeAttributes(n.outlineAttributes)),r._flat=n.flat,r.isOutput()){var o={positions:3,normals:3,colors:3,tops:1};r._options.interactive&&(o.pickingIds=1);var i=r._options.style;t.SetMesh(r._bufferAttributes,o,r._flat,i,r._options,r._world._environment._skybox).then(function(e){r.add(e.mesh),e.pickingMesh&&r._pickingMesh.add(e.pickingMesh)})}n.attributes=null,n.outlineAttributes=null,n=null,e(r)})["catch"](n)})}},{key:"getCenter",value:function(){return this._center}},{key:"getBounds",value:function(){}},{key:"_setPickingId",value:function(){this._pickingId=this.getPickingId()}},{key:"_addPickingEvents",value:function(){var e=this;this._world.on("pick-"+this._pickingId,function(t,r,n){e.emit("click",e,t,r,n)})}},{key:"getBufferAttributes",value:function(){return this._bufferAttributes}},{key:"getOutlineBufferAttributes",value:function(){return this._outlineBufferAttributes}},{key:"clearBufferAttributes",value:function(){this._bufferAttributes=null,this._outlineBufferAttributes=null}},{key:"clearCoordinates",value:function(){this._coordinates=null,this._projectedCoordinates=null}},{key:"_setCoordinates",value:function(){this._bounds=[],this._coordinates=this._convertCoordinates(this._coordinates),this._projectedBounds=[],this._projectedCoordinates=this._projectCoordinates(),this._center=this._coordinates[0][0][0]}},{key:"_convertCoordinates",value:function(e){return e.map(function(e){return e.map(function(e){return e.map(function(e){return(0,g.latLon)(e[1],e[0])})})})}},{key:"_projectCoordinates",value:function(){var e,t=this;return this._coordinates.map(function(r){return r.map(function(r){return r.map(function(r){return e=t._world.latLonToPoint(r),t._offset||(t._offset=(0,_.point)(0,0),t._offset.x=-1*e.x,t._offset.y=-1*e.y,t._options.pointScale=t._world.pointScale(r)),e})})})}},{key:"isFlat",value:function(){return this._flat}},{key:"destroy",value:function(){this._pickingMesh&&(this._pickingMesh=null),this.clearCoordinates(),this.clearBufferAttributes(),u(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}],[{key:"SetBufferAttributes",value:function(e,r){return new Promise(function(n){var o=0;r.style.height&&0!==r.style.height&&(o=y["default"].metresToWorld(r.style.height,r.pointScale));var s=new h["default"].Color;s.set(r.style.color);var a=new h["default"].Color(16777215),u=new h["default"].Color(6710886),l=!0,c=[],f=e.map(function(e){var n=t.ToEarcut(e),f=t.Triangulate(n.vertices,n.holes,n.dimensions),p=[];for(i=0,il=n.vertices.length;i<il;i+=n.dimensions)p.push(n.vertices.slice(i,i+n.dimensions));var d,v=(0,w["default"])(p,f,{bottom:0,top:o}),y=s.clone().multiply(a),g=s.clone().multiply(u),_=v.positions,m=[],b=[],x=[];v.top.forEach(function(e,t){d=[],d.push([s.r,s.g,s.b]),d.push([s.r,s.g,s.b]),d.push([s.r,s.g,s.b]),x.push([!0,!0,!0]),m.push(e),b.push(d)}),v.sides&&(l=!1,v.sides.forEach(function(e,t){d=[],t%2===0?(d.push([g.r,g.g,g.b]),d.push([g.r,g.g,g.b]),d.push([y.r,y.g,y.b]),x.push([!1,!1,!0])):(d.push([y.r,y.g,y.b]),d.push([y.r,y.g,y.b]),d.push([g.r,g.g,g.b]),x.push([!0,!0,!1])),m.push(e),b.push(d)}));var k={vertices:_,faces:m,colours:b,tops:x,facesCount:m.length};if(r.style.outline){var M=new h["default"].Color;M.set(r.style.outlineColor||0),c.push(t.Set2DOutline(e,M))}return r.interactive&&r.pickingId&&(k.pickingId=r.pickingId),t.ToAttributes(k)});n({attributes:f,outlineAttributes:c,flat:l})})}},{key:"Set2DOutline",value:function(e,t){var r=[];e.forEach(function(e){for(var t=e.map(function(e){return[e.x,0,e.y]}),n=t.length,o=!0;--n;)o||0===n?o=!1:t.splice(n+1,0,t[n]);r=r.concat(t)}),_colour=[t.r,t.g,t.b];for(var n=new Float32Array(3*r.length),o=new Float32Array(3*r.length),i=0,s=0;s<r.length;s++){var a=r[s][0],u=r[s][1],l=r[s][2],c=_colour;n[3*i+0]=a,n[3*i+1]=u,n[3*i+2]=l,o[3*i+0]=c[0],o[3*i+1]=c[1],o[3*i+2]=c[2],i++}var f={positions:n,colors:o};return f}},{key:"SetMesh",value:function(e,t,r,n,o,i){var s=new h["default"].BufferGeometry;for(var a in e)s.addAttribute(a.slice(0,-1),new h["default"].BufferAttribute(e[a],t[a]));s.computeBoundingBox();var u;o.polygonMaterial&&o.polygonMaterial instanceof h["default"].Material?u=o.polygonMaterial:i?(u=new h["default"].MeshStandardMaterial({vertexColors:h["default"].VertexColors,side:h["default"].BackSide,transparent:n.transparent,opacity:n.opacity,blending:n.blending}),u.roughness=1,u.metalness=.1,u.envMapIntensity=3,u.envMap=i.getRenderTarget()):u=new h["default"].MeshPhongMaterial({vertexColors:h["default"].VertexColors,side:h["default"].BackSide,transparent:n.transparent,opacity:n.opacity,blending:n.blending});var l;if("function"==typeof o.onPolygonMesh?l=o.onPolygonMesh(s,u):(l=new h["default"].Mesh(s,u),l.castShadow=!0,l.receiveShadow=!0),r){u.depthWrite=!1;var c=void 0!==n.renderOrder?n.renderOrder:3;l.renderOrder=c}if(o.interactive){u=new M["default"],u.side=h["default"].BackSide;var f=new h["default"].Mesh(s,u)}return Promise.resolve({mesh:l,pickingMesh:f})}},{key:"ToEarcut",value:function(e){for(var t=2,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)r.vertices.push(e[o][i].x),r.vertices.push(e[o][i].y);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r}},{key:"Triangulate",value:function(e,t,r){var n=(0,b["default"])(e,t,r),o=[];for(i=0,il=n.length;i<il;i+=3)o.push(n.slice(i,i+3));return o}},{key:"ToAttributes",value:function(e){var t,r=new Float32Array(9*e.facesCount),n=new Float32Array(9*e.facesCount),o=new Float32Array(9*e.facesCount),i=new Float32Array(3*e.facesCount);e.pickingId&&(t=new Float32Array(3*e.facesCount));var s,a,u=new h["default"].Vector3,l=new h["default"].Vector3,c=new h["default"].Vector3,f=new h["default"].Vector3,p=new h["default"].Vector3,d=e.faces,v=e.vertices,y=e.colours,g=e.tops;t&&(a=e.pickingId);for(var _=0,m=0;m<d.length;m++){s=d[m][0];var b=v[s][0],x=v[s][1],w=v[s][2],k=y[m][0],M=g[m][0];s=d[m][1];var A=v[s][0],P=v[s][1],j=v[s][2],O=y[m][1],S=g[m][1];s=d[m][2];var C=v[s][0],E=v[s][1],T=v[s][2],F=y[m][2],D=g[m][2];u.set(b,x,w),l.set(A,P,j),c.set(C,E,T),f.subVectors(c,l),p.subVectors(u,l),f.cross(p),f.normalize();var I=f.x,R=f.y,L=f.z;r[9*_+0]=b,r[9*_+1]=x,r[9*_+2]=w,n[9*_+0]=I,n[9*_+1]=R,n[9*_+2]=L,o[9*_+0]=k[0],o[9*_+1]=k[1],o[9*_+2]=k[2],r[9*_+3]=A,r[9*_+4]=P,r[9*_+5]=j,n[9*_+3]=I,n[9*_+4]=R,n[9*_+5]=L,o[9*_+3]=O[0],o[9*_+4]=O[1],o[9*_+5]=O[2],r[9*_+6]=C,r[9*_+7]=E,r[9*_+8]=T,n[9*_+6]=I,n[9*_+7]=R,n[9*_+8]=L,o[9*_+6]=F[0],o[9*_+7]=F[1],o[9*_+8]=F[2],i[3*_+0]=M,i[3*_+1]=S,i[3*_+2]=D,t&&(t[3*_+0]=a,t[3*_+1]=a,t[3*_+2]=a),_++}var B={positions:r,normals:n,colors:o,tops:i};return t&&(B.pickingIds=t),B}},{key:"isSingle",value:function(e){return!Array.isArray(e[0][0][0])}}]),t}(c["default"]);t["default"]=j;var O=function(e,t){return new j(e,t)};t.polygonLayer=O},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=n(o),s=r(38),a=n(s),u=function(){i["default"].ShaderMaterial.call(this,{uniforms:{size:{type:"f",value:.01},scale:{type:"f",value:400}},vertexShader:a["default"].vertexShader,fragmentShader:a["default"].fragmentShader}),this.linePadding=2};u.prototype=Object.create(i["default"].ShaderMaterial.prototype),u.prototype.constructor=u,u.prototype.setPointSize=function(e){this.uniforms.size.value=e},u.prototype.setPointScale=function(e){this.uniforms.scale.value=e},t["default"]=u,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={vertexShader:["attribute float pickingId;","","varying vec4 worldId;","","void main() {","  vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","  vec3 a = fract(vec3(1.0/255.0, 1.0/(255.0*255.0), 1.0/(255.0*255.0*255.0)) * pickingId);","  a -= a.xxy * vec3(0.0, 1.0/255.0, 1.0/255.0);","  worldId = vec4(a,1);","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#ifdef GL_ES\n","precision highp float;\n","#endif\n","","varying vec4 worldId;","","void main() {","  gl_FragColor = worldId;","}"].join("\n")};t["default"]=r,e.exports=t["default"]},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,s=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=s,n=!0,a=l=void 0}},u=r(4),l=n(u),c=r(6),f=n(c),p=r(18),d=n(p),h=r(1),v=n(h),y=r(2),g=r(3),_=r(37),m=n(_),b=r(34),x=n(b),w=function(e){function t(e,r){o(this,t);var n={output:!0,interactive:!1,polylineMaterial:null,onPolylineMesh:null,onBufferAttributes:null,style:{lineOpacity:1,lineTransparent:!1,lineColor:"#ffffff",lineWidth:1,lineBlending:d["default"].NormalBlending}},i=(0,f["default"])({},n,r);a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i),this._coordinates=t.isSingle(e)?[e]:e,this._flat=!0}return i(t,e),s(t,[{key:"_onAdd",value:function(e){var r=this;return new Promise(function(e,n){r._setCoordinates(),r._options.interactive&&(r.isOutput()&&(r._pickingMesh=new d["default"].Object3D,r.addToPicking(r._pickingMesh)),r._setPickingId(),r._addPickingEvents()),t.SetBufferAttributes(r._projectedCoordinates,r._options).then(function(n){r._bufferAttributes=x["default"].mergeAttributes(n.attributes),r._flat=n.flat;var o={positions:3,colors:3};if(r._options.interactive&&(o.pickingIds=1),r.isOutput()){var i=r._options.style;t.SetMesh(r._bufferAttributes,o,r._flat,i,r._options).then(function(e){r.add(e.mesh),e.pickingMesh&&r._pickingMesh.add(e.pickingMesh)})}n.attributes=null,n=null,e(r)})})}},{key:"getCenter",value:function(){return this._center}},{key:"getBounds",value:function(){}},{key:"_setPickingId",value:function(){this._pickingId=this.getPickingId()}},{key:"_addPickingEvents",value:function(){var e=this;this._world.on("pick-"+this._pickingId,function(t,r,n){e.emit("click",e,t,r,n)})}},{key:"getBufferAttributes",value:function(){return this._bufferAttributes}},{key:"clearBufferAttributes",value:function(){this._bufferAttributes=null}},{key:"clearCoordinates",value:function(){this._coordinates=null,this._projectedCoordinates=null}},{key:"_setCoordinates",value:function(){this._bounds=[],this._coordinates=this._convertCoordinates(this._coordinates),this._projectedBounds=[],this._projectedCoordinates=this._projectCoordinates(),this._center=this._coordinates[0][0]}},{key:"_convertCoordinates",value:function(e){return e.map(function(e){return e.map(function(e){return(0,y.latLon)(e[1],e[0])})})}},{key:"_projectCoordinates",value:function(){var e,t=this;return this._coordinates.map(function(r){return r.map(function(r){return e=t._world.latLonToPoint(r),t._offset||(t._offset=(0,g.point)(0,0),t._offset.x=-1*e.x,t._offset.y=-1*e.y,t._options.pointScale=t._world.pointScale(r)),e})})}},{key:"isFlat",value:function(){return this._flat}},{key:"destroy",value:function(){this._pickingMesh&&(this._pickingMesh=null),this.clearCoordinates(),this.clearBufferAttributes(),a(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}],[{key:"SetBufferAttributes",value:function(e,r){return new Promise(function(n){var o=0;r.style.lineHeight&&(o=v["default"].metresToWorld(r.style.lineHeight,r.pointScale));var i=new d["default"].Color;i.set(r.style.lineColor);var s=!0,a=e.map(function(e){var n,s=[],a=[];e.forEach(function(t,r){a.push([i.r,i.g,i.b]),s.push([t.x,o,t.y]),n=e[r+1]?e[r+1]:t,a.push([i.r,i.g,i.b]),s.push([n.x,o,n.y])});var u={vertices:s,colours:a,verticesCount:s.length};return r.interactive&&r.pickingId&&(u.pickingId=r.pickingId),t.ToAttributes(u)});n({attributes:a,flat:s})})}},{key:"SetMesh",value:function(e,t,r,n,o){var i=new d["default"].BufferGeometry;for(var s in e)i.addAttribute(s.slice(0,-1),new d["default"].BufferAttribute(e[s],t[s]));i.computeBoundingBox();var a;a=o.polylineMaterial&&o.polylineMaterial instanceof d["default"].Material?o.polylineMaterial:new d["default"].LineBasicMaterial({vertexColors:d["default"].VertexColors,linewidth:n.lineWidth,transparent:n.lineTransparent,opacity:n.lineOpacity,blending:n.lineBlending});var u;if("function"==typeof o.onPolylineMesh?u=o.onPolylineMesh(i,a):(u=new d["default"].LineSegments(i,a),void 0!==n.lineRenderOrder&&(a.depthWrite=!1,u.renderOrder=n.lineRenderOrder),u.castShadow=!0),o.interactive){a=new m["default"],a.linewidth=n.lineWidth+a.linePadding;var l=new d["default"].LineSegments(i,a)}return Promise.resolve({mesh:u,pickingMesh:l})}},{key:"ToAttributes",value:function(e){var t,r=new Float32Array(3*e.verticesCount),n=new Float32Array(3*e.verticesCount);e.pickingId&&(t=new Float32Array(e.verticesCount));var o,i=e.vertices,s=e.colours;t&&(o=e.pickingId);for(var a=0,u=0;u<i.length;u++){var l=i[u][0],c=i[u][1],f=i[u][2],p=s[u];r[3*a+0]=l,r[3*a+1]=c,r[3*a+2]=f,n[3*a+0]=p[0],n[3*a+1]=p[1],n[3*a+2]=p[2],t&&(t[a]=o),a++}var d={positions:r,colors:n};return t&&(d.pickingIds=t),d}},{key:"isSingle",value:function(e){return!Array.isArray(e[0][0])}}]),t}(l["default"]);t["default"]=w;var k=function(e,t){return new w(e,t)};t.polylineLayer=k},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,s=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=s,n=!0,a=l=void 0}},u=r(4),l=n(u),c=r(6),f=n(c),p=r(18),d=n(p),h=r(1),v=n(h),y=r(2),g=r(3),_=r(37),m=n(_),b=r(34),x=n(b),w=r(36),k=(n(w),function(e){function t(e,r){o(this,t);var n={output:!0,interactive:!1,pointGeometry:null,pointMaterial:null,onPointMesh:null,style:{pointColor:"#ff0000"}},i=(0,f["default"])({},n,r);a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i),this._coordinates=t.isSingle(e)?[e]:e,this._flat=!1}return i(t,e),s(t,[{key:"_onAdd",value:function(e){var r=this;return new Promise(function(e,n){r._setCoordinates(),r._options.interactive&&(r.isOutput()&&(r._pickingMesh=new d["default"].Object3D,r.addToPicking(r._pickingMesh)),r._setPickingId(),r._addPickingEvents()),t.SetBufferAttributes(r._projectedCoordinates,r._options).then(function(n){r._bufferAttributes=x["default"].mergeAttributes(n.attributes),r._flat=n.flat;var o={positions:3,normals:3,colors:3};if(r._options.interactive&&(o.pickingIds=1),r.isOutput()){var i=r._options.style;t.SetMesh(r._bufferAttributes,o,r._flat,i,r._options,r._world._environment._skybox).then(function(e){r.add(e.mesh),e.pickingMesh&&r._pickingMesh.add(e.pickingMesh)})}n.attributes=null,n=null,e(r)})["catch"](n)})}},{key:"getCenter",value:function(){return this._center}},{key:"getBounds",value:function(){}},{key:"_setPickingId",value:function(){this._pickingId=this.getPickingId()}},{key:"_addPickingEvents",value:function(){var e=this;this._world.on("pick-"+this._pickingId,function(t,r,n){e.emit("click",e,t,r,n)})}},{key:"getBufferAttributes",value:function(){return this._bufferAttributes}},{key:"clearBufferAttributes",value:function(){this._bufferAttributes=null}},{key:"clearCoordinates",value:function(){this._coordinates=null,this._projectedCoordinates=null}},{key:"_setCoordinates",value:function(){this._bounds=[],this._coordinates=this._convertCoordinates(this._coordinates),this._projectedBounds=[],this._projectedCoordinates=this._projectCoordinates(),this._center=this._coordinates}},{key:"_convertCoordinates",value:function(e){return e.map(function(e){return(0,y.latLon)(e[1],e[0])})}},{key:"_projectCoordinates",value:function(){var e,t=this;return this._coordinates.map(function(r){return e=t._world.latLonToPoint(r),t._offset||(t._offset=(0,g.point)(0,0),t._offset.x=-1*e.x,t._offset.y=-1*e.y,t._options.pointScale=t._world.pointScale(r)),e})}},{key:"isFlat",value:function(){return this._flat}},{key:"destroy",value:function(){this._pickingMesh&&(this._pickingMesh=null),this.clearCoordinates(),this.clearBufferAttributes(),a(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}],[{key:"SetBufferAttributes",value:function(e,t){return new Promise(function(r){var n=0;t.style.pointHeight&&(n=v["default"].metresToWorld(t.style.pointHeight,t.pointScale));var o=new d["default"].Color;if(o.set(t.style.pointColor),!t.pointGeometry||!t.pointGeometry instanceof d["default"].Geometry||!t.pointGeometry instanceof d["default"].BufferGeometry){var i=v["default"].metresToWorld(25,t.pointScale),s=v["default"].metresToWorld(200,t.pointScale),a=new d["default"].BoxGeometry(i,s,i);a.translate(0,.5*s,0),geometry=(new d["default"].BufferGeometry).fromGeometry(a)}else t.geometry instanceof d["default"].BufferGeometry?geometry=t.pointGeometry:geometry=(new d["default"].BufferGeometry).fromGeometry(t.pointGeometry);var u=e.map(function(e){var r=[],i=[],s=[],a=geometry.clone();a.translate(e.x,n,e.y);for(var r=a.attributes.position.clone().array,i=a.attributes.normal.clone().array,s=a.attributes.color.clone().array,u=0;u<s.length;u+=3)s[u]=o.r,s[u+1]=o.g,s[u+2]=o.b;var l={positions:r,normals:i,colors:s};return t.interactive&&t.pickingId&&(l.pickingId=t.pickingId),l});r({attributes:u,flat:!1})})}},{key:"SetMesh",value:function(e,t,r,n,o,i){var s=new d["default"].BufferGeometry;for(var a in e)s.addAttribute(a.slice(0,-1),new d["default"].BufferAttribute(e[a],t[a]));s.computeBoundingBox();var u;o.pointMaterial&&o.pointMaterial instanceof d["default"].Material?u=o.pointMaterial:i?(u=new d["default"].MeshStandardMaterial({vertexColors:d["default"].VertexColors,transparent:n.transparent,opacity:n.opacity,blending:n.blending}),u.roughness=1,u.metalness=.1,u.envMapIntensity=3,u.envMap=i.getRenderTarget()):u=new d["default"].MeshPhongMaterial({vertexColors:d["default"].VertexColors,transparent:n.transparent,opacity:n.opacity,blending:n.blending});var l;if("function"==typeof o.onPolygonMesh?l=o.onPolygonMesh(s,u):(l=new d["default"].Mesh(s,u),l.castShadow=!0,l.receiveShadow=!0),r&&(u.depthWrite=!1,l.renderOrder=4),o.interactive){u=new m["default"],u.side=d["default"].BackSide;var c=new d["default"].Mesh(s,u)}return Promise.resolve({mesh:l,pickingMesh:c})}},{key:"isSingle",value:function(e){return!Array.isArray(e[0])}}]),t}(l["default"]));t["default"]=k;var M=function(e,t){return new k(e,t)};t.pointLayer=M},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(42),i=n(o),s=r(30),a=n(s),u=r(25),l=n(u),c=r(34),f=n(c),p=r(31),d=n(p),h=r(35),v=n(h),y={};y.wrapNum=i["default"],y.extrudePolygon=a["default"],y.GeoJSON=l["default"],y.Buffer=f["default"],y.Worker=d["default"],y.Stringify=v["default"],t["default"]=y,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){var n=t[1],o=t[0],i=n-o;return e===n&&r?e:((e-o)%i+i)%i+o};t["default"]=r,e.exports=t["default"]}])});
//# sourceMappingURL=vizicities-worker.min.js.map
