{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","vizicities.min.js","webpack:/webpack/bootstrap f2da3f43c0591f287181","webpack:///src/vizicities.js","webpack:///src/World.js","webpack:///~/eventemitter3/index.js","webpack:///~/lodash.assign/index.js","webpack:///~/lodash.keys/index.js","webpack:///~/lodash.rest/index.js","webpack:///src/geo/CRS/index.js","webpack:///src/geo/CRS/CRS.EPSG3857.js","webpack:///src/geo/CRS/CRS.Earth.js","webpack:///src/geo/CRS/CRS.js","webpack:///src/util/wrapNum.js","webpack:///src/geo/projection/Projection.SphericalMercator.js","webpack:///src/util/Transformation.js","webpack:///src/geo/CRS/CRS.EPSG3395.js","webpack:///src/geo/projection/Projection.Mercator.js","webpack:///src/geo/CRS/CRS.EPSG4326.js","webpack:///src/geo/projection/Projection.LatLon.js","webpack:///src/geo/CRS/CRS.Simple.js","webpack:///src/geo/CRS/CRS.Proj4.js","webpack:///src/geo/projection/Projection.Proj4.js","webpack:/external \"proj4\"","webpack:///src/engine/Engine.js","webpack:/external \"THREE\"","webpack:///src/engine/Scene.js","webpack:///src/engine/Renderer.js","webpack:///src/engine/Camera.js","webpack:///src/controls/index.js","webpack:///src/controls/Controls.Orbit.js","webpack:///~/three-orbit-controls/index.js","webpack:///src/layer/environment/EnvironmentLayer.js","webpack:///src/layer/Layer.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_20__","__WEBPACK_EXTERNAL_MODULE_22__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_World","_World2","_controlsIndex","_controlsIndex2","_layerEnvironmentEnvironmentLayer","_layerEnvironmentEnvironmentLayer2","VIZI","version","World","Controls","EnvironmentLayer","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","_eventemitter3","_eventemitter32","_lodashAssign","_lodashAssign2","_geoCRSIndex","_geoCRSIndex2","_engineEngine","_engineEngine2","_EventEmitter","domId","options","defaults","crs","EPSG3857","_options","console","log","_layers","_controls","_initContainer","_initEngine","_initEvents","_update","_container","document","getElementById","_engine","on","_onControlsMoveEnd","point","_resetView","unproject","latlon","emit","_moveStart","_move","_moveEnd","_lastPosition","delta","clock","getDelta","window","requestAnimationFrame","bind","forEach","controls","update","layer","_addToWorld","push","_scene","add","_layer","EE","fn","context","once","EventEmitter","prefix","_events","listeners","event","exists","evt","available","l","ee","Array","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","j","listener","events","removeAllListeners","off","addListener","setMaxListeners","prefixed","isIndex","reIsUint","test","MAX_SAFE_INTEGER","assignValue","objValue","eq","objectProto","hasOwnProperty","baseProperty","copyObject","source","copyObjectWith","customizer","index","newValue","createAssigner","assigner","rest","sources","guard","isIterateeCall","isObject","type","isArrayLike","other","isFunction","isLength","getLength","tag","objectToString","funcTag","genTag","keys","toString","assign","baseTimes","n","iteratee","result","baseHas","baseKeys","nativeKeys","indexKeys","isArray","isString","isArguments","String","isPrototype","Ctor","proto","isArrayLikeObject","propertyIsEnumerable","argsTag","isObjectLike","stringTag","isProto","indexes","skipIndexes","func","thisArg","start","FUNC_ERROR_TEXT","nativeMax","toInteger","array","otherArgs","toNumber","INFINITY","sign","MAX_INTEGER","remainder","valueOf","replace","reTrim","isBinary","reIsBinary","reIsOctal","freeParseInt","slice","reIsBadHex","NAN","parseInt","Math","max","_CRSEPSG3857","_CRSEPSG38572","_CRSEPSG3395","_CRSEPSG33952","_CRSEPSG4326","_CRSEPSG43262","_CRSSimple","_CRSSimple2","_CRSProj4","_CRSProj42","CRS","EPSG900913","EPSG3395","EPSG4326","Simple","Proj4","_CRSEarth","_CRSEarth2","_projectionProjectionSphericalMercator","_projectionProjectionSphericalMercator2","_utilTransformation","_utilTransformation2","_EPSG3857","code","projection","transformScale","PI","R","transformation","scale","_CRS","_CRS2","Earth","wrapLon","distance","latlon1","latlon2","accurate","lat1","lat2","a","rad","lon1","lon2","deltaLat","deltaLon","halfDeltaLat","halfDeltaLon","sin","cos","atan2","sqrt","acos","min","pointScale","metresToProjected","metres","projectedToMetres","projectedUnits","metresToWorld","zoom","projectedMetres","scaledMetres","worldToMetres","worldUnits","realMetres","_utilWrapNum","_utilWrapNum2","scaleFactor","latLonToPoint","projectedPoint","project","_transform","pointToLatLon","untransformedPoint","untransform","pow","LN2","getProjectedBounds","infinite","b","bounds","s","transform","wrapLatLon","lat","wrapLat","lng","alt","wrapNum","x","range","includeMax","d","SphericalMercator","MAX_LATITUDE","ECC","ECC2","atan","exp","k","sinLat","sinLat2","cosLat","v","h","Transformation","_a","_b","_c","_d","_projectionProjectionMercator","_projectionProjectionMercator2","_EPSG3395","Mercator","R_MINOR","r","y","tmp","e","con","ts","tan","phi","dphi","abs","_projectionProjectionLatLon","_projectionProjectionLatLon2","_EPSG4326","LatLon","m1","m2","m3","m4","p1","p2","p3","latlen","lonlen","_Simple","dx","dy","_projectionProjectionProj4","_projectionProjectionProj42","_Proj4","def","diffX","diffY","halfX","halfY","scaleX","scaleY","offsetX","offsetY","_proj4","_proj42","proj","forward","inverse","bottomLeft","topRight","_three","_three2","_Scene","_Scene2","_Renderer","_Renderer2","_Camera","_Camera2","Engine","container","_renderer","_camera","Clock","render","scene","Scene","fog","Fog","renderer","WebGLRenderer","antialias","setClearColor","color","gammaInput","gammaOutput","appendChild","domElement","updateSize","setSize","clientWidth","clientHeight","addEventListener","camera","PerspectiveCamera","position","z","aspect","updateProjectionMatrix","_ControlsOrbit","_ControlsOrbit2","Orbit","_threeOrbitControls","_threeOrbitControls2","_OrbitControls","_this","_world","center","animate","pointDelta","metresDelta","angle","angleDelta","noZoom","world","addControls","maxPolarAngle","THREE","OrbitConstraint","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","theta","scope","EPS","phiDelta","thetaDelta","panOffset","zoomChanged","getPolarAngle","getAzimuthalAngle","rotateLeft","rotateUp","panLeft","te","matrix","elements","adjDist","set","normalize","multiplyScalar","panUp","pan","deltaX","deltaY","screenWidth","screenHeight","offset","clone","sub","targetDistance","fov","OrthographicCamera","right","left","top","bottom","warn","dollyIn","dollyScale","dollyOut","quat","Quaternion","setFromUnitVectors","up","quatInverse","lastPosition","lastQuaternion","copy","applyQuaternion","radius","lookAt","distanceToSquared","dot","quaternion","OrbitControls","element","body","constraint","getAutoRotationAngle","autoRotateSpeed","getZoomScale","zoomSpeed","onMouseDown","enabled","preventDefault","button","mouseButtons","ORBIT","enableRotate","state","STATE","ROTATE","rotateStart","clientX","clientY","ZOOM","enableZoom","DOLLY","dollyStart","PAN","enablePan","panStart","NONE","onMouseMove","onMouseUp","dispatchEvent","startEvent","rotateEnd","rotateDelta","subVectors","rotateSpeed","dollyEnd","dollyDelta","panEnd","panDelta","removeEventListener","endEvent","onMouseWheel","stopPropagation","wheelDelta","detail","onKeyDown","enableKeys","keyCode","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","touchstart","touches","TOUCH_ROTATE","pageX","pageY","TOUCH_DOLLY","TOUCH_PAN","touchmove","touchend","contextmenu","autoRotate","MOUSE","MIDDLE","Vector2","target0","position0","zoom0","changeEvent","reset","dispose","EventDispatcher","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","_Layer2","_Layer3","_Layer","_initLights","_initGrid","directionalLight","DirectionalLight","intesity","directionalLight2","helper","DirectionalLightHelper","helper2","size","step","gridHelper","GridHelper","_engineScene","Layer","Object3D","addLayer"],"mappings":"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","file":"vizicities.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"proj4\"), require(\"THREE\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"proj4\", \"THREE\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VIZI\"] = factory(require(\"proj4\"), require(\"THREE\"));\n\telse\n\t\troot[\"VIZI\"] = factory(root[\"proj4\"], root[\"THREE\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_22__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"proj4\"), require(\"THREE\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"proj4\", \"THREE\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VIZI\"] = factory(require(\"proj4\"), require(\"THREE\"));\n\telse\n\t\troot[\"VIZI\"] = factory(root[\"proj4\"], root[\"THREE\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_22__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _World = __webpack_require__(1);\n\t\n\tvar _World2 = _interopRequireDefault(_World);\n\t\n\tvar _controlsIndex = __webpack_require__(26);\n\t\n\tvar _controlsIndex2 = _interopRequireDefault(_controlsIndex);\n\t\n\tvar _layerEnvironmentEnvironmentLayer = __webpack_require__(29);\n\t\n\tvar _layerEnvironmentEnvironmentLayer2 = _interopRequireDefault(_layerEnvironmentEnvironmentLayer);\n\t\n\tvar VIZI = {\n\t  version: '0.3',\n\t\n\t  // Public API\n\t  World: _World2['default'],\n\t  Controls: _controlsIndex2['default'],\n\t  EnvironmentLayer: _layerEnvironmentEnvironmentLayer2['default']\n\t};\n\t\n\texports['default'] = VIZI;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _lodashAssign = __webpack_require__(3);\n\t\n\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\t\n\tvar _geoCRSIndex = __webpack_require__(6);\n\t\n\tvar _geoCRSIndex2 = _interopRequireDefault(_geoCRSIndex);\n\t\n\tvar _engineEngine = __webpack_require__(21);\n\t\n\tvar _engineEngine2 = _interopRequireDefault(_engineEngine);\n\t\n\t// Pretty much any event someone using ViziCities would need will be emitted or\n\t// proxied by World (eg. render events, etc)\n\t\n\tvar World = (function (_EventEmitter) {\n\t  _inherits(World, _EventEmitter);\n\t\n\t  function World(domId, options) {\n\t    _classCallCheck(this, World);\n\t\n\t    _get(Object.getPrototypeOf(World.prototype), 'constructor', this).call(this);\n\t\n\t    var defaults = {\n\t      crs: _geoCRSIndex2['default'].EPSG3857\n\t    };\n\t\n\t    this._options = (0, _lodashAssign2['default'])(defaults, options);\n\t\n\t    console.log(this._options);\n\t\n\t    this._layers = [];\n\t    this._controls = [];\n\t\n\t    this._initContainer(domId);\n\t    this._initEngine();\n\t    this._initEvents();\n\t\n\t    // Kick off the update and render loop\n\t    this._update();\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  _createClass(World, [{\n\t    key: '_initContainer',\n\t    value: function _initContainer(domId) {\n\t      this._container = document.getElementById(domId);\n\t    }\n\t  }, {\n\t    key: '_initEngine',\n\t    value: function _initEngine() {\n\t      this._engine = (0, _engineEngine2['default'])(this._container);\n\t\n\t      // Engine events\n\t      //\n\t      // Consider proxying these through events on World for public access\n\t      // this._engine.on('preRender', () => {});\n\t      // this._engine.on('postRender', () => {});\n\t    }\n\t  }, {\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      this.on('controlsMoveEnd', this._onControlsMoveEnd);\n\t    }\n\t  }, {\n\t    key: '_onControlsMoveEnd',\n\t    value: function _onControlsMoveEnd(point) {\n\t      this._resetView(this.unproject(point));\n\t    }\n\t\n\t    // Reset world view\n\t  }, {\n\t    key: '_resetView',\n\t    value: function _resetView(latlon) {\n\t      this.emit('preResetView');\n\t\n\t      this._moveStart();\n\t      this._move(latlon);\n\t      this._moveEnd();\n\t\n\t      this.emit('postResetView');\n\t    }\n\t  }, {\n\t    key: '_moveStart',\n\t    value: function _moveStart() {\n\t      this.emit('moveStart');\n\t    }\n\t  }, {\n\t    key: '_move',\n\t    value: function _move(latlon) {\n\t      this._lastPosition = latlon;\n\t      this.emit('move', latlon);\n\t    }\n\t  }, {\n\t    key: '_moveEnd',\n\t    value: function _moveEnd() {\n\t      this.emit('moveEnd');\n\t    }\n\t  }, {\n\t    key: '_update',\n\t    value: function _update() {\n\t      var delta = this._engine.clock.getDelta();\n\t\n\t      // Once _update is called it will run forever, for now\n\t      window.requestAnimationFrame(this._update.bind(this));\n\t\n\t      // Update controls\n\t      this._controls.forEach(function (controls) {\n\t        controls.update();\n\t      });\n\t\n\t      this.emit('preUpdate');\n\t      this._engine._update(delta);\n\t      this.emit('postUpdate');\n\t    }\n\t\n\t    // Set world view\n\t  }, {\n\t    key: 'setView',\n\t    value: function setView(latlon) {\n\t      this._resetView(latlon);\n\t      return this;\n\t    }\n\t\n\t    // Return world geographic position\n\t  }, {\n\t    key: 'getPosition',\n\t    value: function getPosition() {\n\t      return this._lastPosition;\n\t    }\n\t\n\t    // Transform geographic coordinate to world point\n\t  }, {\n\t    key: 'project',\n\t    value: function project(latlon) {}\n\t\n\t    // Transform world point to geographic coordinate\n\t  }, {\n\t    key: 'unproject',\n\t    value: function unproject(point) {}\n\t  }, {\n\t    key: 'addLayer',\n\t    value: function addLayer(layer) {\n\t      layer._addToWorld(this);\n\t\n\t      this._layers.push(layer);\n\t\n\t      // Could move this into Layer but it'll do here for now\n\t      this._engine._scene.add(layer._layer);\n\t\n\t      this.emit('layerAdded', layer);\n\t      return this;\n\t    }\n\t\n\t    // Remove layer and perform clean up operations\n\t  }, {\n\t    key: 'removeLayer',\n\t    value: function removeLayer(layer) {}\n\t  }, {\n\t    key: 'addControls',\n\t    value: function addControls(controls) {\n\t      controls._addToWorld(this);\n\t\n\t      this._controls.push(controls);\n\t\n\t      this.emit('controlsAdded', controls);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'removeControls',\n\t    value: function removeControls(controls) {}\n\t  }]);\n\t\n\t  return World;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = function (domId, options) {\n\t  return new World(domId, options);\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t//\n\t// We store our EE objects in a plain object whose properties are event names.\n\t// If `Object.create(null)` is not supported we prefix the event names with a\n\t// `~` to make sure that the built-in object properties are not overridden or\n\t// used as an attack vector.\n\t// We also assume that `Object.create(null)` is available when the event name\n\t// is an ES6 Symbol.\n\t//\n\tvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\t\n\t/**\n\t * Representation of a single EventEmitter function.\n\t *\n\t * @param {Function} fn Event handler to be called.\n\t * @param {Mixed} context Context for function execution.\n\t * @param {Boolean} once Only emit once\n\t * @api private\n\t */\n\tfunction EE(fn, context, once) {\n\t  this.fn = fn;\n\t  this.context = context;\n\t  this.once = once || false;\n\t}\n\t\n\t/**\n\t * Minimal EventEmitter interface that is molded against the Node.js\n\t * EventEmitter interface.\n\t *\n\t * @constructor\n\t * @api public\n\t */\n\tfunction EventEmitter() { /* Nothing to set */ }\n\t\n\t/**\n\t * Holds the assigned EventEmitters by name.\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tEventEmitter.prototype._events = undefined;\n\t\n\t/**\n\t * Return a list of assigned event listeners.\n\t *\n\t * @param {String} event The events that should be listed.\n\t * @param {Boolean} exists We only need to know if there are listeners.\n\t * @returns {Array|Boolean}\n\t * @api public\n\t */\n\tEventEmitter.prototype.listeners = function listeners(event, exists) {\n\t  var evt = prefix ? prefix + event : event\n\t    , available = this._events && this._events[evt];\n\t\n\t  if (exists) return !!available;\n\t  if (!available) return [];\n\t  if (available.fn) return [available.fn];\n\t\n\t  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n\t    ee[i] = available[i].fn;\n\t  }\n\t\n\t  return ee;\n\t};\n\t\n\t/**\n\t * Emit an event to all registered event listeners.\n\t *\n\t * @param {String} event The name of the event.\n\t * @returns {Boolean} Indication if we've emitted an event.\n\t * @api public\n\t */\n\tEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return false;\n\t\n\t  var listeners = this._events[evt]\n\t    , len = arguments.length\n\t    , args\n\t    , i;\n\t\n\t  if ('function' === typeof listeners.fn) {\n\t    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\t\n\t    switch (len) {\n\t      case 1: return listeners.fn.call(listeners.context), true;\n\t      case 2: return listeners.fn.call(listeners.context, a1), true;\n\t      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n\t      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\t      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\t      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n\t    }\n\t\n\t    for (i = 1, args = new Array(len -1); i < len; i++) {\n\t      args[i - 1] = arguments[i];\n\t    }\n\t\n\t    listeners.fn.apply(listeners.context, args);\n\t  } else {\n\t    var length = listeners.length\n\t      , j;\n\t\n\t    for (i = 0; i < length; i++) {\n\t      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\t\n\t      switch (len) {\n\t        case 1: listeners[i].fn.call(listeners[i].context); break;\n\t        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n\t        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n\t        default:\n\t          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n\t            args[j - 1] = arguments[j];\n\t          }\n\t\n\t          listeners[i].fn.apply(listeners[i].context, args);\n\t      }\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\t/**\n\t * Register a new EventListener for the given event.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Functon} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.on = function on(event, fn, context) {\n\t  var listener = new EE(fn, context || this)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Add an EventListener that's only called once.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Function} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.once = function once(event, fn, context) {\n\t  var listener = new EE(fn, context || this, true)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove event listeners.\n\t *\n\t * @param {String} event The event we want to remove.\n\t * @param {Function} fn The listener that we need to find.\n\t * @param {Mixed} context Only remove listeners matching this context.\n\t * @param {Boolean} once Only remove once listeners.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return this;\n\t\n\t  var listeners = this._events[evt]\n\t    , events = [];\n\t\n\t  if (fn) {\n\t    if (listeners.fn) {\n\t      if (\n\t           listeners.fn !== fn\n\t        || (once && !listeners.once)\n\t        || (context && listeners.context !== context)\n\t      ) {\n\t        events.push(listeners);\n\t      }\n\t    } else {\n\t      for (var i = 0, length = listeners.length; i < length; i++) {\n\t        if (\n\t             listeners[i].fn !== fn\n\t          || (once && !listeners[i].once)\n\t          || (context && listeners[i].context !== context)\n\t        ) {\n\t          events.push(listeners[i]);\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  //\n\t  // Reset the array, or remove it completely if we have no more listeners.\n\t  //\n\t  if (events.length) {\n\t    this._events[evt] = events.length === 1 ? events[0] : events;\n\t  } else {\n\t    delete this._events[evt];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove all listeners or only the listeners for the specified event.\n\t *\n\t * @param {String} event The event want to remove all listeners for.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n\t  if (!this._events) return this;\n\t\n\t  if (event) delete this._events[prefix ? prefix + event : event];\n\t  else this._events = prefix ? {} : Object.create(null);\n\t\n\t  return this;\n\t};\n\t\n\t//\n\t// Alias methods names because people roll like that.\n\t//\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\tEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\t\n\t//\n\t// This function doesn't apply anymore.\n\t//\n\tEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n\t  return this;\n\t};\n\t\n\t//\n\t// Expose the prefix.\n\t//\n\tEventEmitter.prefixed = prefix;\n\t\n\t//\n\t// Expose the module.\n\t//\n\tif (true) {\n\t  module.exports = EventEmitter;\n\t}\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n\t * Build: `lodash modularize exports=\"npm\" -o ./`\n\t * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n\t * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n\t * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t * Available under MIT license <https://lodash.com/license>\n\t */\n\tvar keys = __webpack_require__(4),\n\t    rest = __webpack_require__(5);\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/** `Object#toString` result references. */\n\tvar funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]';\n\t\n\t/** Used to detect unsigned integer values. */\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\n\t/**\n\t * Checks if `value` is a valid array-like index.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t */\n\tfunction isIndex(value, length) {\n\t  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return value > -1 && value % 1 == 0 && value < length;\n\t}\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/**\n\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t * for equality comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction assignValue(object, key, value) {\n\t  var objValue = object[key];\n\t  if ((!eq(objValue, value) ||\n\t        (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) ||\n\t      (value === undefined && !(key in object))) {\n\t    object[key] = value;\n\t  }\n\t}\n\t\n\t/**\n\t * The base implementation of `_.property` without support for deep paths.\n\t *\n\t * @private\n\t * @param {string} key The key of the property to get.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction baseProperty(key) {\n\t  return function(object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\t\n\t/**\n\t * Copies properties of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy properties from.\n\t * @param {Array} props The property names to copy.\n\t * @param {Object} [object={}] The object to copy properties to.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copyObject(source, props, object) {\n\t  return copyObjectWith(source, props, object);\n\t}\n\t\n\t/**\n\t * This function is like `copyObject` except that it accepts a function to\n\t * customize copied values.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy properties from.\n\t * @param {Array} props The property names to copy.\n\t * @param {Object} [object={}] The object to copy properties to.\n\t * @param {Function} [customizer] The function to customize copied values.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copyObjectWith(source, props, object, customizer) {\n\t  object || (object = {});\n\t\n\t  var index = -1,\n\t      length = props.length;\n\t\n\t  while (++index < length) {\n\t    var key = props[index],\n\t        newValue = customizer ? customizer(object[key], source[key], key, object, source) : source[key];\n\t\n\t    assignValue(object, key, newValue);\n\t  }\n\t  return object;\n\t}\n\t\n\t/**\n\t * Creates a function like `_.assign`.\n\t *\n\t * @private\n\t * @param {Function} assigner The function to assign values.\n\t * @returns {Function} Returns the new assigner function.\n\t */\n\tfunction createAssigner(assigner) {\n\t  return rest(function(object, sources) {\n\t    var index = -1,\n\t        length = sources.length,\n\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t        guard = length > 2 ? sources[2] : undefined;\n\t\n\t    customizer = typeof customizer == 'function' ? (length--, customizer) : undefined;\n\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t      customizer = length < 3 ? undefined : customizer;\n\t      length = 1;\n\t    }\n\t    object = Object(object);\n\t    while (++index < length) {\n\t      var source = sources[index];\n\t      if (source) {\n\t        assigner(object, source, index, customizer);\n\t      }\n\t    }\n\t    return object;\n\t  });\n\t}\n\t\n\t/**\n\t * Gets the \"length\" property value of `object`.\n\t *\n\t * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n\t * that affects Safari on at least iOS 8.1-8.3 ARM64.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {*} Returns the \"length\" value.\n\t */\n\tvar getLength = baseProperty('length');\n\t\n\t/**\n\t * Checks if the provided arguments are from an iteratee call.\n\t *\n\t * @private\n\t * @param {*} value The potential iteratee value argument.\n\t * @param {*} index The potential iteratee index or key argument.\n\t * @param {*} object The potential iteratee object argument.\n\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n\t */\n\tfunction isIterateeCall(value, index, object) {\n\t  if (!isObject(object)) {\n\t    return false;\n\t  }\n\t  var type = typeof index;\n\t  if (type == 'number'\n\t      ? (isArrayLike(object) && isIndex(index, object.length))\n\t      : (type == 'string' && index in object)) {\n\t    return eq(object[index], value);\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * Performs a [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t * comparison between two values to determine if they are equivalent.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t * @example\n\t *\n\t * var object = { 'user': 'fred' };\n\t * var other = { 'user': 'fred' };\n\t *\n\t * _.eq(object, object);\n\t * // => true\n\t *\n\t * _.eq(object, other);\n\t * // => false\n\t *\n\t * _.eq('a', 'a');\n\t * // => true\n\t *\n\t * _.eq('a', Object('a'));\n\t * // => false\n\t *\n\t * _.eq(NaN, NaN);\n\t * // => true\n\t */\n\tfunction eq(value, other) {\n\t  return value === other || (value !== value && other !== other);\n\t}\n\t\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @type Function\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null &&\n\t    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 8 which returns 'object' for typed array constructors, and\n\t  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\t\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\t\n\t/**\n\t * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n\t * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\t\n\t/**\n\t * Assigns own enumerable properties of source objects to the destination\n\t * object. Source objects are applied from left to right. Subsequent sources\n\t * overwrite property assignments of previous sources.\n\t *\n\t * **Note:** This method mutates `object` and is loosely based on\n\t * [`Object.assign`](https://mdn.io/Object/assign).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The destination object.\n\t * @param {...Object} [sources] The source objects.\n\t * @returns {Object} Returns `object`.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.c = 3;\n\t * }\n\t *\n\t * function Bar() {\n\t *   this.e = 5;\n\t * }\n\t *\n\t * Foo.prototype.d = 4;\n\t * Bar.prototype.f = 6;\n\t *\n\t * _.assign({ 'a': 1 }, new Foo, new Bar);\n\t * // => { 'a': 1, 'c': 3, 'e': 5 }\n\t */\n\tvar assign = createAssigner(function(object, source) {\n\t  copyObject(source, keys(source), object);\n\t});\n\t\n\tmodule.exports = assign;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t/**\n\t * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n\t * Build: `lodash modularize exports=\"npm\" -o ./`\n\t * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n\t * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n\t * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t * Available under MIT license <https://lodash.com/license>\n\t */\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]',\n\t    stringTag = '[object String]';\n\t\n\t/** Used to detect unsigned integer values. */\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\n\t/**\n\t * The base implementation of `_.times` without support for iteratee shorthands\n\t * or max array length checks.\n\t *\n\t * @private\n\t * @param {number} n The number of times to invoke `iteratee`.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array} Returns the array of results.\n\t */\n\tfunction baseTimes(n, iteratee) {\n\t  var index = -1,\n\t      result = Array(n);\n\t\n\t  while (++index < n) {\n\t    result[index] = iteratee(index);\n\t  }\n\t  return result;\n\t}\n\t\n\t/**\n\t * Checks if `value` is a valid array-like index.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t */\n\tfunction isIndex(value, length) {\n\t  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return value > -1 && value % 1 == 0 && value < length;\n\t}\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/** Built-in value references. */\n\tvar getPrototypeOf = Object.getPrototypeOf,\n\t    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeKeys = Object.keys;\n\t\n\t/**\n\t * The base implementation of `_.has` without support for deep paths.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} key The key to check.\n\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t */\n\tfunction baseHas(object, key) {\n\t  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n\t  // that are composed entirely of index properties, return `false` for\n\t  // `hasOwnProperty` checks of them.\n\t  return hasOwnProperty.call(object, key) ||\n\t    (typeof object == 'object' && key in object && getPrototypeOf(object) === null);\n\t}\n\t\n\t/**\n\t * The base implementation of `_.keys` which doesn't skip the constructor\n\t * property of prototypes or treat sparse arrays as dense.\n\t *\n\t * @private\n\t * @type Function\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction baseKeys(object) {\n\t  return nativeKeys(Object(object));\n\t}\n\t\n\t/**\n\t * The base implementation of `_.property` without support for deep paths.\n\t *\n\t * @private\n\t * @param {string} key The key of the property to get.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction baseProperty(key) {\n\t  return function(object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\t\n\t/**\n\t * Gets the \"length\" property value of `object`.\n\t *\n\t * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n\t * that affects Safari on at least iOS 8.1-8.3 ARM64.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {*} Returns the \"length\" value.\n\t */\n\tvar getLength = baseProperty('length');\n\t\n\t/**\n\t * Creates an array of index keys for `object` values of arrays,\n\t * `arguments` objects, and strings, otherwise `null` is returned.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array|null} Returns index keys, else `null`.\n\t */\n\tfunction indexKeys(object) {\n\t  var length = object ? object.length : undefined;\n\t  if (isLength(length) &&\n\t      (isArray(object) || isString(object) || isArguments(object))) {\n\t    return baseTimes(length, String);\n\t  }\n\t  return null;\n\t}\n\t\n\t/**\n\t * Checks if `value` is likely a prototype object.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t */\n\tfunction isPrototype(value) {\n\t  var Ctor = value && value.constructor,\n\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\t\n\t  return value === proto;\n\t}\n\t\n\t/**\n\t * Checks if `value` is likely an `arguments` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isArguments(function() { return arguments; }());\n\t * // => true\n\t *\n\t * _.isArguments([1, 2, 3]);\n\t * // => false\n\t */\n\tfunction isArguments(value) {\n\t  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n\t  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n\t    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as an `Array` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @type Function\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isArray([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArray(document.body.children);\n\t * // => false\n\t *\n\t * _.isArray('abc');\n\t * // => false\n\t *\n\t * _.isArray(_.noop);\n\t * // => false\n\t */\n\tvar isArray = Array.isArray;\n\t\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @type Function\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null &&\n\t    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n\t}\n\t\n\t/**\n\t * This method is like `_.isArrayLike` except that it also checks if `value`\n\t * is an object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @type Function\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array-like object, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLikeObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject('abc');\n\t * // => false\n\t *\n\t * _.isArrayLikeObject(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLikeObject(value) {\n\t  return isObjectLike(value) && isArrayLike(value);\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 8 which returns 'object' for typed array constructors, and\n\t  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\t\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\t\n\t/**\n\t * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n\t * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\t\n\t/**\n\t * Checks if `value` is object-like. A value is object-like if it's not `null`\n\t * and has a `typeof` result of \"object\".\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t * @example\n\t *\n\t * _.isObjectLike({});\n\t * // => true\n\t *\n\t * _.isObjectLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObjectLike(_.noop);\n\t * // => false\n\t *\n\t * _.isObjectLike(null);\n\t * // => false\n\t */\n\tfunction isObjectLike(value) {\n\t  return !!value && typeof value == 'object';\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `String` primitive or object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isString('abc');\n\t * // => true\n\t *\n\t * _.isString(1);\n\t * // => false\n\t */\n\tfunction isString(value) {\n\t  return typeof value == 'string' ||\n\t    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n\t}\n\t\n\t/**\n\t * Creates an array of the own enumerable property names of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects. See the\n\t * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n\t * for more details.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.keys(new Foo);\n\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t *\n\t * _.keys('hi');\n\t * // => ['0', '1']\n\t */\n\tfunction keys(object) {\n\t  var isProto = isPrototype(object);\n\t  if (!(isProto || isArrayLike(object))) {\n\t    return baseKeys(object);\n\t  }\n\t  var indexes = indexKeys(object),\n\t      skipIndexes = !!indexes,\n\t      result = indexes || [],\n\t      length = result.length;\n\t\n\t  for (var key in object) {\n\t    if (baseHas(object, key) &&\n\t        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n\t        !(isProto && key == 'constructor')) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = keys;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/**\n\t * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n\t * Build: `lodash modularize exports=\"npm\" -o ./`\n\t * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n\t * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n\t * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t * Available under MIT license <https://lodash.com/license>\n\t */\n\t\n\t/** Used as the `TypeError` message for \"Functions\" methods. */\n\tvar FUNC_ERROR_TEXT = 'Expected a function';\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar INFINITY = 1 / 0,\n\t    MAX_INTEGER = 1.7976931348623157e+308,\n\t    NAN = 0 / 0;\n\t\n\t/** `Object#toString` result references. */\n\tvar funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]';\n\t\n\t/** Used to match leading and trailing whitespace. */\n\tvar reTrim = /^\\s+|\\s+$/g;\n\t\n\t/** Used to detect bad signed hexadecimal string values. */\n\tvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\t\n\t/** Used to detect binary string values. */\n\tvar reIsBinary = /^0b[01]+$/i;\n\t\n\t/** Used to detect octal string values. */\n\tvar reIsOctal = /^0o[0-7]+$/i;\n\t\n\t/** Built-in method references without a dependency on `root`. */\n\tvar freeParseInt = parseInt;\n\t\n\t/**\n\t * A faster alternative to `Function#apply`, this function invokes `func`\n\t * with the `this` binding of `thisArg` and the arguments of `args`.\n\t *\n\t * @private\n\t * @param {Function} func The function to invoke.\n\t * @param {*} thisArg The `this` binding of `func`.\n\t * @param {...*} args The arguments to invoke `func` with.\n\t * @returns {*} Returns the result of `func`.\n\t */\n\tfunction apply(func, thisArg, args) {\n\t  var length = args.length;\n\t  switch (length) {\n\t    case 0: return func.call(thisArg);\n\t    case 1: return func.call(thisArg, args[0]);\n\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t  }\n\t  return func.apply(thisArg, args);\n\t}\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/**\n\t * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeMax = Math.max;\n\t\n\t/**\n\t * Creates a function that invokes `func` with the `this` binding of the\n\t * created function and arguments from `start` and beyond provided as an array.\n\t *\n\t * **Note:** This method is based on the [rest parameter](https://mdn.io/rest_parameters).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Function\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t * @returns {Function} Returns the new function.\n\t * @example\n\t *\n\t * var say = _.rest(function(what, names) {\n\t *   return what + ' ' + _.initial(names).join(', ') +\n\t *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n\t * });\n\t *\n\t * say('hello', 'fred', 'barney', 'pebbles');\n\t * // => 'hello fred, barney, & pebbles'\n\t */\n\tfunction rest(func, start) {\n\t  if (typeof func != 'function') {\n\t    throw new TypeError(FUNC_ERROR_TEXT);\n\t  }\n\t  start = nativeMax(start === undefined ? (func.length - 1) : toInteger(start), 0);\n\t  return function() {\n\t    var args = arguments,\n\t        index = -1,\n\t        length = nativeMax(args.length - start, 0),\n\t        array = Array(length);\n\t\n\t    while (++index < length) {\n\t      array[index] = args[start + index];\n\t    }\n\t    switch (start) {\n\t      case 0: return func.call(this, array);\n\t      case 1: return func.call(this, args[0], array);\n\t      case 2: return func.call(this, args[0], args[1], array);\n\t    }\n\t    var otherArgs = Array(start + 1);\n\t    index = -1;\n\t    while (++index < start) {\n\t      otherArgs[index] = args[index];\n\t    }\n\t    otherArgs[start] = array;\n\t    return apply(func, this, otherArgs);\n\t  };\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 8 which returns 'object' for typed array constructors, and\n\t  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\t\n\t/**\n\t * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n\t * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\t\n\t/**\n\t * Converts `value` to an integer.\n\t *\n\t * **Note:** This function is loosely based on [`ToInteger`](http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {number} Returns the converted integer.\n\t * @example\n\t *\n\t * _.toInteger(3);\n\t * // => 3\n\t *\n\t * _.toInteger(Number.MIN_VALUE);\n\t * // => 0\n\t *\n\t * _.toInteger(Infinity);\n\t * // => 1.7976931348623157e+308\n\t *\n\t * _.toInteger('3');\n\t * // => 3\n\t */\n\tfunction toInteger(value) {\n\t  if (!value) {\n\t    return value === 0 ? value : 0;\n\t  }\n\t  value = toNumber(value);\n\t  if (value === INFINITY || value === -INFINITY) {\n\t    var sign = (value < 0 ? -1 : 1);\n\t    return sign * MAX_INTEGER;\n\t  }\n\t  var remainder = value % 1;\n\t  return value === value ? (remainder ? value - remainder : value) : 0;\n\t}\n\t\n\t/**\n\t * Converts `value` to a number.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to process.\n\t * @returns {number} Returns the number.\n\t * @example\n\t *\n\t * _.toNumber(3);\n\t * // => 3\n\t *\n\t * _.toNumber(Number.MIN_VALUE);\n\t * // => 5e-324\n\t *\n\t * _.toNumber(Infinity);\n\t * // => Infinity\n\t *\n\t * _.toNumber('3');\n\t * // => 3\n\t */\n\tfunction toNumber(value) {\n\t  if (isObject(value)) {\n\t    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n\t    value = isObject(other) ? (other + '') : other;\n\t  }\n\t  if (typeof value != 'string') {\n\t    return value === 0 ? value : +value;\n\t  }\n\t  value = value.replace(reTrim, '');\n\t  var isBinary = reIsBinary.test(value);\n\t  return (isBinary || reIsOctal.test(value))\n\t    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n\t    : (reIsBadHex.test(value) ? NAN : +value);\n\t}\n\t\n\tmodule.exports = rest;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _CRSEPSG3857 = __webpack_require__(7);\n\t\n\tvar _CRSEPSG38572 = _interopRequireDefault(_CRSEPSG3857);\n\t\n\tvar _CRSEPSG3395 = __webpack_require__(13);\n\t\n\tvar _CRSEPSG33952 = _interopRequireDefault(_CRSEPSG3395);\n\t\n\tvar _CRSEPSG4326 = __webpack_require__(15);\n\t\n\tvar _CRSEPSG43262 = _interopRequireDefault(_CRSEPSG4326);\n\t\n\tvar _CRSSimple = __webpack_require__(17);\n\t\n\tvar _CRSSimple2 = _interopRequireDefault(_CRSSimple);\n\t\n\tvar _CRSProj4 = __webpack_require__(18);\n\t\n\tvar _CRSProj42 = _interopRequireDefault(_CRSProj4);\n\t\n\tvar CRS = {};\n\t\n\tCRS.EPSG3857 = _CRSEPSG38572['default'];\n\tCRS.EPSG900913 = _CRSEPSG3857.EPSG900913;\n\tCRS.EPSG3395 = _CRSEPSG33952['default'];\n\tCRS.EPSG4326 = _CRSEPSG43262['default'];\n\tCRS.Simple = _CRSSimple2['default'];\n\tCRS.Proj4 = _CRSProj42['default'];\n\t\n\texports['default'] = CRS;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * CRS.EPSG3857 (WGS 84 / Pseudo-Mercator) CRS implementation.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG3857.js\n\t */\n\t\n\tvar _lodashAssign = __webpack_require__(3);\n\t\n\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\t\n\tvar _CRSEarth = __webpack_require__(8);\n\t\n\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\t\n\tvar _projectionProjectionSphericalMercator = __webpack_require__(11);\n\t\n\tvar _projectionProjectionSphericalMercator2 = _interopRequireDefault(_projectionProjectionSphericalMercator);\n\t\n\tvar _utilTransformation = __webpack_require__(12);\n\t\n\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\t\n\tvar _EPSG3857 = {\n\t  code: 'EPSG:3857',\n\t  projection: _projectionProjectionSphericalMercator2['default'],\n\t\n\t  // Work out how to de-dupe this (scoping issue)\n\t  transformScale: 1 / (Math.PI * _projectionProjectionSphericalMercator2['default'].R),\n\t\n\t  // Scale and transformation inputs changed to account for central origin in\n\t  // WebGL, instead of top-left origin used in Leaflet\n\t  transformation: (function () {\n\t    // TODO: Cannot use this.transformScale due to scope\n\t    var scale = 1 / (Math.PI * _projectionProjectionSphericalMercator2['default'].R);\n\t\n\t    return new _utilTransformation2['default'](scale, 0, -scale, 0);\n\t  })()\n\t};\n\t\n\tvar EPSG3857 = (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _EPSG3857);\n\t\n\tvar EPSG900913 = (0, _lodashAssign2['default'])({}, EPSG3857, {\n\t  code: 'EPSG:900913'\n\t});\n\t\n\texports.EPSG900913 = EPSG900913;\n\texports['default'] = EPSG3857;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * CRS.Earth is the base class for all CRS representing Earth.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.Earth.js\n\t */\n\t\n\tvar _lodashAssign = __webpack_require__(3);\n\t\n\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\t\n\tvar _CRS = __webpack_require__(9);\n\t\n\tvar _CRS2 = _interopRequireDefault(_CRS);\n\t\n\tvar Earth = {\n\t  wrapLon: [-180, 180],\n\t\n\t  R: 6378137,\n\t\n\t  // Distance between two geographical points using spherical law of cosines\n\t  // approximation or Haversine\n\t  //\n\t  // See: http://www.movable-type.co.uk/scripts/latlong.html\n\t  distance: function distance(latlon1, latlon2, accurate) {\n\t    var rad = Math.PI / 180;\n\t\n\t    var lat1;\n\t    var lat2;\n\t\n\t    var a;\n\t\n\t    if (!accurate) {\n\t      lat1 = latlon1[0] * rad;\n\t      lat2 = latlon2[0] * rad;\n\t\n\t      a = Math.sin(lat1) * Math.sin(lat2) + Math.cos(lat1) * Math.cos(lat2) * Math.cos((latlon2[1] - latlon1[1]) * rad);\n\t\n\t      return this.R * Math.acos(Math.min(a, 1));\n\t    } else {\n\t      lat1 = latlon1[0] * rad;\n\t      lat2 = latlon2[0] * rad;\n\t\n\t      var lon1 = latlon1[1] * rad;\n\t      var lon2 = latlon2[1] * rad;\n\t\n\t      var deltaLat = lat2 - lat1;\n\t      var deltaLon = lon2 - lon1;\n\t\n\t      var halfDeltaLat = deltaLat / 2;\n\t      var halfDeltaLon = deltaLon / 2;\n\t\n\t      a = Math.sin(halfDeltaLat) * Math.sin(halfDeltaLat) + Math.cos(lat1) * Math.cos(lat2) * Math.sin(halfDeltaLon) * Math.sin(halfDeltaLon);\n\t\n\t      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\t\n\t      return this.R * c;\n\t    }\n\t  },\n\t\n\t  // Scale factor for converting between real metres and projected metres\n\t  //\n\t  // projectedMetres = realMetres * pointScale\n\t  // realMetres = projectedMetres / pointScale\n\t  //\n\t  // Defaults to a scale factor of 1 if no calculation method exists\n\t  //\n\t  // Probably need to run this through the CRS transformation or similar so the\n\t  // resulting scale is relative to the dimensions of the world space\n\t  // Eg. 1 metre in projected space is likly scaled up or down to some other\n\t  // number\n\t  pointScale: function pointScale(latlon, accurate) {\n\t    return this.projection.pointScale ? this.projection.pointScale(latlon, accurate) : [1, 1];\n\t  },\n\t\n\t  // Convert real metres to projected units\n\t  //\n\t  // Latitude scale is chosen because it fluctuates more than longitude\n\t  metresToProjected: function metresToProjected(metres, pointScale) {\n\t    return metres * pointScale[1];\n\t  },\n\t\n\t  // Convert projected units to real metres\n\t  //\n\t  // Latitude scale is chosen because it fluctuates more than longitude\n\t  projectedToMetres: function projectedToMetres(projectedUnits, pointScale) {\n\t    return projectedUnits / pointScale[1];\n\t  },\n\t\n\t  // Convert real metres to a value in world (WebGL) units\n\t  metresToWorld: function metresToWorld(metres, pointScale, zoom) {\n\t    // Transform metres to projected metres using the latitude point scale\n\t    //\n\t    // Latitude scale is chosen because it fluctuates more than longitude\n\t    var projectedMetres = this.metresToProjected(metres, pointScale);\n\t\n\t    var scale = this.scale(zoom);\n\t\n\t    // Half scale if using zoom as WebGL origin is in the centre, not top left\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\t\n\t    // Scale projected metres\n\t    var scaledMetres = scale * (this.transformScale * projectedMetres) / pointScale[1];\n\t\n\t    return scaledMetres;\n\t  },\n\t\n\t  // Convert world (WebGL) units to a value in real metres\n\t  worldToMetres: function worldToMetres(worldUnits, pointScale, zoom) {\n\t    var scale = this.scale(zoom);\n\t\n\t    // Half scale if using zoom as WebGL origin is in the centre, not top left\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\t\n\t    var projectedUnits = worldUnits / scale / this.transformScale * pointScale[1];\n\t    var realMetres = this.projectedToMetres(projectedUnits, pointScale);\n\t\n\t    return realMetres;\n\t  }\n\t};\n\t\n\texports['default'] = (0, _lodashAssign2['default'])({}, _CRS2['default'], Earth);\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * CRS is the base object for all defined CRS (Coordinate Reference Systems)\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.js\n\t */\n\t\n\tvar _utilWrapNum = __webpack_require__(10);\n\t\n\tvar _utilWrapNum2 = _interopRequireDefault(_utilWrapNum);\n\t\n\tvar CRS = {\n\t  // Scale factor determines final dimensions of world space\n\t  //\n\t  // Projection transformation in range -1 to 1 is multiplied by scale factor to\n\t  // find final world coordinates\n\t  //\n\t  // Scale factor can be considered as half the amount of the desired dimension\n\t  // for the largest side when transformation is equal to 1 or -1, or as the\n\t  // distance between 0 and 1 on the largest side\n\t  //\n\t  // For example, if you want the world dimensions to be between -1000 and 1000\n\t  // then the scale factor will be 1000\n\t  scaleFactor: 1000,\n\t\n\t  // Converts geo coords to pixel / WebGL ones\n\t  latLonToPoint: function latLonToPoint(latlon, zoom) {\n\t    var projectedPoint = this.projection.project(latlon);\n\t    var scale = this.scale(zoom);\n\t\n\t    // Half scale if using zoom as WebGL origin is in the centre, not top left\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\t\n\t    return this.transformation._transform(projectedPoint, scale);\n\t  },\n\t\n\t  // Converts pixel / WebGL coords to geo coords\n\t  pointToLatLon: function pointToLatLon(point, zoom) {\n\t    var scale = this.scale(zoom);\n\t\n\t    // Half scale if using zoom as WebGL origin is in the centre, not top left\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\t\n\t    var untransformedPoint = this.transformation.untransform(point, scale);\n\t\n\t    return this.projection.unproject(untransformedPoint);\n\t  },\n\t\n\t  // Converts geo coords to projection-specific coords (e.g. in meters)\n\t  project: function project(latlon) {\n\t    return this.projection.project(latlon);\n\t  },\n\t\n\t  // Converts projected coords to geo coords\n\t  unproject: function unproject(point) {\n\t    return this.projection.unproject(point);\n\t  },\n\t\n\t  // If zoom is provided, returns the map width in pixels for a given zoom\n\t  // Else, provides fixed scale value\n\t  scale: function scale(zoom) {\n\t    // If zoom is provided then return scale based on map tile zoom\n\t    if (zoom >= 0) {\n\t      return 256 * Math.pow(2, zoom);\n\t      // Else, return fixed scale value to expand projected coordinates from\n\t      // their 0 to 1 range into something more practical\n\t    } else {\n\t        return this.scaleFactor;\n\t      }\n\t  },\n\t\n\t  // Returns zoom level for a given scale value\n\t  // This only works with a scale value that is based on map pixel width\n\t  zoom: function zoom(scale) {\n\t    return Math.log(scale / 256) / Math.LN2;\n\t  },\n\t\n\t  // Returns the bounds of the world in projected coords if applicable\n\t  getProjectedBounds: function getProjectedBounds(zoom) {\n\t    if (this.infinite) {\n\t      return null;\n\t    }\n\t\n\t    var b = this.projection.bounds;\n\t    var s = this.scale(zoom);\n\t\n\t    // Half scale if using zoom as WebGL origin is in the centre, not top left\n\t    if (zoom) {\n\t      s /= 2;\n\t    }\n\t\n\t    // Bottom left\n\t    var min = this.transformation.transform(b[0], s);\n\t\n\t    // Top right\n\t    var max = this.transformation.transform(b[1], s);\n\t\n\t    return [min, max];\n\t  },\n\t\n\t  // Whether a coordinate axis wraps in a given range (e.g. longitude from -180 to 180); depends on CRS\n\t  // wrapLon: [min, max],\n\t  // wrapLat: [min, max],\n\t\n\t  // If true, the coordinate space will be unbounded (infinite in all directions)\n\t  // infinite: false,\n\t\n\t  // Wraps geo coords in certain ranges if applicable\n\t  wrapLatLon: function wrapLatLon(latlon) {\n\t    var lat = this.wrapLat ? (0, _utilWrapNum2['default'])(latlon[0], this.wrapLat, true) : latlon[0];\n\t    var lng = this.wrapLon ? (0, _utilWrapNum2['default'])(latlon[1], this.wrapLon, true) : latlon[1];\n\t    var alt = latlon[2];\n\t\n\t    return [lat, lng, alt];\n\t  }\n\t};\n\t\n\texports['default'] = CRS;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t * Wrap the given number to lie within a certain range (eg. longitude)\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/core/Util.js\n\t */\n\t\n\tvar wrapNum = function wrapNum(x, range, includeMax) {\n\t  var max = range[1];\n\t  var min = range[0];\n\t  var d = max - min;\n\t  return x === max && includeMax ? x : ((x - min) % d + d) % d + min;\n\t};\n\t\n\texports[\"default\"] = wrapNum;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS\n\t * used by default.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.SphericalMercator.js\n\t */\n\t\n\tvar SphericalMercator = {\n\t  // Radius / WGS84 semi-major axis\n\t  R: 6378137,\n\t  MAX_LATITUDE: 85.0511287798,\n\t\n\t  // WGS84 eccentricity\n\t  ECC: 0.081819191,\n\t  ECC2: 0.081819191 * 0.081819191,\n\t\n\t  project: function project(latlon) {\n\t    var d = Math.PI / 180;\n\t    var max = this.MAX_LATITUDE;\n\t    var lat = Math.max(Math.min(max, latlon[0]), -max);\n\t    var sin = Math.sin(lat * d);\n\t\n\t    return [this.R * latlon[1] * d, this.R * Math.log((1 + sin) / (1 - sin)) / 2];\n\t  },\n\t\n\t  unproject: function unproject(point) {\n\t    var d = 180 / Math.PI;\n\t\n\t    return [(2 * Math.atan(Math.exp(point[1] / this.R)) - Math.PI / 2) * d, point[0] * d / this.R];\n\t  },\n\t\n\t  // Scale factor for converting between real metres and projected metres\n\t  //\n\t  // projectedMetres = realMetres * pointScale\n\t  // realMetres = projectedMetres / pointScale\n\t  //\n\t  // Accurate scale factor uses proper Web Mercator scaling\n\t  // See pg.9: http://www.hydrometronics.com/downloads/Web%20Mercator%20-%20Non-Conformal,%20Non-Mercator%20(notes).pdf\n\t  // See: http://jsfiddle.net/robhawkes/yws924cf/\n\t  pointScale: function pointScale(latlon, accurate) {\n\t    var rad = Math.PI / 180;\n\t\n\t    var k;\n\t\n\t    if (!accurate) {\n\t      k = 1 / Math.cos(latlon[0] * rad);\n\t\n\t      // [scaleX, scaleY]\n\t      return [k, k];\n\t    } else {\n\t      var lat = latlon[0] * rad;\n\t      var lon = latlon[1] * rad;\n\t\n\t      var a = this.R;\n\t\n\t      var sinLat = Math.sin(lat);\n\t      var sinLat2 = sinLat * sinLat;\n\t\n\t      var cosLat = Math.cos(lat);\n\t\n\t      // Radius meridian\n\t      var p = a * (1 - this.ECC2) / Math.pow(1 - this.ECC2 * sinLat2, 3 / 2);\n\t\n\t      // Radius prime meridian\n\t      var v = a / Math.sqrt(1 - this.ECC2 * sinLat2);\n\t\n\t      // Scale N/S\n\t      var h = a / p / cosLat;\n\t\n\t      // Scale E/W\n\t      k = a / v / cosLat;\n\t\n\t      // [scaleX, scaleY]\n\t      return [k, h];\n\t    }\n\t  },\n\t\n\t  // Not using this.R due to scoping\n\t  bounds: (function () {\n\t    var d = 6378137 * Math.PI;\n\t    return [[-d, -d], [d, d]];\n\t  })()\n\t};\n\t\n\texports[\"default\"] = SphericalMercator;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/*\n\t * Transformation is an utility class to perform simple point transformations\n\t * through a 2d-matrix.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geometry/Transformation.js\n\t */\n\t\n\tvar Transformation = (function () {\n\t  function Transformation(a, b, c, d) {\n\t    _classCallCheck(this, Transformation);\n\t\n\t    this._a = a;\n\t    this._b = b;\n\t    this._c = c;\n\t    this._d = d;\n\t  }\n\t\n\t  _createClass(Transformation, [{\n\t    key: \"transform\",\n\t    value: function transform(point, scale) {\n\t      // Copy input point as to not destroy the original data\n\t      return this._transform([point[0], point[1]], scale);\n\t    }\n\t\n\t    // Destructive transform (faster)\n\t  }, {\n\t    key: \"_transform\",\n\t    value: function _transform(point, scale) {\n\t      scale = scale || 1;\n\t\n\t      point[0] = scale * (this._a * point[0] + this._b);\n\t      point[1] = scale * (this._c * point[1] + this._d);\n\t      return point;\n\t    }\n\t  }, {\n\t    key: \"untransform\",\n\t    value: function untransform(point, scale) {\n\t      scale = scale || 1;\n\t      return [(point[0] / scale - this._b) / this._a, (point[1] / scale - this._d) / this._c];\n\t    }\n\t  }]);\n\t\n\t  return Transformation;\n\t})();\n\t\n\texports[\"default\"] = Transformation;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * CRS.EPSG3395 (WGS 84 / World Mercator) CRS implementation.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG3395.js\n\t */\n\t\n\tvar _lodashAssign = __webpack_require__(3);\n\t\n\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\t\n\tvar _CRSEarth = __webpack_require__(8);\n\t\n\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\t\n\tvar _projectionProjectionMercator = __webpack_require__(14);\n\t\n\tvar _projectionProjectionMercator2 = _interopRequireDefault(_projectionProjectionMercator);\n\t\n\tvar _utilTransformation = __webpack_require__(12);\n\t\n\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\t\n\tvar _EPSG3395 = {\n\t  code: 'EPSG:3395',\n\t  projection: _projectionProjectionMercator2['default'],\n\t\n\t  // Work out how to de-dupe this (scoping issue)\n\t  transformScale: 1 / (Math.PI * _projectionProjectionMercator2['default'].R),\n\t\n\t  // Scale and transformation inputs changed to account for central origin in\n\t  // WebGL, instead of top-left origin used in Leaflet\n\t  transformation: (function () {\n\t    // TODO: Cannot use this.transformScale due to scope\n\t    var scale = 1 / (Math.PI * _projectionProjectionMercator2['default'].R);\n\t\n\t    return new _utilTransformation2['default'](scale, 0, -scale, 0);\n\t  })()\n\t};\n\t\n\tvar EPSG3395 = (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _EPSG3395);\n\t\n\texports['default'] = EPSG3395;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t * Mercator projection that takes into account that the Earth is not a perfect\n\t * sphere. Less popular than spherical mercator; used by projections like\n\t * EPSG:3395.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.Mercator.js\n\t */\n\t\n\tvar Mercator = {\n\t  // Radius / WGS84 semi-major axis\n\t  R: 6378137,\n\t  R_MINOR: 6356752.314245179,\n\t\n\t  // WGS84 eccentricity\n\t  ECC: 0.081819191,\n\t  ECC2: 0.081819191 * 0.081819191,\n\t\n\t  project: function project(latlon) {\n\t    var d = Math.PI / 180;\n\t    var r = this.R;\n\t    var y = latlon[0] * d;\n\t    var tmp = this.R_MINOR / r;\n\t    var e = Math.sqrt(1 - tmp * tmp);\n\t    var con = e * Math.sin(y);\n\t\n\t    var ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\n\t    y = -r * Math.log(Math.max(ts, 1E-10));\n\t\n\t    return [latlon[1] * d * r, y];\n\t  },\n\t\n\t  unproject: function unproject(point) {\n\t    var d = 180 / Math.PI;\n\t    var r = this.R;\n\t    var tmp = this.R_MINOR / r;\n\t    var e = Math.sqrt(1 - tmp * tmp);\n\t    var ts = Math.exp(-point[1] / r);\n\t    var phi = Math.PI / 2 - 2 * Math.atan(ts);\n\t\n\t    for (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\n\t      con = e * Math.sin(phi);\n\t      con = Math.pow((1 - con) / (1 + con), e / 2);\n\t      dphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\n\t      phi += dphi;\n\t    }\n\t\n\t    return [phi * d, point[0] * d / r];\n\t  },\n\t\n\t  // Scale factor for converting between real metres and projected metres\n\t  //\n\t  // projectedMetres = realMetres * pointScale\n\t  // realMetres = projectedMetres / pointScale\n\t  //\n\t  // See pg.8: http://www.hydrometronics.com/downloads/Web%20Mercator%20-%20Non-Conformal,%20Non-Mercator%20(notes).pdf\n\t  pointScale: function pointScale(latlon) {\n\t    var rad = Math.PI / 180;\n\t    var lat = latlon[0] * rad;\n\t    var sinLat = Math.sin(lat);\n\t    var sinLat2 = sinLat * sinLat;\n\t    var cosLat = Math.cos(lat);\n\t\n\t    var k = Math.sqrt(1 - this.ECC2 * sinLat2) / cosLat;\n\t\n\t    // [scaleX, scaleY]\n\t    return [k, k];\n\t  },\n\t\n\t  bounds: [[-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]]\n\t};\n\t\n\texports[\"default\"] = Mercator;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * CRS.EPSG4326 is a CRS popular among advanced GIS specialists.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG4326.js\n\t */\n\t\n\tvar _lodashAssign = __webpack_require__(3);\n\t\n\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\t\n\tvar _CRSEarth = __webpack_require__(8);\n\t\n\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\t\n\tvar _projectionProjectionLatLon = __webpack_require__(16);\n\t\n\tvar _projectionProjectionLatLon2 = _interopRequireDefault(_projectionProjectionLatLon);\n\t\n\tvar _utilTransformation = __webpack_require__(12);\n\t\n\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\t\n\tvar _EPSG4326 = {\n\t  code: 'EPSG:4326',\n\t  projection: _projectionProjectionLatLon2['default'],\n\t\n\t  // Work out how to de-dupe this (scoping issue)\n\t  transformScale: 1 / 180,\n\t\n\t  // Scale and transformation inputs changed to account for central origin in\n\t  // WebGL, instead of top-left origin used in Leaflet\n\t  //\n\t  // TODO: Cannot use this.transformScale due to scope\n\t  transformation: new _utilTransformation2['default'](1 / 180, 0, -1 / 180, 0)\n\t};\n\t\n\tvar EPSG4326 = (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _EPSG4326);\n\t\n\texports['default'] = EPSG4326;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326\n\t * and Simple.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.LonLat.js\n\t */\n\t\n\tvar LatLon = {\n\t  project: function project(latlon) {\n\t    return [latlon[1], latlon[0]];\n\t  },\n\t\n\t  unproject: function unproject(point) {\n\t    return [point[1], point[0]];\n\t  },\n\t\n\t  // Scale factor for converting between real metres and degrees\n\t  //\n\t  // degrees = realMetres * pointScale\n\t  // realMetres = degrees / pointScale\n\t  //\n\t  // See: http://stackoverflow.com/questions/639695/how-to-convert-latitude-or-longitude-to-meters\n\t  // See: http://gis.stackexchange.com/questions/75528/length-of-a-degree-where-do-the-terms-in-this-formula-come-from\n\t  pointScale: function pointScale(latlon) {\n\t    var m1 = 111132.92;\n\t    var m2 = -559.82;\n\t    var m3 = 1.175;\n\t    var m4 = -0.0023;\n\t    var p1 = 111412.84;\n\t    var p2 = -93.5;\n\t    var p3 = 0.118;\n\t\n\t    var rad = Math.PI / 180;\n\t    var lat = latlon[0] * rad;\n\t\n\t    var latlen = m1 + m2 * Math.cos(2 * lat) + m3 * Math.cos(4 * lat) + m4 * Math.cos(6 * lat);\n\t    var lonlen = p1 * Math.cos(lat) + p2 * Math.cos(3 * lat) + p3 * Math.cos(5 * lat);\n\t\n\t    return [1 / latlen, 1 / lonlen];\n\t  },\n\t\n\t  bounds: [[-180, -90], [180, 90]]\n\t};\n\t\n\texports[\"default\"] = LatLon;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * A simple CRS that can be used for flat non-Earth maps like panoramas or game\n\t * maps.\n\t *\n\t * Based on:\n\t * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.Simple.js\n\t */\n\t\n\tvar _lodashAssign = __webpack_require__(3);\n\t\n\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\t\n\tvar _CRS = __webpack_require__(9);\n\t\n\tvar _CRS2 = _interopRequireDefault(_CRS);\n\t\n\tvar _projectionProjectionLatLon = __webpack_require__(16);\n\t\n\tvar _projectionProjectionLatLon2 = _interopRequireDefault(_projectionProjectionLatLon);\n\t\n\tvar _utilTransformation = __webpack_require__(12);\n\t\n\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\t\n\tvar _Simple = {\n\t  projection: _projectionProjectionLatLon2['default'],\n\t\n\t  // Straight 1:1 mapping (-1, -1 would be top-left)\n\t  transformation: new _utilTransformation2['default'](1, 0, 1, 0),\n\t\n\t  scale: function scale(zoom) {\n\t    // If zoom is provided then return scale based on map tile zoom\n\t    if (zoom) {\n\t      return Math.pow(2, zoom);\n\t      // Else, make no change to scale  may need to increase this or make it a\n\t      // user-definable variable\n\t    } else {\n\t        return 1;\n\t      }\n\t  },\n\t\n\t  zoom: function zoom(scale) {\n\t    return Math.log(scale) / Math.LN2;\n\t  },\n\t\n\t  distance: function distance(latlon1, latlon2) {\n\t    var dx = latlon2[1] - latlon1[1];\n\t    var dy = latlon2[0] - latlon1[0];\n\t\n\t    return Math.sqrt(dx * dx + dy * dy);\n\t  },\n\t\n\t  infinite: true\n\t};\n\t\n\tvar Simple = (0, _lodashAssign2['default'])({}, _CRS2['default'], _Simple);\n\t\n\texports['default'] = Simple;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * CRS.Proj4 for any Proj4-supported CRS.\n\t */\n\t\n\tvar _lodashAssign = __webpack_require__(3);\n\t\n\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\t\n\tvar _CRSEarth = __webpack_require__(8);\n\t\n\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\t\n\tvar _projectionProjectionProj4 = __webpack_require__(19);\n\t\n\tvar _projectionProjectionProj42 = _interopRequireDefault(_projectionProjectionProj4);\n\t\n\tvar _utilTransformation = __webpack_require__(12);\n\t\n\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\t\n\tvar _Proj4 = function _Proj4(code, def, bounds) {\n\t  var projection = (0, _projectionProjectionProj42['default'])(def, bounds);\n\t\n\t  // Transformation calcuations\n\t  var diffX = projection.bounds[1][0] - projection.bounds[0][0];\n\t  var diffY = projection.bounds[1][1] - projection.bounds[0][1];\n\t\n\t  var halfX = diffX / 2;\n\t  var halfY = diffY / 2;\n\t\n\t  // This is the raw scale factor\n\t  var scaleX = 1 / halfX;\n\t  var scaleY = 1 / halfY;\n\t\n\t  // Find the minimum scale factor\n\t  //\n\t  // The minimum scale factor comes from the largest side and is the one\n\t  // you want to use for both axis so they stay relative in dimension\n\t  var scale = Math.min(scaleX, scaleY);\n\t\n\t  // Find amount to offset each axis by to make the central point lie on\n\t  // the [0,0] origin\n\t  var offsetX = scale * (projection.bounds[0][0] + halfX);\n\t  var offsetY = scale * (projection.bounds[0][1] + halfY);\n\t\n\t  return {\n\t    code: code,\n\t    projection: projection,\n\t\n\t    transformScale: scale,\n\t\n\t    // Map the input to a [-1,1] range with [0,0] in the centre\n\t    transformation: new _utilTransformation2['default'](scale, -offsetX, -scale, offsetY)\n\t  };\n\t};\n\t\n\tvar Proj4 = function Proj4(code, def, bounds) {\n\t  return (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _Proj4(code, def, bounds));\n\t};\n\t\n\texports['default'] = Proj4;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\t/*\n\t * Proj4 support for any projection.\n\t */\n\t\n\tvar _proj4 = __webpack_require__(20);\n\t\n\tvar _proj42 = _interopRequireDefault(_proj4);\n\t\n\tvar Proj4 = function Proj4(def, bounds) {\n\t  var proj = (0, _proj42['default'])(def);\n\t\n\t  var project = function project(latlon) {\n\t    return proj.forward([latlon[1], latlon[0]]);\n\t  };\n\t\n\t  var unproject = function unproject(point) {\n\t    var inverse = proj.inverse(point);\n\t    return [inverse[1], inverse[0]];\n\t  };\n\t\n\t  return {\n\t    project: project,\n\t    unproject: unproject,\n\t\n\t    // Scale factor for converting between real metres and projected metres\\\n\t    //\n\t    // Need to work out the best way to provide the pointScale calculations\n\t    // for custom, unknown projections (if wanting to override default)\n\t    //\n\t    // For now, user can manually override crs.pointScale or\n\t    // crs.projection.pointScale\n\t    //\n\t    // projectedMetres = realMetres * pointScale\n\t    // realMetres = projectedMetres / pointScale\n\t    pointScale: function pointScale(latlon, accurate) {\n\t      return [1, 1];\n\t    },\n\t\n\t    // Try and calculate bounds if none are provided\n\t    //\n\t    // This will provide incorrect bounds for some projections, so perhaps make\n\t    // bounds a required input instead\n\t    bounds: (function () {\n\t      if (bounds) {\n\t        return bounds;\n\t      } else {\n\t        var bottomLeft = project([-90, -180]);\n\t        var topRight = project([90, 180]);\n\t\n\t        return [bottomLeft, topRight];\n\t      }\n\t    })()\n\t  };\n\t};\n\t\n\texports['default'] = Proj4;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _three = __webpack_require__(22);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _Scene = __webpack_require__(23);\n\t\n\tvar _Scene2 = _interopRequireDefault(_Scene);\n\t\n\tvar _Renderer = __webpack_require__(24);\n\t\n\tvar _Renderer2 = _interopRequireDefault(_Renderer);\n\t\n\tvar _Camera = __webpack_require__(25);\n\t\n\tvar _Camera2 = _interopRequireDefault(_Camera);\n\t\n\tvar Engine = (function (_EventEmitter) {\n\t  _inherits(Engine, _EventEmitter);\n\t\n\t  function Engine(container) {\n\t    _classCallCheck(this, Engine);\n\t\n\t    console.log('Init Engine');\n\t\n\t    _get(Object.getPrototypeOf(Engine.prototype), 'constructor', this).call(this);\n\t\n\t    this._scene = _Scene2['default'];\n\t    this._renderer = (0, _Renderer2['default'])(container);\n\t    this._camera = (0, _Camera2['default'])(container);\n\t    this.clock = new _three2['default'].Clock();\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  _createClass(Engine, [{\n\t    key: '_update',\n\t    value: function _update(delta) {\n\t      this.emit('preRender');\n\t      this._renderer.render(this._scene, this._camera);\n\t      this.emit('postRender');\n\t    }\n\t  }]);\n\t\n\t  return Engine;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = function (container) {\n\t  return new Engine(container);\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _three = __webpack_require__(22);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\t// This can be imported from anywhere and will still reference the same scene,\n\t// though there is a helper reference in Engine.scene\n\t\n\texports['default'] = (function () {\n\t  var scene = new _three2['default'].Scene();\n\t  scene.fog = new _three2['default'].Fog(0xffffff, 1, 15000);\n\t  return scene;\n\t})();\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _three = __webpack_require__(22);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _Scene = __webpack_require__(23);\n\t\n\tvar _Scene2 = _interopRequireDefault(_Scene);\n\t\n\t// This can only be accessed from Engine.renderer if you want to reference the\n\t// same scene in multiple places\n\t\n\texports['default'] = function (container) {\n\t  var renderer = new _three2['default'].WebGLRenderer({\n\t    antialias: true\n\t  });\n\t\n\t  renderer.setClearColor(_Scene2['default'].fog.color, 1);\n\t\n\t  // Gamma settings make things look nicer\n\t  renderer.gammaInput = true;\n\t  renderer.gammaOutput = true;\n\t\n\t  container.appendChild(renderer.domElement);\n\t\n\t  var updateSize = function updateSize() {\n\t    renderer.setSize(container.clientWidth, container.clientHeight);\n\t  };\n\t\n\t  window.addEventListener('resize', updateSize, false);\n\t  updateSize();\n\t\n\t  return renderer;\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _three = __webpack_require__(22);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\t// This can only be accessed from Engine.camera if you want to reference the\n\t// same scene in multiple places\n\t\n\texports['default'] = function (container) {\n\t  var camera = new _three2['default'].PerspectiveCamera(40, 1, 1, 40000);\n\t  camera.position.z = 400;\n\t\n\t  var updateSize = function updateSize() {\n\t    camera.aspect = container.clientWidth / container.clientHeight;\n\t    camera.updateProjectionMatrix();\n\t  };\n\t\n\t  window.addEventListener('resize', updateSize, false);\n\t  updateSize();\n\t\n\t  return camera;\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _ControlsOrbit = __webpack_require__(27);\n\t\n\tvar _ControlsOrbit2 = _interopRequireDefault(_ControlsOrbit);\n\t\n\tvar Controls = {\n\t  Orbit: _ControlsOrbit2['default']\n\t};\n\t\n\texports['default'] = Controls;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _three = __webpack_require__(22);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _threeOrbitControls = __webpack_require__(28);\n\t\n\tvar _threeOrbitControls2 = _interopRequireDefault(_threeOrbitControls);\n\t\n\tvar _OrbitControls = (0, _threeOrbitControls2['default'])(_three2['default']);\n\t\n\tvar Orbit = (function (_EventEmitter) {\n\t  _inherits(Orbit, _EventEmitter);\n\t\n\t  function Orbit() {\n\t    _classCallCheck(this, Orbit);\n\t\n\t    _get(Object.getPrototypeOf(Orbit.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  // Proxy control events\n\t  //\n\t  // There's currently no distinction between pan, orbit and zoom events\n\t\n\t  _createClass(Orbit, [{\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      var _this = this;\n\t\n\t      this._controls.addEventListener('start', function (event) {\n\t        _this._world.emit('controlsMoveStart', event.target.center);\n\t      });\n\t\n\t      this._controls.addEventListener('change', function (event) {\n\t        _this._world.emit('controlsMove', event.target.center);\n\t      });\n\t\n\t      this._controls.addEventListener('end', function (event) {\n\t        _this._world.emit('controlsMoveEnd', event.target.center);\n\t      });\n\t    }\n\t\n\t    // Moving the camera along the [x,y,z] axis based on a target position\n\t  }, {\n\t    key: '_panTo',\n\t    value: function _panTo(point, animate) {}\n\t  }, {\n\t    key: '_panBy',\n\t    value: function _panBy(pointDelta, animate) {}\n\t\n\t    // Zooming the camera in and out\n\t  }, {\n\t    key: '_zoomTo',\n\t    value: function _zoomTo(metres, animate) {}\n\t  }, {\n\t    key: '_zoomBy',\n\t    value: function _zoomBy(metresDelta, animate) {}\n\t\n\t    // Force camera to look at something other than the target\n\t  }, {\n\t    key: '_lookAt',\n\t    value: function _lookAt(point, animate) {}\n\t\n\t    // Make camera look at the target\n\t  }, {\n\t    key: '_lookAtTarget',\n\t    value: function _lookAtTarget() {}\n\t\n\t    // Tilt (up and down)\n\t  }, {\n\t    key: '_tiltTo',\n\t    value: function _tiltTo(angle, animate) {}\n\t  }, {\n\t    key: '_tiltBy',\n\t    value: function _tiltBy(angleDelta, animate) {}\n\t\n\t    // Rotate (left and right)\n\t  }, {\n\t    key: '_rotateTo',\n\t    value: function _rotateTo(angle, animate) {}\n\t  }, {\n\t    key: '_rotateBy',\n\t    value: function _rotateBy(angleDelta, animate) {}\n\t\n\t    // Fly to the given point, animating pan and tilt/rotation to final position\n\t    // with nice zoom out and in\n\t    //\n\t    // Calling flyTo a second time before the previous animation has completed\n\t    // will immediately start the new animation from wherever the previous one\n\t    // has got to\n\t  }, {\n\t    key: '_flyTo',\n\t    value: function _flyTo(point, noZoom) {}\n\t\n\t    // Proxy to OrbitControls.update()\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      this._controls.update();\n\t    }\n\t\n\t    // Add controls to world instance and store world reference\n\t  }, {\n\t    key: 'addTo',\n\t    value: function addTo(world) {\n\t      world.addControls(this);\n\t      return this;\n\t    }\n\t\n\t    // Internal method called by World.addControls to actually add the controls\n\t  }, {\n\t    key: '_addToWorld',\n\t    value: function _addToWorld(world) {\n\t      this._world = world;\n\t\n\t      // TODO: Override panLeft and panUp methods to prevent panning on Y axis\n\t      // See: http://stackoverflow.com/a/26188674/997339\n\t      this._controls = new _OrbitControls(world._engine._camera, world._container);\n\t\n\t      this._controls.maxPolarAngle = Math.PI / 2;\n\t\n\t      // this._controls.enableDamping = true;\n\t      // this._controls.dampingFactor = 0.25;\n\t\n\t      this._initEvents();\n\t\n\t      this.emit('added');\n\t    }\n\t  }]);\n\t\n\t  return Orbit;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = function () {\n\t  return new Orbit();\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(THREE) {\n\t\tvar MOUSE = THREE.MOUSE\n\t\tif (!MOUSE)\n\t\t\tMOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\n\t\n\t\t/**\n\t\t * @author qiao / https://github.com/qiao\n\t\t * @author mrdoob / http://mrdoob.com\n\t\t * @author alteredq / http://alteredqualia.com/\n\t\t * @author WestLangley / http://github.com/WestLangley\n\t\t * @author erich666 / http://erichaines.com\n\t\t */\n\t\t/*global THREE, console */\n\t\n\t\tfunction OrbitConstraint ( object ) {\n\t\n\t\t\tthis.object = object;\n\t\n\t\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\t\t// and where it pans with respect to.\n\t\t\tthis.target = new THREE.Vector3();\n\t\n\t\t\t// Limits to how far you can dolly in and out ( PerspectiveCamera only )\n\t\t\tthis.minDistance = 0;\n\t\t\tthis.maxDistance = Infinity;\n\t\n\t\t\t// Limits to how far you can zoom in and out ( OrthographicCamera only )\n\t\t\tthis.minZoom = 0;\n\t\t\tthis.maxZoom = Infinity;\n\t\n\t\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t\t// Range is 0 to Math.PI radians.\n\t\t\tthis.minPolarAngle = 0; // radians\n\t\t\tthis.maxPolarAngle = Math.PI; // radians\n\t\n\t\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\t\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\t\tthis.maxAzimuthAngle = Infinity; // radians\n\t\n\t\t\t// Set to true to enable damping (inertia)\n\t\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\t\tthis.enableDamping = false;\n\t\t\tthis.dampingFactor = 0.25;\n\t\n\t\t\t////////////\n\t\t\t// internals\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar EPS = 0.000001;\n\t\n\t\t\t// Current position in spherical coordinate system.\n\t\t\tvar theta;\n\t\t\tvar phi;\n\t\n\t\t\t// Pending changes\n\t\t\tvar phiDelta = 0;\n\t\t\tvar thetaDelta = 0;\n\t\t\tvar scale = 1;\n\t\t\tvar panOffset = new THREE.Vector3();\n\t\t\tvar zoomChanged = false;\n\t\n\t\t\t// API\n\t\n\t\t\tthis.getPolarAngle = function () {\n\t\n\t\t\t\treturn phi;\n\t\n\t\t\t};\n\t\n\t\t\tthis.getAzimuthalAngle = function () {\n\t\n\t\t\t\treturn theta;\n\t\n\t\t\t};\n\t\n\t\t\tthis.rotateLeft = function ( angle ) {\n\t\n\t\t\t\tthetaDelta -= angle;\n\t\n\t\t\t};\n\t\n\t\t\tthis.rotateUp = function ( angle ) {\n\t\n\t\t\t\tphiDelta -= angle;\n\t\n\t\t\t};\n\t\n\t\t\t// pass in distance in world space to move left\n\t\t\tthis.panLeft = function() {\n\t\n\t\t\t\tvar v = new THREE.Vector3();\n\t\n\t\t\t  return function panLeft(distance) {\n\t\t\t    var te = this.object.matrix.elements;\n\t\t\t    var adjDist = distance / Math.cos(phi);\n\t\n\t\t\t    v.set(te[ 0 ], 0, te[ 2 ]).normalize();\n\t\t\t    v.multiplyScalar(-adjDist);\n\t\n\t\t\t    panOffset.add(v);\n\t\t\t  };\n\t\n\t\t\t}();\n\t\n\t\t\t// pass in distance in world space to move up\n\t\t\tthis.panUp = function() {\n\t\n\t\t\t\tvar v = new THREE.Vector3();\n\t\n\t\t\t  return function panUp(distance) {\n\t\t\t    var te = this.object.matrix.elements;\n\t\t\t    var adjDist = distance / Math.cos(phi);\n\t\n\t\t\t    v.set(te[ 8 ], 0, te[ 10 ]).normalize();\n\t\t\t    v.multiplyScalar(-adjDist);\n\t\n\t\t\t    panOffset.add(v);\n\t\t\t  };\n\t\n\t\t\t}();\n\t\n\t\t\t// pass in x,y of change desired in pixel space,\n\t\t\t// right and down are positive\n\t\t\tthis.pan = function ( deltaX, deltaY, screenWidth, screenHeight ) {\n\t\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\t\n\t\t\t\t\t// perspective\n\t\t\t\t\tvar position = scope.object.position;\n\t\t\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\t\t\tvar targetDistance = offset.length();\n\t\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\t\n\t\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\t\tscope.panLeft( 2 * deltaX * targetDistance / screenHeight );\n\t\t\t\t\tscope.panUp( 2 * deltaY * targetDistance / screenHeight );\n\t\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\t\n\t\t\t\t\t// orthographic\n\t\t\t\t\tscope.panLeft( deltaX * ( scope.object.right - scope.object.left ) / screenWidth );\n\t\t\t\t\tscope.panUp( deltaY * ( scope.object.top - scope.object.bottom ) / screenHeight );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// camera neither orthographic or perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.dollyIn = function ( dollyScale ) {\n\t\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\t\n\t\t\t\t\tscale /= dollyScale;\n\t\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\t\n\t\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\tzoomChanged = true;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.dollyOut = function ( dollyScale ) {\n\t\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\t\n\t\t\t\t\tscale *= dollyScale;\n\t\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\t\n\t\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\tzoomChanged = true;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.update = function() {\n\t\n\t\t\t\tvar offset = new THREE.Vector3();\n\t\n\t\t\t\t// so camera.up is the orbit axis\n\t\t\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\t\t\tvar quatInverse = quat.clone().inverse();\n\t\n\t\t\t\tvar lastPosition = new THREE.Vector3();\n\t\t\t\tvar lastQuaternion = new THREE.Quaternion();\n\t\n\t\t\t\treturn function () {\n\t\n\t\t\t\t\tvar position = this.object.position;\n\t\n\t\t\t\t\toffset.copy( position ).sub( this.target );\n\t\n\t\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\t\toffset.applyQuaternion( quat );\n\t\n\t\t\t\t\t// angle from z-axis around y-axis\n\t\n\t\t\t\t\ttheta = Math.atan2( offset.x, offset.z );\n\t\n\t\t\t\t\t// angle from y-axis\n\t\n\t\t\t\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\t\n\t\t\t\t\ttheta += thetaDelta;\n\t\t\t\t\tphi += phiDelta;\n\t\n\t\t\t\t\t// restrict theta to be between desired limits\n\t\t\t\t\ttheta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\t\n\t\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\t\n\t\t\t\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\t\t\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\t\n\t\t\t\t\tvar radius = offset.length() * scale;\n\t\n\t\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\t\n\t\t\t\t\t// move target to panned location\n\t\t\t\t\tthis.target.add( panOffset );\n\t\n\t\t\t\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\t\t\t\toffset.y = radius * Math.cos( phi );\n\t\t\t\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\t\n\t\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\t\toffset.applyQuaternion( quatInverse );\n\t\n\t\t\t\t\tposition.copy( this.target ).add( offset );\n\t\n\t\t\t\t\tthis.object.lookAt( this.target );\n\t\n\t\t\t\t\tif ( this.enableDamping === true ) {\n\t\n\t\t\t\t\t\tthetaDelta *= ( 1 - this.dampingFactor );\n\t\t\t\t\t\tphiDelta *= ( 1 - this.dampingFactor );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tthetaDelta = 0;\n\t\t\t\t\t\tphiDelta = 0;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tscale = 1;\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\t\n\t\t\t\t\t// update condition is:\n\t\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\t\n\t\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\t\t lastPosition.distanceToSquared( this.object.position ) > EPS ||\n\t\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\t\n\t\t\t\t\t\tlastPosition.copy( this.object.position );\n\t\t\t\t\t\tlastQuaternion.copy( this.object.quaternion );\n\t\t\t\t\t\tzoomChanged = false;\n\t\n\t\t\t\t\t\treturn true;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn false;\n\t\n\t\t\t\t};\n\t\n\t\t\t}();\n\t\n\t\t};\n\t\n\t\n\t\t// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n\t\t// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n\t\t// supported.\n\t\t//\n\t\t//    Orbit - left mouse / touch: one finger move\n\t\t//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n\t\t//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\t\n\t\tfunction OrbitControls ( object, domElement ) {\n\t\n\t\t\tvar constraint = new OrbitConstraint( object );\n\t\n\t\t\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\t\n\t\t\t// API\n\t\n\t\t\tObject.defineProperty( this, 'constraint', {\n\t\n\t\t\t\tget: function() {\n\t\n\t\t\t\t\treturn constraint;\n\t\n\t\t\t\t}\n\t\n\t\t\t} );\n\t\n\t\t\tthis.getPolarAngle = function () {\n\t\n\t\t\t\treturn constraint.getPolarAngle();\n\t\n\t\t\t};\n\t\n\t\t\tthis.getAzimuthalAngle = function () {\n\t\n\t\t\t\treturn constraint.getAzimuthalAngle();\n\t\n\t\t\t};\n\t\n\t\t\t// Set to false to disable this control\n\t\t\tthis.enabled = true;\n\t\n\t\t\t// center is old, deprecated; use \"target\" instead\n\t\t\tthis.center = this.target;\n\t\n\t\t\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t\t\t// backwards compatibility.\n\t\t\t// Set to false to disable zooming\n\t\t\tthis.enableZoom = true;\n\t\t\tthis.zoomSpeed = 1.0;\n\t\n\t\t\t// Set to false to disable rotating\n\t\t\tthis.enableRotate = true;\n\t\t\tthis.rotateSpeed = 1.0;\n\t\n\t\t\t// Set to false to disable panning\n\t\t\tthis.enablePan = true;\n\t\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\t\n\t\t\t// Set to true to automatically rotate around the target\n\t\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\t\tthis.autoRotate = false;\n\t\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\t\n\t\t\t// Set to false to disable use of the keys\n\t\t\tthis.enableKeys = true;\n\t\n\t\t\t// The four arrow keys\n\t\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\t\n\t\t\t// Mouse buttons\n\t\t\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\t\n\t\t\t////////////\n\t\t\t// internals\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar rotateStart = new THREE.Vector2();\n\t\t\tvar rotateEnd = new THREE.Vector2();\n\t\t\tvar rotateDelta = new THREE.Vector2();\n\t\n\t\t\tvar panStart = new THREE.Vector2();\n\t\t\tvar panEnd = new THREE.Vector2();\n\t\t\tvar panDelta = new THREE.Vector2();\n\t\n\t\t\tvar dollyStart = new THREE.Vector2();\n\t\t\tvar dollyEnd = new THREE.Vector2();\n\t\t\tvar dollyDelta = new THREE.Vector2();\n\t\n\t\t\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\t\n\t\t\tvar state = STATE.NONE;\n\t\n\t\t\t// for reset\n\t\n\t\t\tthis.target0 = this.target.clone();\n\t\t\tthis.position0 = this.object.position.clone();\n\t\t\tthis.zoom0 = this.object.zoom;\n\t\n\t\t\t// events\n\t\n\t\t\tvar changeEvent = { type: 'change' };\n\t\t\tvar startEvent = { type: 'start' };\n\t\t\tvar endEvent = { type: 'end' };\n\t\n\t\t\t// pass in x,y of change desired in pixel space,\n\t\t\t// right and down are positive\n\t\t\tfunction pan( deltaX, deltaY ) {\n\t\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\t\n\t\t\t\tconstraint.pan( deltaX, deltaY, element.clientWidth, element.clientHeight );\n\t\n\t\t\t}\n\t\n\t\t\tthis.update = function () {\n\t\n\t\t\t\tif ( this.autoRotate && state === STATE.NONE ) {\n\t\n\t\t\t\t\tconstraint.rotateLeft( getAutoRotationAngle() );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( constraint.update() === true ) {\n\t\n\t\t\t\t\tthis.dispatchEvent( changeEvent );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.reset = function () {\n\t\n\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t\tthis.target.copy( this.target0 );\n\t\t\t\tthis.object.position.copy( this.position0 );\n\t\t\t\tthis.object.zoom = this.zoom0;\n\t\n\t\t\t\tthis.object.updateProjectionMatrix();\n\t\t\t\tthis.dispatchEvent( changeEvent );\n\t\n\t\t\t\tthis.update();\n\t\n\t\t\t};\n\t\n\t\t\tfunction getAutoRotationAngle() {\n\t\n\t\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t\n\t\t\t}\n\t\n\t\t\tfunction getZoomScale() {\n\t\n\t\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseDown( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\n\t\t\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\t\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\n\t\t\t\t\tstate = STATE.ROTATE;\n\t\n\t\t\t\t\trotateStart.set( event.clientX, event.clientY );\n\t\n\t\t\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\t\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\n\t\t\t\t\tstate = STATE.DOLLY;\n\t\n\t\t\t\t\tdollyStart.set( event.clientX, event.clientY );\n\t\n\t\t\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\t\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\n\t\t\t\t\tstate = STATE.PAN;\n\t\n\t\t\t\t\tpanStart.set( event.clientX, event.clientY );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( state !== STATE.NONE ) {\n\t\n\t\t\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\t\t\tscope.dispatchEvent( startEvent );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseMove( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\t\n\t\t\t\tif ( state === STATE.ROTATE ) {\n\t\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\n\t\t\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\t\n\t\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\n\t\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\t\n\t\t\t\t\trotateStart.copy( rotateEnd );\n\t\n\t\t\t\t} else if ( state === STATE.DOLLY ) {\n\t\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\n\t\t\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\t\n\t\t\t\t\tif ( dollyDelta.y > 0 ) {\n\t\n\t\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\t\n\t\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\t\n\t\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdollyStart.copy( dollyEnd );\n\t\n\t\t\t\t} else if ( state === STATE.PAN ) {\n\t\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\n\t\t\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\n\t\t\t\t\tpan( panDelta.x, panDelta.y );\n\t\n\t\t\t\t\tpanStart.copy( panEnd );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( state !== STATE.NONE ) scope.update();\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseUp( /* event */ ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\t\t\tscope.dispatchEvent( endEvent );\n\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseWheel( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\n\t\t\t\tvar delta = 0;\n\t\n\t\t\t\tif ( event.wheelDelta !== undefined ) {\n\t\n\t\t\t\t\t// WebKit / Opera / Explorer 9\n\t\n\t\t\t\t\tdelta = event.wheelDelta;\n\t\n\t\t\t\t} else if ( event.detail !== undefined ) {\n\t\n\t\t\t\t\t// Firefox\n\t\n\t\t\t\t\tdelta = - event.detail;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( delta > 0 ) {\n\t\n\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\t\n\t\t\t\t} else if ( delta < 0 ) {\n\t\n\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tscope.update();\n\t\t\t\tscope.dispatchEvent( startEvent );\n\t\t\t\tscope.dispatchEvent( endEvent );\n\t\n\t\t\t}\n\t\n\t\t\tfunction onKeyDown( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\t\n\t\t\t\tswitch ( event.keyCode ) {\n\t\n\t\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction touchstart( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tswitch ( event.touches.length ) {\n\t\n\t\t\t\t\tcase 1:\t// one-fingered touch: rotate\n\t\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\t\n\t\t\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 2:\t// two-fingered touch: dolly\n\t\n\t\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\t\n\t\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 3: // three-fingered touch: pan\n\t\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\t\n\t\t\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\t\n\t\t\t}\n\t\n\t\t\tfunction touchmove( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\t\n\t\t\t\tswitch ( event.touches.length ) {\n\t\n\t\t\t\t\tcase 1: // one-fingered touch: rotate\n\t\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\t\n\t\t\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\t\n\t\t\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\t\n\t\t\t\t\t\trotateStart.copy( rotateEnd );\n\t\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 2: // two-fingered touch: dolly\n\t\n\t\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\t\n\t\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\n\t\t\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\t\n\t\t\t\t\t\tif ( dollyDelta.y > 0 ) {\n\t\n\t\t\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\t\n\t\t\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\t\n\t\t\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tdollyStart.copy( dollyEnd );\n\t\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 3: // three-fingered touch: pan\n\t\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\t\n\t\t\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\n\t\t\t\t\t\tpan( panDelta.x, panDelta.y );\n\t\n\t\t\t\t\t\tpanStart.copy( panEnd );\n\t\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction touchend( /* event */ ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tscope.dispatchEvent( endEvent );\n\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t}\n\t\n\t\t\tfunction contextmenu( event ) {\n\t\n\t\t\t\tevent.preventDefault();\n\t\n\t\t\t}\n\t\n\t\t\tthis.dispose = function() {\n\t\n\t\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\t\t\t\tthis.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\t\t\tthis.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\n\t\t\t\tthis.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\t\n\t\t\t\tthis.domElement.removeEventListener( 'touchstart', touchstart, false );\n\t\t\t\tthis.domElement.removeEventListener( 'touchend', touchend, false );\n\t\t\t\tthis.domElement.removeEventListener( 'touchmove', touchmove, false );\n\t\n\t\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\n\t\t\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\t\n\t\t\t}\n\t\n\t\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\t\n\t\t\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\t\t\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\t\t\tthis.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\t\n\t\t\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\t\t\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\t\t\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\t\n\t\t\twindow.addEventListener( 'keydown', onKeyDown, false );\n\t\n\t\t\t// force an update at start\n\t\t\tthis.update();\n\t\n\t\t};\n\t\n\t\tOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\t\tOrbitControls.prototype.constructor = OrbitControls;\n\t\n\t\tObject.defineProperties( OrbitControls.prototype, {\n\t\n\t\t\tobject: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.object;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\ttarget: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.target;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: target is now immutable. Use target.set() instead.' );\n\t\t\t\t\tthis.constraint.target.copy( value );\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminDistance : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minDistance;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minDistance = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxDistance : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxDistance;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxDistance = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminZoom : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minZoom;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minZoom = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxZoom : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxZoom;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxZoom = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminPolarAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minPolarAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minPolarAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxPolarAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxPolarAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxPolarAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminAzimuthAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minAzimuthAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minAzimuthAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxAzimuthAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxAzimuthAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxAzimuthAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tenableDamping : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.enableDamping;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.enableDamping = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tdampingFactor : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.dampingFactor;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.dampingFactor = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\t// backward compatibility\n\t\n\t\t\tnoZoom: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\t\treturn ! this.enableZoom;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\t\tthis.enableZoom = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tnoRotate: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\t\treturn ! this.enableRotate;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\t\tthis.enableRotate = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tnoPan: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\t\treturn ! this.enablePan;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\t\tthis.enablePan = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tnoKeys: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\t\treturn ! this.enableKeys;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\t\tthis.enableKeys = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tstaticMoving : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\t\treturn ! this.constraint.enableDamping;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\t\tthis.constraint.enableDamping = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tdynamicDampingFactor : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\t\treturn this.constraint.dampingFactor;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\t\tthis.constraint.dampingFactor = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t} );\n\t\n\t\treturn OrbitControls;\n\t}\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _Layer2 = __webpack_require__(30);\n\t\n\tvar _Layer3 = _interopRequireDefault(_Layer2);\n\t\n\tvar _three = __webpack_require__(22);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar EnvironmentLayer = (function (_Layer) {\n\t  _inherits(EnvironmentLayer, _Layer);\n\t\n\t  function EnvironmentLayer() {\n\t    _classCallCheck(this, EnvironmentLayer);\n\t\n\t    _get(Object.getPrototypeOf(EnvironmentLayer.prototype), 'constructor', this).call(this);\n\t\n\t    this._initLights();\n\t    this._initGrid();\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  // Not fleshed out or thought through yet\n\t  //\n\t  // Lights could potentially be put it their own 'layer' to keep this class\n\t  // much simpler and less messy\n\t\n\t  _createClass(EnvironmentLayer, [{\n\t    key: '_initLights',\n\t    value: function _initLights() {\n\t      // Position doesn't really matter (the angle is important), however it's\n\t      // used here so the helpers look more natural.\n\t\n\t      var directionalLight = new _three2['default'].DirectionalLight(0x999999);\n\t      directionalLight.intesity = 0.1;\n\t      directionalLight.position.x = 100;\n\t      directionalLight.position.y = 100;\n\t      directionalLight.position.z = 100;\n\t\n\t      var directionalLight2 = new _three2['default'].DirectionalLight(0x999999);\n\t      directionalLight2.intesity = 0.1;\n\t      directionalLight2.position.x = -100;\n\t      directionalLight2.position.y = 100;\n\t      directionalLight2.position.z = -100;\n\t\n\t      var helper = new _three2['default'].DirectionalLightHelper(directionalLight, 10);\n\t      var helper2 = new _three2['default'].DirectionalLightHelper(directionalLight2, 10);\n\t\n\t      this._layer.add(directionalLight);\n\t      this._layer.add(directionalLight2);\n\t\n\t      this._layer.add(helper);\n\t      this._layer.add(helper2);\n\t    }\n\t\n\t    // Add grid helper for context during initial development\n\t  }, {\n\t    key: '_initGrid',\n\t    value: function _initGrid() {\n\t      var size = 4000;\n\t      var step = 100;\n\t\n\t      var gridHelper = new _three2['default'].GridHelper(size, step);\n\t      this._layer.add(gridHelper);\n\t    }\n\t  }]);\n\t\n\t  return EnvironmentLayer;\n\t})(_Layer3['default']);\n\t\n\texports['default'] = function () {\n\t  return new EnvironmentLayer();\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _three = __webpack_require__(22);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _engineScene = __webpack_require__(23);\n\t\n\tvar _engineScene2 = _interopRequireDefault(_engineScene);\n\t\n\tvar Layer = (function (_EventEmitter) {\n\t  _inherits(Layer, _EventEmitter);\n\t\n\t  function Layer() {\n\t    _classCallCheck(this, Layer);\n\t\n\t    _get(Object.getPrototypeOf(Layer.prototype), 'constructor', this).call(this);\n\t\n\t    this._layer = new _three2['default'].Object3D();\n\t  }\n\t\n\t  // Add layer to world instance and store world reference\n\t\n\t  _createClass(Layer, [{\n\t    key: 'addTo',\n\t    value: function addTo(world) {\n\t      world.addLayer(this);\n\t      return this;\n\t    }\n\t\n\t    // Internal method called by World.addLayer to actually add the layer\n\t  }, {\n\t    key: '_addToWorld',\n\t    value: function _addToWorld(world) {\n\t      this._world = world;\n\t      this.emit('added');\n\t    }\n\t  }]);\n\t\n\t  return Layer;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = Layer;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f2da3f43c0591f287181\n **/","import World from './World';\nimport Controls from './controls/index';\nimport EnvironmentLayer from './layer/environment/EnvironmentLayer';\n\nconst VIZI = {\n  version: '0.3',\n\n  // Public API\n  World: World,\n  Controls: Controls,\n  EnvironmentLayer: EnvironmentLayer\n};\n\nexport default VIZI;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vizicities.js\n **/","import EventEmitter from 'eventemitter3';\nimport extend from 'lodash.assign';\nimport CRS from './geo/CRS/index';\nimport Engine from './engine/Engine';\n\n// Pretty much any event someone using ViziCities would need will be emitted or\n// proxied by World (eg. render events, etc)\n\nclass World extends EventEmitter {\n  constructor(domId, options) {\n    super();\n\n    var defaults = {\n      crs: CRS.EPSG3857\n    };\n\n    this._options = extend(defaults, options);\n\n    console.log(this._options);\n\n    this._layers = [];\n    this._controls = [];\n\n    this._initContainer(domId);\n    this._initEngine();\n    this._initEvents();\n\n    // Kick off the update and render loop\n    this._update();\n  }\n\n  _initContainer(domId) {\n    this._container = document.getElementById(domId);\n  }\n\n  _initEngine() {\n    this._engine = Engine(this._container);\n\n    // Engine events\n    //\n    // Consider proxying these through events on World for public access\n    // this._engine.on('preRender', () => {});\n    // this._engine.on('postRender', () => {});\n  }\n\n  _initEvents() {\n    this.on('controlsMoveEnd', this._onControlsMoveEnd);\n  }\n\n  _onControlsMoveEnd(point) {\n    this._resetView(this.unproject(point));\n  }\n\n  // Reset world view\n  _resetView(latlon) {\n    this.emit('preResetView');\n\n    this._moveStart();\n    this._move(latlon);\n    this._moveEnd();\n\n    this.emit('postResetView');\n  }\n\n  _moveStart() {\n    this.emit('moveStart');\n  }\n\n  _move(latlon) {\n    this._lastPosition = latlon;\n    this.emit('move', latlon);\n  }\n  _moveEnd() {\n    this.emit('moveEnd');\n  }\n\n  _update() {\n    var delta = this._engine.clock.getDelta();\n\n    // Once _update is called it will run forever, for now\n    window.requestAnimationFrame(this._update.bind(this));\n\n    // Update controls\n    this._controls.forEach(controls => {\n      controls.update();\n    });\n\n    this.emit('preUpdate');\n    this._engine._update(delta);\n    this.emit('postUpdate');\n  }\n\n  // Set world view\n  setView(latlon) {\n    this._resetView(latlon);\n    return this;\n  }\n\n  // Return world geographic position\n  getPosition() {\n    return this._lastPosition;\n  }\n\n  // Transform geographic coordinate to world point\n  project(latlon) {}\n\n  // Transform world point to geographic coordinate\n  unproject(point) {}\n\n  addLayer(layer) {\n    layer._addToWorld(this);\n\n    this._layers.push(layer);\n\n    // Could move this into Layer but it'll do here for now\n    this._engine._scene.add(layer._layer);\n\n    this.emit('layerAdded', layer);\n    return this;\n  }\n\n  // Remove layer and perform clean up operations\n  removeLayer(layer) {}\n\n  addControls(controls) {\n    controls._addToWorld(this);\n\n    this._controls.push(controls);\n\n    this.emit('controlsAdded', controls);\n    return this;\n  }\n\n  removeControls(controls) {}\n}\n\n// Initialise without requiring new keyword\nexport default function(domId, options) {\n  return new World(domId, options);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/World.js\n **/","'use strict';\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/eventemitter3/index.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar keys = require('lodash.keys'),\n    rest = require('lodash.rest');\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if ((!eq(objValue, value) ||\n        (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object) {\n  return copyObjectWith(source, props, object);\n}\n\n/**\n * This function is like `copyObject` except that it accepts a function to\n * customize copied values.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObjectWith(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        newValue = customizer ? customizer(object[key], source[key], key, object, source) : source[key];\n\n    assignValue(object, key, newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return rest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = typeof customizer == 'function' ? (length--, customizer) : undefined;\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Performs a [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null &&\n    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Assigns own enumerable properties of source objects to the destination\n * object. Source objects are applied from left to right. Subsequent sources\n * overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function Foo() {\n *   this.c = 3;\n * }\n *\n * function Bar() {\n *   this.e = 5;\n * }\n *\n * Foo.prototype.d = 4;\n * Bar.prototype.f = 6;\n *\n * _.assign({ 'a': 1 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3, 'e': 5 }\n */\nvar assign = createAssigner(function(object, source) {\n  copyObject(source, keys(source), object);\n});\n\nmodule.exports = assign;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.assign/index.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    stringTag = '[object String]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = Object.keys;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n  // that are composed entirely of index properties, return `false` for\n  // `hasOwnProperty` checks of them.\n  return hasOwnProperty.call(object, key) ||\n    (typeof object == 'object' && key in object && getPrototypeOf(object) === null);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @type Function\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  return nativeKeys(Object(object));\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Creates an array of index keys for `object` values of arrays,\n * `arguments` objects, and strings, otherwise `null` is returned.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array|null} Returns index keys, else `null`.\n */\nfunction indexKeys(object) {\n  var length = object ? object.length : undefined;\n  if (isLength(length) &&\n      (isArray(object) || isString(object) || isArguments(object))) {\n    return baseTimes(length, String);\n  }\n  return null;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null &&\n    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object, else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  var isProto = isPrototype(object);\n  if (!(isProto || isArrayLike(object))) {\n    return baseKeys(object);\n  }\n  var indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  for (var key in object) {\n    if (baseHas(object, key) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(isProto && key == 'constructor')) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.keys/index.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  var length = args.length;\n  switch (length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://mdn.io/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.rest(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction rest(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : toInteger(start), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, array);\n      case 1: return func.call(this, args[0], array);\n      case 2: return func.call(this, args[0], args[1], array);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This function is loosely based on [`ToInteger`](http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3');\n * // => 3\n */\nfunction toInteger(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  var remainder = value % 1;\n  return value === value ? (remainder ? value - remainder : value) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3);\n * // => 3\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3');\n * // => 3\n */\nfunction toNumber(value) {\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = rest;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.rest/index.js\n ** module id = 5\n ** module chunks = 0\n **/","import EPSG3857 from './CRS.EPSG3857';\nimport {EPSG900913} from './CRS.EPSG3857';\nimport EPSG3395 from './CRS.EPSG3395';\nimport EPSG4326 from './CRS.EPSG4326';\nimport Simple from './CRS.Simple';\nimport Proj4 from './CRS.Proj4';\n\nconst CRS = {};\n\nCRS.EPSG3857 = EPSG3857;\nCRS.EPSG900913 = EPSG900913;\nCRS.EPSG3395 = EPSG3395;\nCRS.EPSG4326 = EPSG4326;\nCRS.Simple = Simple;\nCRS.Proj4 = Proj4;\n\nexport default CRS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/index.js\n **/","/*\n * CRS.EPSG3857 (WGS 84 / Pseudo-Mercator) CRS implementation.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG3857.js\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport SphericalMercator from '../projection/Projection.SphericalMercator';\nimport Transformation from '../../util/Transformation';\n\nvar _EPSG3857 = {\n  code: 'EPSG:3857',\n  projection: SphericalMercator,\n\n  // Work out how to de-dupe this (scoping issue)\n  transformScale: 1 / (Math.PI * SphericalMercator.R),\n\n  // Scale and transformation inputs changed to account for central origin in\n  // WebGL, instead of top-left origin used in Leaflet\n  transformation: (function() {\n    // TODO: Cannot use this.transformScale due to scope\n    var scale = 1 / (Math.PI * SphericalMercator.R);\n\n    return new Transformation(scale, 0, -scale, 0);\n  }())\n};\n\nconst EPSG3857 = extend({}, Earth, _EPSG3857);\n\nconst EPSG900913 = extend({}, EPSG3857, {\n  code: 'EPSG:900913'\n});\n\nexport {EPSG900913};\n\nexport default EPSG3857;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/CRS.EPSG3857.js\n **/","/*\n * CRS.Earth is the base class for all CRS representing Earth.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.Earth.js\n */\n\nimport extend from 'lodash.assign';\nimport CRS from './CRS';\n\nconst Earth = {\n  wrapLon: [-180, 180],\n\n  R: 6378137,\n\n  // Distance between two geographical points using spherical law of cosines\n  // approximation or Haversine\n  //\n  // See: http://www.movable-type.co.uk/scripts/latlong.html\n  distance: function(latlon1, latlon2, accurate) {\n    var rad = Math.PI / 180;\n\n    var lat1;\n    var lat2;\n\n    var a;\n\n    if (!accurate) {\n      lat1 = latlon1[0] * rad;\n      lat2 = latlon2[0] * rad;\n\n      a = Math.sin(lat1) * Math.sin(lat2) + Math.cos(lat1) * Math.cos(lat2) * Math.cos((latlon2[1] - latlon1[1]) * rad);\n\n      return this.R * Math.acos(Math.min(a, 1));\n    } else {\n      lat1 = latlon1[0] * rad;\n      lat2 = latlon2[0] * rad;\n\n      var lon1 = latlon1[1] * rad;\n      var lon2 = latlon2[1] * rad;\n\n      var deltaLat = lat2 - lat1;\n      var deltaLon = lon2 - lon1;\n\n      var halfDeltaLat = deltaLat / 2;\n      var halfDeltaLon = deltaLon / 2;\n\n      a = Math.sin(halfDeltaLat) * Math.sin(halfDeltaLat) + Math.cos(lat1) * Math.cos(lat2) * Math.sin(halfDeltaLon) * Math.sin(halfDeltaLon);\n\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n      return this.R * c;\n    }\n  },\n\n  // Scale factor for converting between real metres and projected metres\n  //\n  // projectedMetres = realMetres * pointScale\n  // realMetres = projectedMetres / pointScale\n  //\n  // Defaults to a scale factor of 1 if no calculation method exists\n  //\n  // Probably need to run this through the CRS transformation or similar so the\n  // resulting scale is relative to the dimensions of the world space\n  // Eg. 1 metre in projected space is likly scaled up or down to some other\n  // number\n  pointScale: function(latlon, accurate) {\n    return (this.projection.pointScale) ? this.projection.pointScale(latlon, accurate) : [1, 1];\n  },\n\n  // Convert real metres to projected units\n  //\n  // Latitude scale is chosen because it fluctuates more than longitude\n  metresToProjected: function(metres, pointScale) {\n    return metres * pointScale[1];\n  },\n\n  // Convert projected units to real metres\n  //\n  // Latitude scale is chosen because it fluctuates more than longitude\n  projectedToMetres: function(projectedUnits, pointScale) {\n    return projectedUnits / pointScale[1];\n  },\n\n  // Convert real metres to a value in world (WebGL) units\n  metresToWorld: function(metres, pointScale, zoom) {\n    // Transform metres to projected metres using the latitude point scale\n    //\n    // Latitude scale is chosen because it fluctuates more than longitude\n    var projectedMetres = this.metresToProjected(metres, pointScale);\n\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    // Scale projected metres\n    var scaledMetres = (scale * (this.transformScale * projectedMetres)) / pointScale[1];\n\n    return scaledMetres;\n  },\n\n  // Convert world (WebGL) units to a value in real metres\n  worldToMetres: function(worldUnits, pointScale, zoom) {\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    var projectedUnits = ((worldUnits / scale) / this.transformScale) * pointScale[1];\n    var realMetres = this.projectedToMetres(projectedUnits, pointScale);\n\n    return realMetres;\n  }\n};\n\nexport default extend({}, CRS, Earth);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/CRS.Earth.js\n **/","/*\n * CRS is the base object for all defined CRS (Coordinate Reference Systems)\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.js\n */\n\nimport wrapNum from '../../util/wrapNum';\n\nconst CRS = {\n  // Scale factor determines final dimensions of world space\n  //\n  // Projection transformation in range -1 to 1 is multiplied by scale factor to\n  // find final world coordinates\n  //\n  // Scale factor can be considered as half the amount of the desired dimension\n  // for the largest side when transformation is equal to 1 or -1, or as the\n  // distance between 0 and 1 on the largest side\n  //\n  // For example, if you want the world dimensions to be between -1000 and 1000\n  // then the scale factor will be 1000\n  scaleFactor: 1000,\n\n  // Converts geo coords to pixel / WebGL ones\n  latLonToPoint: function(latlon, zoom) {\n    var projectedPoint = this.projection.project(latlon);\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    return this.transformation._transform(projectedPoint, scale);\n  },\n\n  // Converts pixel / WebGL coords to geo coords\n  pointToLatLon: function(point, zoom) {\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    var untransformedPoint = this.transformation.untransform(point, scale);\n\n    return this.projection.unproject(untransformedPoint);\n  },\n\n  // Converts geo coords to projection-specific coords (e.g. in meters)\n  project: function(latlon) {\n    return this.projection.project(latlon);\n  },\n\n  // Converts projected coords to geo coords\n  unproject: function(point) {\n    return this.projection.unproject(point);\n  },\n\n  // If zoom is provided, returns the map width in pixels for a given zoom\n  // Else, provides fixed scale value\n  scale: function(zoom) {\n    // If zoom is provided then return scale based on map tile zoom\n    if (zoom >= 0) {\n      return 256 * Math.pow(2, zoom);\n    // Else, return fixed scale value to expand projected coordinates from\n    // their 0 to 1 range into something more practical\n    } else {\n      return this.scaleFactor;\n    }\n  },\n\n  // Returns zoom level for a given scale value\n  // This only works with a scale value that is based on map pixel width\n  zoom: function(scale) {\n    return Math.log(scale / 256) / Math.LN2;\n  },\n\n  // Returns the bounds of the world in projected coords if applicable\n  getProjectedBounds: function(zoom) {\n    if (this.infinite) { return null; }\n\n    var b = this.projection.bounds;\n    var s = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      s /= 2;\n    }\n\n    // Bottom left\n    var min = this.transformation.transform(b[0], s);\n\n    // Top right\n    var max = this.transformation.transform(b[1], s);\n\n    return [min, max];\n  },\n\n  // Whether a coordinate axis wraps in a given range (e.g. longitude from -180 to 180); depends on CRS\n  // wrapLon: [min, max],\n  // wrapLat: [min, max],\n\n  // If true, the coordinate space will be unbounded (infinite in all directions)\n  // infinite: false,\n\n  // Wraps geo coords in certain ranges if applicable\n  wrapLatLon: function(latlon) {\n    var lat = this.wrapLat ? wrapNum(latlon[0], this.wrapLat, true) : latlon[0];\n    var lng = this.wrapLon ? wrapNum(latlon[1], this.wrapLon, true) : latlon[1];\n    var alt = latlon[2];\n\n    return [lat, lng, alt];\n  }\n};\n\nexport default CRS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/CRS.js\n **/","/*\n * Wrap the given number to lie within a certain range (eg. longitude)\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/core/Util.js\n */\n\nconst wrapNum = function(x, range, includeMax) {\n  var max = range[1];\n  var min = range[0];\n  var d = max - min;\n  return x === max && includeMax ? x : ((x - min) % d + d) % d + min;\n};\n\nexport default wrapNum;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/wrapNum.js\n **/","/*\n * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS\n * used by default.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.SphericalMercator.js\n */\n\nconst SphericalMercator = {\n  // Radius / WGS84 semi-major axis\n  R: 6378137,\n  MAX_LATITUDE: 85.0511287798,\n\n  // WGS84 eccentricity\n  ECC: 0.081819191,\n  ECC2: 0.081819191 * 0.081819191,\n\n  project: function(latlon) {\n    var d = Math.PI / 180;\n    var max = this.MAX_LATITUDE;\n    var lat = Math.max(Math.min(max, latlon[0]), -max);\n    var sin = Math.sin(lat * d);\n\n    return [\n      this.R * latlon[1] * d,\n      this.R * Math.log((1 + sin) / (1 - sin)) / 2\n    ];\n  },\n\n  unproject: function(point) {\n    var d = 180 / Math.PI;\n\n    return [\n      (2 * Math.atan(Math.exp(point[1] / this.R)) - (Math.PI / 2)) * d,\n      point[0] * d / this.R\n    ];\n  },\n\n  // Scale factor for converting between real metres and projected metres\n  //\n  // projectedMetres = realMetres * pointScale\n  // realMetres = projectedMetres / pointScale\n  //\n  // Accurate scale factor uses proper Web Mercator scaling\n  // See pg.9: http://www.hydrometronics.com/downloads/Web%20Mercator%20-%20Non-Conformal,%20Non-Mercator%20(notes).pdf\n  // See: http://jsfiddle.net/robhawkes/yws924cf/\n  pointScale: function(latlon, accurate) {\n    var rad = Math.PI / 180;\n\n    var k;\n\n    if (!accurate) {\n      k = 1 / Math.cos(latlon[0] * rad);\n\n      // [scaleX, scaleY]\n      return [k, k];\n    } else {\n      var lat = latlon[0] * rad;\n      var lon = latlon[1] * rad;\n\n      var a = this.R;\n\n      var sinLat = Math.sin(lat);\n      var sinLat2 = sinLat * sinLat;\n\n      var cosLat = Math.cos(lat);\n\n      // Radius meridian\n      var p = a * (1 - this.ECC2) / Math.pow(1 - this.ECC2 * sinLat2, 3 / 2);\n\n      // Radius prime meridian\n      var v = a / Math.sqrt(1 - this.ECC2 * sinLat2);\n\n      // Scale N/S\n      var h = (a / p) / cosLat;\n\n      // Scale E/W\n      k = (a / v) / cosLat;\n\n      // [scaleX, scaleY]\n      return [k, h];\n    }\n  },\n\n  // Not using this.R due to scoping\n  bounds: (function() {\n    var d = 6378137 * Math.PI;\n    return [[-d, -d], [d, d]];\n  })()\n};\n\nexport default SphericalMercator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.SphericalMercator.js\n **/","/*\n * Transformation is an utility class to perform simple point transformations\n * through a 2d-matrix.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geometry/Transformation.js\n */\n\nclass Transformation {\n  constructor(a, b, c, d) {\n    this._a = a;\n    this._b = b;\n    this._c = c;\n    this._d = d;\n  }\n\n  transform(point, scale) {\n    // Copy input point as to not destroy the original data\n    return this._transform([point[0], point[1]], scale);\n  }\n\n  // Destructive transform (faster)\n  _transform(point, scale) {\n    scale = scale || 1;\n\n    point[0] = scale * (this._a * point[0] + this._b);\n    point[1] = scale * (this._c * point[1] + this._d);\n    return point;\n  }\n\n  untransform(point, scale) {\n    scale = scale || 1;\n    return [\n      (point[0] / scale - this._b) / this._a,\n      (point[1] / scale - this._d) / this._c\n    ];\n  }\n}\n\nexport default Transformation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/Transformation.js\n **/","/*\n * CRS.EPSG3395 (WGS 84 / World Mercator) CRS implementation.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG3395.js\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport Mercator from '../projection/Projection.Mercator';\nimport Transformation from '../../util/Transformation';\n\nvar _EPSG3395 = {\n  code: 'EPSG:3395',\n  projection: Mercator,\n\n  // Work out how to de-dupe this (scoping issue)\n  transformScale: 1 / (Math.PI * Mercator.R),\n\n  // Scale and transformation inputs changed to account for central origin in\n  // WebGL, instead of top-left origin used in Leaflet\n  transformation: (function() {\n    // TODO: Cannot use this.transformScale due to scope\n    var scale = 1 / (Math.PI * Mercator.R);\n\n    return new Transformation(scale, 0, -scale, 0);\n  }())\n};\n\nconst EPSG3395 = extend({}, Earth, _EPSG3395);\n\nexport default EPSG3395;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/CRS.EPSG3395.js\n **/","/*\n * Mercator projection that takes into account that the Earth is not a perfect\n * sphere. Less popular than spherical mercator; used by projections like\n * EPSG:3395.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.Mercator.js\n */\n\nconst Mercator = {\n  // Radius / WGS84 semi-major axis\n  R: 6378137,\n  R_MINOR: 6356752.314245179,\n\n  // WGS84 eccentricity\n  ECC: 0.081819191,\n  ECC2: 0.081819191 * 0.081819191,\n\n  project: function(latlon) {\n    var d = Math.PI / 180;\n    var r = this.R;\n    var y = latlon[0] * d;\n    var tmp = this.R_MINOR / r;\n    var e = Math.sqrt(1 - tmp * tmp);\n    var con = e * Math.sin(y);\n\n    var ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\n    y = -r * Math.log(Math.max(ts, 1E-10));\n\n    return [latlon[1] * d * r, y];\n  },\n\n  unproject: function(point) {\n    var d = 180 / Math.PI;\n    var r = this.R;\n    var tmp = this.R_MINOR / r;\n    var e = Math.sqrt(1 - tmp * tmp);\n    var ts = Math.exp(-point[1] / r);\n    var phi = Math.PI / 2 - 2 * Math.atan(ts);\n\n    for (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\n      con = e * Math.sin(phi);\n      con = Math.pow((1 - con) / (1 + con), e / 2);\n      dphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\n      phi += dphi;\n    }\n\n    return [phi * d, point[0] * d / r];\n  },\n\n  // Scale factor for converting between real metres and projected metres\n  //\n  // projectedMetres = realMetres * pointScale\n  // realMetres = projectedMetres / pointScale\n  //\n  // See pg.8: http://www.hydrometronics.com/downloads/Web%20Mercator%20-%20Non-Conformal,%20Non-Mercator%20(notes).pdf\n  pointScale: function(latlon) {\n    var rad = Math.PI / 180;\n    var lat = latlon[0] * rad;\n    var sinLat = Math.sin(lat);\n    var sinLat2 = sinLat * sinLat;\n    var cosLat = Math.cos(lat);\n\n    var k = Math.sqrt(1 - this.ECC2 * sinLat2) / cosLat;\n\n    // [scaleX, scaleY]\n    return [k, k];\n  },\n\n  bounds: [[-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]]\n};\n\nexport default Mercator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.Mercator.js\n **/","/*\n * CRS.EPSG4326 is a CRS popular among advanced GIS specialists.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG4326.js\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport LatLon from '../projection/Projection.LatLon';\nimport Transformation from '../../util/Transformation';\n\nvar _EPSG4326 = {\n  code: 'EPSG:4326',\n  projection: LatLon,\n\n  // Work out how to de-dupe this (scoping issue)\n  transformScale: 1 / 180,\n\n  // Scale and transformation inputs changed to account for central origin in\n  // WebGL, instead of top-left origin used in Leaflet\n  //\n  // TODO: Cannot use this.transformScale due to scope\n  transformation: new Transformation(1 / 180, 0, -1 / 180, 0)\n};\n\nconst EPSG4326 = extend({}, Earth, _EPSG4326);\n\nexport default EPSG4326;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/CRS.EPSG4326.js\n **/","/*\n * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326\n * and Simple.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.LonLat.js\n */\n\nconst LatLon = {\n  project: function(latlon) {\n    return [latlon[1], latlon[0]];\n  },\n\n  unproject: function(point) {\n    return [point[1], point[0]];\n  },\n\n  // Scale factor for converting between real metres and degrees\n  //\n  // degrees = realMetres * pointScale\n  // realMetres = degrees / pointScale\n  //\n  // See: http://stackoverflow.com/questions/639695/how-to-convert-latitude-or-longitude-to-meters\n  // See: http://gis.stackexchange.com/questions/75528/length-of-a-degree-where-do-the-terms-in-this-formula-come-from\n  pointScale: function(latlon) {\n    var m1 = 111132.92;\n    var m2 = -559.82;\n    var m3 = 1.175;\n    var m4 = -0.0023;\n    var p1 = 111412.84;\n    var p2 = -93.5;\n    var p3 = 0.118;\n\n    var rad = Math.PI / 180;\n    var lat = latlon[0] * rad;\n\n    var latlen = m1 + m2 * Math.cos(2 * lat) + m3 * Math.cos(4 * lat) + m4 * Math.cos(6 * lat);\n    var lonlen = p1 * Math.cos(lat) + p2 * Math.cos(3 * lat) + p3 * Math.cos(5 * lat);\n\n    return [1 / latlen, 1 / lonlen];\n  },\n\n  bounds: [[-180, -90], [180, 90]]\n};\n\nexport default LatLon;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.LatLon.js\n **/","/*\n * A simple CRS that can be used for flat non-Earth maps like panoramas or game\n * maps.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.Simple.js\n */\n\nimport extend from 'lodash.assign';\nimport CRS from './CRS';\nimport LatLon from '../projection/Projection.LatLon';\nimport Transformation from '../../util/Transformation';\n\nvar _Simple = {\n  projection: LatLon,\n\n  // Straight 1:1 mapping (-1, -1 would be top-left)\n  transformation: new Transformation(1, 0, 1, 0),\n\n  scale: function(zoom) {\n    // If zoom is provided then return scale based on map tile zoom\n    if (zoom) {\n      return Math.pow(2, zoom);\n    // Else, make no change to scale  may need to increase this or make it a\n    // user-definable variable\n    } else {\n      return 1;\n    }\n  },\n\n  zoom: function(scale) {\n    return Math.log(scale) / Math.LN2;\n  },\n\n  distance: function(latlon1, latlon2) {\n    var dx = latlon2[1] - latlon1[1];\n    var dy = latlon2[0] - latlon1[0];\n\n    return Math.sqrt(dx * dx + dy * dy);\n  },\n\n  infinite: true\n};\n\nconst Simple = extend({}, CRS, _Simple);\n\nexport default Simple;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/CRS.Simple.js\n **/","/*\n * CRS.Proj4 for any Proj4-supported CRS.\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport Proj4Projection from '../projection/Projection.Proj4';\nimport Transformation from '../../util/Transformation';\n\nvar _Proj4 = function(code, def, bounds) {\n  var projection = Proj4Projection(def, bounds);\n\n  // Transformation calcuations\n  var diffX = projection.bounds[1][0] - projection.bounds[0][0];\n  var diffY = projection.bounds[1][1] - projection.bounds[0][1];\n\n  var halfX = diffX / 2;\n  var halfY = diffY / 2;\n\n  // This is the raw scale factor\n  var scaleX = 1 / halfX;\n  var scaleY = 1 / halfY;\n\n  // Find the minimum scale factor\n  //\n  // The minimum scale factor comes from the largest side and is the one\n  // you want to use for both axis so they stay relative in dimension\n  var scale = Math.min(scaleX, scaleY);\n\n  // Find amount to offset each axis by to make the central point lie on\n  // the [0,0] origin\n  var offsetX = scale * (projection.bounds[0][0] + halfX);\n  var offsetY = scale * (projection.bounds[0][1] + halfY);\n\n  return {\n    code: code,\n    projection: projection,\n\n    transformScale: scale,\n\n    // Map the input to a [-1,1] range with [0,0] in the centre\n    transformation: new Transformation(scale, -offsetX, -scale, offsetY)\n  };\n};\n\nconst Proj4 = function(code, def, bounds) {\n  return extend({}, Earth, _Proj4(code, def, bounds));\n};\n\nexport default Proj4;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/CRS/CRS.Proj4.js\n **/","/*\n * Proj4 support for any projection.\n */\n\nimport proj4 from 'proj4';\n\nconst Proj4 = function(def, bounds) {\n  var proj = proj4(def);\n\n  var project = function(latlon) {\n    return proj.forward([latlon[1], latlon[0]]);\n  };\n\n  var unproject = function(point) {\n    var inverse = proj.inverse(point);\n    return [inverse[1], inverse[0]];\n  };\n\n  return {\n    project: project,\n    unproject: unproject,\n\n    // Scale factor for converting between real metres and projected metres\\\n    //\n    // Need to work out the best way to provide the pointScale calculations\n    // for custom, unknown projections (if wanting to override default)\n    //\n    // For now, user can manually override crs.pointScale or\n    // crs.projection.pointScale\n    //\n    // projectedMetres = realMetres * pointScale\n    // realMetres = projectedMetres / pointScale\n    pointScale: function(latlon, accurate) {\n      return [1, 1];\n    },\n\n    // Try and calculate bounds if none are provided\n    //\n    // This will provide incorrect bounds for some projections, so perhaps make\n    // bounds a required input instead\n    bounds: (function() {\n      if (bounds) {\n        return bounds;\n      } else {\n        var bottomLeft = project([-90, -180]);\n        var topRight = project([90, 180]);\n\n        return [bottomLeft, topRight];\n      }\n    })()\n  };\n};\n\nexport default Proj4;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.Proj4.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"proj4\"\n ** module id = 20\n ** module chunks = 0\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport Scene from './Scene';\nimport Renderer from './Renderer';\nimport Camera from './Camera';\n\nclass Engine extends EventEmitter {\n  constructor(container) {\n    console.log('Init Engine');\n\n    super();\n\n    this._scene = Scene;\n    this._renderer = Renderer(container);\n    this._camera = Camera(container);\n    this.clock = new THREE.Clock();\n  }\n\n  _update(delta) {\n    this.emit('preRender');\n    this._renderer.render(this._scene, this._camera);\n    this.emit('postRender');\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(container) {\n  return new Engine(container);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Engine.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"THREE\"\n ** module id = 22\n ** module chunks = 0\n **/","import THREE from 'three';\n\n// This can be imported from anywhere and will still reference the same scene,\n// though there is a helper reference in Engine.scene\n\nexport default (function() {\n  var scene = new THREE.Scene();\n  scene.fog = new THREE.Fog(0xffffff, 1, 15000);\n  return scene;\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Scene.js\n **/","import THREE from 'three';\nimport Scene from './Scene';\n\n// This can only be accessed from Engine.renderer if you want to reference the\n// same scene in multiple places\n\nexport default function(container) {\n  var renderer = new THREE.WebGLRenderer({\n    antialias: true\n  });\n\n  renderer.setClearColor(Scene.fog.color, 1);\n\n  // Gamma settings make things look nicer\n  renderer.gammaInput = true;\n  renderer.gammaOutput = true;\n\n  container.appendChild(renderer.domElement);\n\n  var updateSize = function() {\n    renderer.setSize(container.clientWidth, container.clientHeight);\n  };\n\n  window.addEventListener('resize', updateSize, false);\n  updateSize();\n\n  return renderer;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Renderer.js\n **/","import THREE from 'three';\n\n// This can only be accessed from Engine.camera if you want to reference the\n// same scene in multiple places\n\nexport default function(container) {\n  var camera = new THREE.PerspectiveCamera(40, 1, 1, 40000);\n  camera.position.z = 400;\n\n  var updateSize = function() {\n    camera.aspect = container.clientWidth / container.clientHeight;\n    camera.updateProjectionMatrix();\n  };\n\n  window.addEventListener('resize', updateSize, false);\n  updateSize();\n\n  return camera;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Camera.js\n **/","import Orbit from './Controls.Orbit';\n\nconst Controls = {\n  Orbit: Orbit\n};\n\nexport default Controls;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/index.js\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport OrbitControls from 'three-orbit-controls';\n\nvar _OrbitControls = OrbitControls(THREE);\n\nclass Orbit extends EventEmitter {\n  constructor() {\n    super();\n  }\n\n  // Proxy control events\n  //\n  // There's currently no distinction between pan, orbit and zoom events\n  _initEvents() {\n    this._controls.addEventListener('start', (event) => {\n      this._world.emit('controlsMoveStart', event.target.center);\n    });\n\n    this._controls.addEventListener('change', (event) => {\n      this._world.emit('controlsMove', event.target.center);\n    });\n\n    this._controls.addEventListener('end', (event) => {\n      this._world.emit('controlsMoveEnd', event.target.center);\n    });\n  }\n\n  // Moving the camera along the [x,y,z] axis based on a target position\n  _panTo(point, animate) {}\n  _panBy(pointDelta, animate) {}\n\n  // Zooming the camera in and out\n  _zoomTo(metres, animate) {}\n  _zoomBy(metresDelta, animate) {}\n\n  // Force camera to look at something other than the target\n  _lookAt(point, animate) {}\n\n  // Make camera look at the target\n  _lookAtTarget() {}\n\n  // Tilt (up and down)\n  _tiltTo(angle, animate) {}\n  _tiltBy(angleDelta, animate) {}\n\n  // Rotate (left and right)\n  _rotateTo(angle, animate) {}\n  _rotateBy(angleDelta, animate) {}\n\n  // Fly to the given point, animating pan and tilt/rotation to final position\n  // with nice zoom out and in\n  //\n  // Calling flyTo a second time before the previous animation has completed\n  // will immediately start the new animation from wherever the previous one\n  // has got to\n  _flyTo(point, noZoom) {}\n\n  // Proxy to OrbitControls.update()\n  update() {\n    this._controls.update();\n  }\n\n  // Add controls to world instance and store world reference\n  addTo(world) {\n    world.addControls(this);\n    return this;\n  }\n\n  // Internal method called by World.addControls to actually add the controls\n  _addToWorld(world) {\n    this._world = world;\n\n    // TODO: Override panLeft and panUp methods to prevent panning on Y axis\n    // See: http://stackoverflow.com/a/26188674/997339\n    this._controls = new _OrbitControls(world._engine._camera, world._container);\n\n    this._controls.maxPolarAngle = Math.PI / 2;\n\n    // this._controls.enableDamping = true;\n    // this._controls.dampingFactor = 0.25;\n\n    this._initEvents();\n\n    this.emit('added');\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function() {\n  return new Orbit();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/Controls.Orbit.js\n **/","module.exports = function(THREE) {\n\tvar MOUSE = THREE.MOUSE\n\tif (!MOUSE)\n\t\tMOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\n\n\t/**\n\t * @author qiao / https://github.com/qiao\n\t * @author mrdoob / http://mrdoob.com\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author erich666 / http://erichaines.com\n\t */\n\t/*global THREE, console */\n\n\tfunction OrbitConstraint ( object ) {\n\n\t\tthis.object = object;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\t// and where it pans with respect to.\n\t\tthis.target = new THREE.Vector3();\n\n\t\t// Limits to how far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// Limits to how far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\t////////////\n\t\t// internals\n\n\t\tvar scope = this;\n\n\t\tvar EPS = 0.000001;\n\n\t\t// Current position in spherical coordinate system.\n\t\tvar theta;\n\t\tvar phi;\n\n\t\t// Pending changes\n\t\tvar phiDelta = 0;\n\t\tvar thetaDelta = 0;\n\t\tvar scale = 1;\n\t\tvar panOffset = new THREE.Vector3();\n\t\tvar zoomChanged = false;\n\n\t\t// API\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn theta;\n\n\t\t};\n\n\t\tthis.rotateLeft = function ( angle ) {\n\n\t\t\tthetaDelta -= angle;\n\n\t\t};\n\n\t\tthis.rotateUp = function ( angle ) {\n\n\t\t\tphiDelta -= angle;\n\n\t\t};\n\n\t\t// pass in distance in world space to move left\n\t\tthis.panLeft = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t  return function panLeft(distance) {\n\t\t    var te = this.object.matrix.elements;\n\t\t    var adjDist = distance / Math.cos(phi);\n\n\t\t    v.set(te[ 0 ], 0, te[ 2 ]).normalize();\n\t\t    v.multiplyScalar(-adjDist);\n\n\t\t    panOffset.add(v);\n\t\t  };\n\n\t\t}();\n\n\t\t// pass in distance in world space to move up\n\t\tthis.panUp = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t  return function panUp(distance) {\n\t\t    var te = this.object.matrix.elements;\n\t\t    var adjDist = distance / Math.cos(phi);\n\n\t\t    v.set(te[ 8 ], 0, te[ 10 ]).normalize();\n\t\t    v.multiplyScalar(-adjDist);\n\n\t\t    panOffset.add(v);\n\t\t  };\n\n\t\t}();\n\n\t\t// pass in x,y of change desired in pixel space,\n\t\t// right and down are positive\n\t\tthis.pan = function ( deltaX, deltaY, screenWidth, screenHeight ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tscope.panLeft( 2 * deltaX * targetDistance / screenHeight );\n\t\t\t\tscope.panUp( 2 * deltaY * targetDistance / screenHeight );\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tscope.panLeft( deltaX * ( scope.object.right - scope.object.left ) / screenWidth );\n\t\t\t\tscope.panUp( deltaY * ( scope.object.top - scope.object.bottom ) / screenHeight );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic or perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dollyIn = function ( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dollyOut = function ( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.update = function() {\n\n\t\t\tvar offset = new THREE.Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\tvar lastPosition = new THREE.Vector3();\n\t\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\t\treturn function () {\n\n\t\t\t\tvar position = this.object.position;\n\n\t\t\t\toffset.copy( position ).sub( this.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\n\t\t\t\ttheta = Math.atan2( offset.x, offset.z );\n\n\t\t\t\t// angle from y-axis\n\n\t\t\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\t\t\ttheta += thetaDelta;\n\t\t\t\tphi += phiDelta;\n\n\t\t\t\t// restrict theta to be between desired limits\n\t\t\t\ttheta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n\t\t\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\t\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\t\t\tvar radius = offset.length() * scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n\t\t\t\t// move target to panned location\n\t\t\t\tthis.target.add( panOffset );\n\n\t\t\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\t\t\toffset.y = radius * Math.cos( phi );\n\t\t\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( this.target ).add( offset );\n\n\t\t\t\tthis.object.lookAt( this.target );\n\n\t\t\t\tif ( this.enableDamping === true ) {\n\n\t\t\t\t\tthetaDelta *= ( 1 - this.dampingFactor );\n\t\t\t\t\tphiDelta *= ( 1 - this.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthetaDelta = 0;\n\t\t\t\t\tphiDelta = 0;\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\t lastPosition.distanceToSquared( this.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tlastPosition.copy( this.object.position );\n\t\t\t\t\tlastQuaternion.copy( this.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t};\n\n\n\t// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n\t// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n\t// supported.\n\t//\n\t//    Orbit - left mouse / touch: one finger move\n\t//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n\t//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n\tfunction OrbitControls ( object, domElement ) {\n\n\t\tvar constraint = new OrbitConstraint( object );\n\n\t\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t\t// API\n\n\t\tObject.defineProperty( this, 'constraint', {\n\n\t\t\tget: function() {\n\n\t\t\t\treturn constraint;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn constraint.getPolarAngle();\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn constraint.getAzimuthalAngle();\n\n\t\t};\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// center is old, deprecated; use \"target\" instead\n\t\tthis.center = this.target;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t\t// backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t\t// Set to false to disable use of the keys\n\t\tthis.enableKeys = true;\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t\t////////////\n\t\t// internals\n\n\t\tvar scope = this;\n\n\t\tvar rotateStart = new THREE.Vector2();\n\t\tvar rotateEnd = new THREE.Vector2();\n\t\tvar rotateDelta = new THREE.Vector2();\n\n\t\tvar panStart = new THREE.Vector2();\n\t\tvar panEnd = new THREE.Vector2();\n\t\tvar panDelta = new THREE.Vector2();\n\n\t\tvar dollyStart = new THREE.Vector2();\n\t\tvar dollyEnd = new THREE.Vector2();\n\t\tvar dollyDelta = new THREE.Vector2();\n\n\t\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\t\tvar state = STATE.NONE;\n\n\t\t// for reset\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// events\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\t// pass in x,y of change desired in pixel space,\n\t\t// right and down are positive\n\t\tfunction pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tconstraint.pan( deltaX, deltaY, element.clientWidth, element.clientHeight );\n\n\t\t}\n\n\t\tthis.update = function () {\n\n\t\t\tif ( this.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\tconstraint.rotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( constraint.update() === true ) {\n\n\t\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tstate = STATE.NONE;\n\n\t\t\tthis.target.copy( this.target0 );\n\t\t\tthis.object.position.copy( this.position0 );\n\t\t\tthis.object.zoom = this.zoom0;\n\n\t\t\tthis.object.updateProjectionMatrix();\n\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\tthis.update();\n\n\t\t};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) scope.update();\n\n\t\t}\n\n\t\tfunction onMouseUp( /* event */ ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\t\tscope.dispatchEvent( endEvent );\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar delta = 0;\n\n\t\t\tif ( event.wheelDelta !== undefined ) {\n\n\t\t\t\t// WebKit / Opera / Explorer 9\n\n\t\t\t\tdelta = event.wheelDelta;\n\n\t\t\t} else if ( event.detail !== undefined ) {\n\n\t\t\t\t// Firefox\n\n\t\t\t\tdelta = - event.detail;\n\n\t\t\t}\n\n\t\t\tif ( delta > 0 ) {\n\n\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t} else if ( delta < 0 ) {\n\n\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\t\t\tscope.dispatchEvent( startEvent );\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\t\tswitch ( event.keyCode ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction touchstart( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t\tfunction touchmove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\n\t\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\n\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\n\t\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction touchend( /* event */ ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tscope.dispatchEvent( endEvent );\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction contextmenu( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tthis.dispose = function() {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\t\tthis.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\n\t\t\tthis.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t\t\tthis.domElement.removeEventListener( 'touchstart', touchstart, false );\n\t\t\tthis.domElement.removeEventListener( 'touchend', touchend, false );\n\t\t\tthis.domElement.removeEventListener( 'touchmove', touchmove, false );\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t}\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\n\t\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\t\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\t\tthis.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\t\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\t\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\t\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t\t// force an update at start\n\t\tthis.update();\n\n\t};\n\n\tOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\tOrbitControls.prototype.constructor = OrbitControls;\n\n\tObject.defineProperties( OrbitControls.prototype, {\n\n\t\tobject: {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.object;\n\n\t\t\t}\n\n\t\t},\n\n\t\ttarget: {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.target;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: target is now immutable. Use target.set() instead.' );\n\t\t\t\tthis.constraint.target.copy( value );\n\n\t\t\t}\n\n\t\t},\n\n\t\tminDistance : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minDistance;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minDistance = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxDistance : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxDistance;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxDistance = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminZoom : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minZoom = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxZoom : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxZoom = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminPolarAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minPolarAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minPolarAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxPolarAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxPolarAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxPolarAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminAzimuthAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minAzimuthAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minAzimuthAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxAzimuthAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxAzimuthAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxAzimuthAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tenableDamping : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.enableDamping = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.dampingFactor = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// backward compatibility\n\n\t\tnoZoom: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\treturn ! this.enableZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\tthis.enableZoom = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoRotate: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\treturn ! this.enableRotate;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\tthis.enableRotate = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoPan: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\treturn ! this.enablePan;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\tthis.enablePan = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoKeys: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\treturn ! this.enableKeys;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\tthis.enableKeys = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tstaticMoving : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\treturn ! this.constraint.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\tthis.constraint.enableDamping = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdynamicDampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\treturn this.constraint.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\tthis.constraint.dampingFactor = value;\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\treturn OrbitControls;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/three-orbit-controls/index.js\n ** module id = 28\n ** module chunks = 0\n **/","import Layer from '../Layer';\nimport THREE from 'three';\n\nclass EnvironmentLayer extends Layer {\n  constructor() {\n    super();\n\n    this._initLights();\n    this._initGrid();\n  }\n\n  // Not fleshed out or thought through yet\n  //\n  // Lights could potentially be put it their own 'layer' to keep this class\n  // much simpler and less messy\n  _initLights() {\n    // Position doesn't really matter (the angle is important), however it's\n    // used here so the helpers look more natural.\n\n    var directionalLight = new THREE.DirectionalLight(0x999999);\n    directionalLight.intesity = 0.1;\n    directionalLight.position.x = 100;\n    directionalLight.position.y = 100;\n    directionalLight.position.z = 100;\n\n    var directionalLight2 = new THREE.DirectionalLight(0x999999);\n    directionalLight2.intesity = 0.1;\n    directionalLight2.position.x = -100;\n    directionalLight2.position.y = 100;\n    directionalLight2.position.z = -100;\n\n    var helper = new THREE.DirectionalLightHelper(directionalLight, 10);\n    var helper2 = new THREE.DirectionalLightHelper(directionalLight2, 10);\n\n    this._layer.add(directionalLight);\n    this._layer.add(directionalLight2);\n\n    this._layer.add(helper);\n    this._layer.add(helper2);\n  }\n\n  // Add grid helper for context during initial development\n  _initGrid() {\n    var size = 4000;\n    var step = 100;\n\n    var gridHelper = new THREE.GridHelper(size, step);\n    this._layer.add(gridHelper);\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function() {\n  return new EnvironmentLayer();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/environment/EnvironmentLayer.js\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport Scene from '../engine/Scene';\n\nclass Layer extends EventEmitter {\n  constructor() {\n    super();\n\n    this._layer = new THREE.Object3D();\n  }\n\n  // Add layer to world instance and store world reference\n  addTo(world) {\n    world.addLayer(this);\n    return this;\n  }\n\n  // Internal method called by World.addLayer to actually add the layer\n  _addToWorld(world) {\n    this._world = world;\n    this.emit('added');\n  }\n}\n\nexport default Layer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/Layer.js\n **/"],"sourceRoot":"/source/"}